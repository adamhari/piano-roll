@import './_fonts';
@import './_mixins';
@import './_variables';
@import './_reset';

html {
  font-size:32px; //global scale
  -webkit-font-smoothing: antialiased;
}

/***************************************
************** LAYOUT ******************
****************************************/

#pr-container{
  display:flex;
  // justify-content:center;
  align-items:center;
  height:100vh;
}

#pr-piano {
  user-select:none;
  display:flex;
  background-color:$color-piano-plastic;
  padding:0rem 3rem 0.25rem 0rem;
  
  border: $normal-border;
  border-top-left-radius:1.5rem 1.2rem;
  border-top-right-radius:1.5rem 1.2rem;
  border-bottom-left-radius:.8rem .8rem;
  border-bottom-right-radius:.8rem .8rem;
}

#pr-piano-left{
  text-align:center;
  display:flex;
  align-items:center;
}

#pr-piano-top-left{
  padding:0 3rem;
}

#pr-piano-right-top{
  height:14rem;
  display:flex;
  align-items:center;

  #pr-master-section{
    #pr-logo-section{
      cursor:default;
      position:relative;
      color:$color-piano-label;
      text-align:left;
  
      width:14rem;
      height:4.375rem;
      padding:0 0 0 0.375rem;
  
      #pr-logo {
        // font-family:"Heroic Avenger", sans-serif;
        // font-size:2.5rem;
  
        width:12rem;
      }
    
      #pr-logo-subtext {
        position:absolute;
        left:0.09375rem;
        line-height:1.25;
        text-transform:uppercase;
        font-style:italic;
        font-weight:600;
        letter-spacing:0.125rem;
  
        #pr-logo-subtext-bold{
          display:inline-block;
          font-weight:800;
          font-size:1.0625rem;
          letter-spacing:-0.0375rem;
          padding-right:0.0625rem;
        }
      }
    }
    #pr-master-controls {
      text-align:left;
      margin:0.75rem 0 0;
    }
  }


}

#pr-piano-right-bottom{

}

#pr-piano-top-controls {
  display:flex;
  justify-content:flex-start;
  align-items:center;
  text-align:center;
}

/***************************************
************* CONTROLS *****************
****************************************/

.pr-digital-control {
  position:relative;
  display:flex;
  flex-flow:column wrap;
  justify-content:center;
  align-items:center;

  border: solid transparent 0.375rem;
  border-top-width:0;
  border-radius:0.1875rem;

  user-select:none;

  &.pr-digital-control-outlined{
      border-color:$color-piano-label;
      border-width:0.1875rem;
      border-top-width:0;
      background-color:$color-piano-label;

      margin:0 0.25rem;
      top:0.1875rem;

      .pr-digital-control-label {
        color:$color-piano-plastic;
        background:$color-piano-label;
      }

      .pr-digital-control-input-container{
        padding:0 0.5rem 0.5rem 0.5rem;
        background:$color-piano-plastic;
      }

      .pr-digital-control-input{
        padding:0 0.5rem 0.5rem 0.5rem;
      }
  }

  .pr-digital-control-label {
    @include label-text;
    padding:0.125rem 0 0.09375rem;
    width:calc(100% + 1px);
  }

  .pr-digital-control-input {
    position:relative;
    font-family: "DS Digital", monospace;
    font-size:2rem;
    
    border:$normal-border;
    border-bottom-color:#3a3a3a;
    border-top-color:#3a3a3a;
    color:transparent;
    background-color: $color-digital-background;
    margin:0.5rem 0.09375rem 0 0.125rem;

    &.single-digit{
      width:2.75rem;
      padding:0.375rem 0rem 0.375rem 0.5rem;
    }

    &.single-digit-negative{
      width:3.375rem;
      padding:0.375rem 0rem 0.375rem 0.25rem;
    }
  }

  .pr-digital-control-input-background,
  .pr-digital-control-input-foreground {
    position:absolute;
    top:-0.59375rem;
    left:-0.53125rem;
    background:none;
    border-color:transparent;
  }

  .pr-digital-control-input-background {
    color:rgba($color-digital-text, 0.625);
    opacity:0.1875;
    text-shadow: 
      0.03125rem 0.03125rem 0rem rgba(98, 145, 131, 0.5)
  }

  .pr-digital-control-input-foreground {
    color:rgba($color-digital-text, 0.9375);
    text-shadow:
      0 0 0.625rem rgba($color-digital-text,0.625),
      0 0 0.375rem rgba($color-digital-text,0.375),
      0 0 0.125rem rgba($color-digital-text,0.25);
    
    &:hover{
      cursor:grab;
    }
  }
}









.pr-knob-container{
  position:relative;
  display:inline-block;
  width:4rem;
  
.pr-knob-control-label {
  @include label-text;
  text-align:center;
}

.pr-knob-control-value {
  display:none;
  position:absolute;
  bottom:-0.75rem;
  right:1.21rem;
  z-index:2;
  width:1.5rem;
  padding:0 0 0.0625rem;
  background-color:rgba(255,255,255,0.625);

  text-align:center;
  font-size:0.5rem;
  font-weight:700;
}

.pr-knob-control {
  cursor:grab;
  
  width: 2.2rem;
  height: 2.2rem;
  margin: 0.4rem auto;
  position: relative;
  
  border-radius: 50%;
  background-color:#222;
  
  box-shadow: inset 0 0 0rem 0.125rem rgba(0,0,0,0.375);
  
}

.pr-knob-control:before {
  content: '';
  display: block;
  box-sizing: border-box;
  
  width: 1.375rem;
  height: 1.375rem;
  margin: auto;
  position: relative;
  top: 50%;
  transform: translateY(-50%);
  
  border-radius: 50%;
  background-color: #ddd;
  background-image:
    linear-gradient(rgba(0,0,0,0) 40%, rgba(0,0,0,0.2)),
    linear-gradient(-100deg, rgba(0,0,0,0) 47%, rgba(0,0,0,0.035) 53%),
    linear-gradient(30deg, rgba(0,0,0,0.035) 47%, rgba(0,0,0,0) 53%),
    linear-gradient(-230deg, rgba(0,0,0,0) 48%, rgba(0,0,0,0.035) 52%),
    linear-gradient(330deg, rgba(0,0,0,0.03) 48%, rgba(0,0,0,0) 52%);
}

.pr-knob-control:after {
  content: '';
  display: block;
  
  width: 0.325rem;
  height: 0.9rem;
  margin: auto;
  position: absolute;
  top: 0.2rem;
  left: 50%;
  transform: translateX(-50%);
  
  background-color:#222;
  
  border-radius:0.5rem;
}
}








/***************************************
************ PIANO KEYS ****************
****************************************/

#pr-piano-keys {
  display:inline-block;
  cursor:pointer;
}

#pr-piano-black-keys{
  display: flex;
  flex-flow:row;
  position:absolute;
}

#pr-piano-white-keys{
  display:flex;
}

.pr-piano-key {
  display: inline-block;
  border: $thin-border;
  border-top: $normal-border;
  border-bottom: $normal-border;

  transition:0.0625s ease-out;
}

.pr-piano-key:first-child{
  border-left:$normal-border;
  border-bottom-left-radius:0.3125rem;
}
.pr-piano-key:last-child{
  border-right:$normal-border;
  border-bottom-right-radius:0.3125rem;
}

.pr-piano-key-white {
  width: 2.3rem;
  height: 12.0rem;
  background:#d7d7d7;

  &.pr-piano-key-active{
    // @include linear-gradient(#c0c0c0, #fff);
    background: #fff;
  }
}

.pr-piano-key-black {
  width: 1.3rem;
  height: 8.0rem;
  border:$normal-border;
  border-bottom-left-radius:.2rem .3rem;
  border-bottom-right-radius: .2rem .3rem;
  background: $color-piano-key-black;
  position:absolute;

  &.pr-piano-key-active{
    // @include linear-gradient(#c0c0c0, #231f20);
    background:#5a5a5a;
  }

  @for $i from 0 through 9 {
    $offset: $octave-width * ($i);

    &:nth-child(#{($i * 5) + 1}) {
      left: #{$offset + 1.433333}rem;
    }
  
    &:nth-child(#{($i * 5) + 2}) {
      left: #{$offset + 4.166666}rem;
    }
  
    &:nth-child(#{($i * 5) + 3}) {
      left: #{$offset + 8.225}rem;
    }
  
    &:nth-child(#{($i * 5) + 4}) {
      left: #{$offset + 10.825}rem;
    }
  
    &:nth-child(#{($i * 5) + 5}){
      left: #{$offset + 13.475}rem;
    }
  }
}

.pr-piano-key-C {
  color: green;
}

.pr-piano-key-C♯ {
  color: green;
}

.pr-piano-key-D {
  color: green;
}

.pr-piano-key-D♯ {
  color: green;
}

.pr-piano-key-E {
  color: green;
}

.pr-piano-key-F {
  color: green;
}

.pr-piano-key-F♯ {
  color: green;
}

.pr-piano-key-G {
  color: green;
}

.pr-piano-key-G♯ {
  color: green;
}

.pr-piano-key-A {
  color: green;
}

.pr-piano-key-A♯ {
  color: green;
}

.pr-piano-key-B {
  color: green;
}
