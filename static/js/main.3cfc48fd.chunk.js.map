{"version":3,"sources":["js/statics.js","components/PianoKey.js","components/PianoKeys.js","components/PianoDigitalControl.js","components/PianoKnobControl.js","components/Piano.js","js/classes/Voice.js","App.js","serviceWorker.js","index.js"],"names":["NOTES","name","freq","Math","pow","KEYS","KEYS_MAP","i","forEach","note","key","octave","push","LAYOUTS","OSC_SHAPES","CONTROL_TYPES","digital","pixelStep","knob","CONTROLS","layout","defaultValue","range","min","max","master","attack","decay","sustain","release","shape","transpose","detune","gain","PianoKey","active","disabled","handleMouseDownPianoKey","handleMouseUpPianoKey","handleMouseOverPianoKey","handleMouseLeavePianoKey","title","className","includes","join","id","tabIndex","onMouseDown","onMouseUp","onMouseOver","onMouseLeave","PianoKeys","props","activeKeys","octaves","blackKeys","whiteKeys","slice","index","substring","length","PianoDigitalControl","handleMouseDownControl","handleMouseUpControl","handleMouseWheelControl","label","outline","type","value","controlTypes","backgroundValue","style","val","styles","left","letterSpacing","htmlFor","children","e","onWheel","PianoKnobControl","activeControl","size","display","getValueStyles","valueForRotate","transform","getKnobStyle","Piano","renderLogo","viewBox","d","fill","fillRule","renderGlobalControls","Voice","audioContext","frequency","initializeOscillators","osc1Gain","createGain","connect","effectChain","osc1","createOscillator","getFrequency","getOscType","start","oscillators","currentTime","setValueAtTime","getGain","stop","this","App","componentDidMount","initializeSoundEngine","registerEvents","document","addEventListener","handleKeyDown","handleKeyUp","handleMouseDown","handleMouseUp","handleMouseLeave","handleMouseOut","preventDefault","console","log","AudioContext","window","webkitAudioContext","destination","baseLatency","Object","keys","state","voices","startAudioContext","audioContextStarted","resume","setState","keyPressed","toLowerCase","pianoKey","activatePianoKey","alternateControl","keyReleased","deactivatePianoKey","mouseDownOnKeys","button","target","startPlayingKey","prevState","stopPlayingKey","filter","k","activeControlType","resetControlValue","activateControl","screenY","deactivateControl","handleMouseMoveControl","event","activeScreenY","movement","abs","change","round","newState","changeControlValue","deltaY","removeEventListener","control","minValue","maxValue","newVal","Number","isInteger","Component","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3cfc48fd.chunk.js","sourcesContent":["// Musical\nexport const BASE_FREQ = 16.3516;\nexport const FREQ_MULTIPLIER = 1.0594630943593;\nexport const NOTES = [\n  {\n    name: \"C\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 0)\n  },\n  {\n    name: \"C♯\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 1)\n  },\n  {\n    name: \"D\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 2)\n  },\n  {\n    name: \"D♯\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 3)\n  },\n  {\n    name: \"E\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 4)\n  },\n  {\n    name: \"F\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 5)\n  },\n  {\n    name: \"F♯\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 6)\n  },\n  {\n    name: \"G\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 7)\n  },\n  {\n    name: \"G♯\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 8)\n  },\n  {\n    name: \"A\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 9)\n  },\n  {\n    name: \"A♯\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 10)\n  },\n  {\n    name: \"B\",\n    freq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 11)\n  }\n];\n\n\nexport const KEYS = [];\nexport const KEYS_MAP = {};\nfor (let i = 0; i < 10; i++) {\n  NOTES.forEach(note => {\n    const key = {\n      name: note.name + i,\n      freq: note.freq * Math.pow(2, i),\n      octave: i\n    };\n    KEYS.push(key);\n    KEYS_MAP[key.name] = key;\n  });\n};\n\n\nexport const LAYOUTS = [\n  { // MAJOR\n    'z': 'C0',\n    'x': 'D0',\n    'c': 'E0',\n    'v': 'F0',\n    'b': 'G0',\n    'n': 'A0',\n    'm': 'B0',\n    'a': 'C1',\n    's': 'D1',\n    'd': 'E1',\n    'f': 'F1',\n    'g': 'G1',\n    'h': 'A1',\n    'j': 'B1',\n    'k': 'C2',\n    'l': 'D2',\n    ';': 'E2',\n    \"'\": 'F2',\n    ',': 'C1',\n    '.': 'D1',\n    '/': 'E1',\n    'q': 'C2',\n    'w': 'D2',\n    'e': 'E2',\n    'r': 'F2',\n    't': 'G2',\n    'y': 'A2',\n    'u': 'B2',\n    'i': 'C3',\n    'o': 'D3',\n    'p': 'E3',\n    '[': 'F3',\n    ']': 'G3',\n    '\\\\': 'A3',\n    'delete' : 'B3'\n  },\n  { // MINOR\n    'z': 'C0',\n    's': 'C♯0',\n    'x': 'D0',\n    'd': 'D♯0',\n    'c': 'E0',\n    'v': 'F0',\n    'g': 'F♯0',\n    'b': 'G0',\n    'h': 'G♯0',\n    'n': 'A0',\n    'j': 'A♯0',\n    'm': 'B0',\n    ',': 'C1',\n    'l': 'C♯1',\n    '.': 'D1',\n    ';': 'D♯1',\n    '/': 'E1',\n    'q': 'C1',\n    '2': 'C♯1',\n    'w': 'D1',\n    '3': 'D♯1',\n    'e': 'E1',\n    'r': 'F1',\n    '5': 'F♯1',\n    't': 'G1',\n    '6': 'G♯1',\n    'y': 'A1',\n    '7': 'A♯1',\n    'u': 'B1',\n    'i': 'C2',\n    '9': 'C♯2',\n    'o': 'D2',\n    '0': 'D♯2',\n    'p': 'E2',\n    '[': 'F2',\n    '=': 'F♯2',\n    ']': 'G2',\n    'backspace': 'G♯2',\n    '\\\\': 'A2',\n    'insert': 'A♯2',\n    'delete': 'B2'\n  }\n]\n\nexport const OSC_SHAPES = [\n  \"sawtooth\",\n  \"square\",\n  \"triangle\",\n  \"sine\"\n]\n\n\nexport const CONTROL_TYPES = {\n  digital: {\n    name: 'digital',\n    pixelStep: 10,\n  },\n  knob: {\n    name: 'knob',\n    pixelStep: 1,\n  }\n}\n\nexport const CONTROLS = {\n  layout: {\n    defaultValue: 0,\n    range: {\n      min: 0,\n      max: 1,\n    }\n  },\n  master: {\n    defaultValue: 50,\n    range: {\n      min: 0,\n      max: 100\n    }\n  },\n  attack: {\n    defaultValue: 50,\n    range: {\n      min: 0,\n      max: 100\n    }\n  },\n  decay: {\n    defaultValue: 50,\n    range: {\n      min: 0,\n      max: 100\n    }\n  },\n  sustain: {\n    defaultValue: 50,\n    range: {\n      min: 0,\n      max: 100\n    }\n  },\n  release: {\n    defaultValue: 50,\n    range: {\n      min: 0,\n      max: 100\n    }\n  },\n  shape: {\n    defaultValue: 0,\n    range: {\n      min: 0,\n      max: 3\n    }\n  },\n  octave: {\n    defaultValue: 5,\n    range: {\n      min: 0,\n      max: 9\n    }\n  },\n  transpose: {\n    defaultValue: 0,\n    range: {\n      min: -9,\n      max: 9\n    }\n  },\n  detune: {\n    defaultValue: 0,\n    range: {\n      min: -100,\n      max: 100\n    }\n  },\n  gain: {\n    defaultValue: 50,\n    range: {\n      min: 0,\n      max: 100\n    }\n  },\n}","import React from \"react\";\n\nconst PianoKey = ({\n  active,\n  disabled,\n  handleMouseDownPianoKey,\n  handleMouseUpPianoKey,\n  handleMouseOverPianoKey,\n  handleMouseLeavePianoKey,\n  name,\n  note\n}) => {\n\n  const getClassNames = () => {\n    let classNames = [\n      'pr-piano-key',\n      `pr-piano-key-${note}`,\n      name.includes('♯') ? 'pr-piano-key-black' : 'pr-piano-key-white',\n      active ? 'pr-piano-key-active' : disabled ? 'pr-piano-key-disabled' : 'pr-piano-key-inactive'\n    ];\n\n    return classNames.join(' ');\n  }\n\n  return (\n    <div\n      title={name}\n      className={getClassNames()}\n      id={`pr-piano-key-${name}`}\n      tabIndex=\"0\"\n      onMouseDown={handleMouseDownPianoKey}\n      onMouseUp={handleMouseUpPianoKey}\n      onMouseOver={handleMouseOverPianoKey}\n      onMouseLeave={handleMouseLeavePianoKey}\n    />\n  );\n}\n\nexport default PianoKey;","import React from 'react';\nimport PianoKey from './PianoKey';\nimport {KEYS} from '../js/statics';\n\nconst PianoKeys = (props) => {\n  const {activeKeys, octaves} = props;\n\n  const blackKeys = [];\n  const whiteKeys = [];\n\n  const pianoKeys = KEYS.slice(0, (12 * octaves));\n\n  pianoKeys.forEach((key, index) => {\n    const keySet = key.name.includes('♯') ? blackKeys : whiteKeys;\n\n    keySet.push(\n      <PianoKey\n        {...props}\n        key={(key.octave * 12) + (index)}\n        name={key.name}\n        note={key.name.substring(0, key.name.length - 1)}\n        freq={key.freq * Math.pow(2, key.octave)}\n        active={activeKeys.includes(key.name)}\n      />\n    );\n  });\n\n  return (\n    <div id=\"pr-piano-keys\">\n      <div id=\"pr-piano-black-keys\">{blackKeys}</div>\n      <div id=\"pr-piano-white-keys\">{whiteKeys}</div>\n    </div>\n  );\n}\n\nexport default PianoKeys;","import React from \"react\";\nimport {CONTROL_TYPES} from \"../js/statics\";\n\nconst PianoDigitalControl = ({\n  handleMouseDownControl,\n  handleMouseUpControl,\n  handleMouseWheelControl,\n  label,\n  name,\n  outline,\n  type,\n  value\n}) => {\n\n  const handleMouseDown = (e) => handleMouseDownControl(name, CONTROL_TYPES.digital.name, e);\n\n  const handleMouseUp = (e) => handleMouseUpControl(name, CONTROL_TYPES.digital.name, e);\n\n  const handleMouseWheel = (e) => handleMouseWheelControl(name, CONTROL_TYPES.digital.name, e);\n\n  const controlTypes = {\n    \"single-digit\": {\n      backgroundValue: 8,\n      style: val => {\n        const styles = {};\n        if (val === 1) styles.left = \"-0.25rem\";\n        return styles;\n      }\n    },\n    \"single-digit-negative\": {\n      backgroundValue: -8,\n      style: val => {\n        const styles = {};\n        if (val > 1 || val === 0) styles.left = \"-0.0625rem\";\n        if (val === 1) styles.left = \"0.245rem\";\n        if (val === -1) {\n          styles.left = \"-0.225rem\";\n          styles.letterSpacing = \"0.5375rem\";\n        }\n        return styles;\n      }\n    }\n  };\n\n  return (\n    <div className={\"pr-digital-control \" + (outline ? \"pr-digital-control-outlined\" : \"\")}>\n      <label\n        id={\"pr-\" + name + \"-label\"}\n        className=\"pr-control-label\"\n        htmlFor={\"pr-\" + name}\n      >\n        {label || name}\n      </label>\n      <div className=\"pr-digital-control-input-container\">\n        <div\n          id={\"pr-\" + name}\n          className={\"pr-digital-control-input \" + type}\n        >\n          {8}\n          <div\n            id={\"pr-\" + name + \"-background\"}\n            className={\"pr-digital-control-input pr-digital-control-input-background \" + type}\n            children={controlTypes[type].backgroundValue}\n          />\n          <div\n            id={\"pr-\" + name + \"-foreground\"}\n            className={\"pr-digital-control-input pr-digital-control-input-foreground \" + type}\n            children={value}\n            style={controlTypes[type].style(value)}\n            onMouseDown={handleMouseDown}\n            onMouseUp={handleMouseUp}\n            onWheel={handleMouseWheel}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PianoDigitalControl;","import React from \"react\";\nimport {CONTROL_TYPES} from \"../js/statics\";\n\nconst PianoKnobControl = ({\n  activeControl,\n  handleMouseDownControl,\n  handleMouseUpControl,\n  handleMouseWheelControl,\n  label,\n  max,\n  min,\n  name,\n  size,\n  value\n}) => {\n\n  const handleMouseDown = (e) => handleMouseDownControl(name, CONTROL_TYPES.knob.name, e);\n\n  const handleMouseUp = (e) => handleMouseUpControl(name, CONTROL_TYPES.knob.name, e);\n\n  const handleMouseWheel = (e) => handleMouseWheelControl(name, CONTROL_TYPES.knob.name, e);\n\n  const getKnobStyle = () => {\n    const style = {};\n\n    const valueAsPercent = (value - min) * 100 / (max - min);\n    const valueAsDeg = valueAsPercent * 3.6;\n    const valueForRotate = ((valueAsDeg + 180) * 0.875) + 45;\n\n    style.transform = `rotate(${valueForRotate}deg)`;\n\n    return style;\n\n    //min: 0, 0\n    //max: 30, 50\n    //input: 5, 15\n\n    // (5 - 0) * 100 / (30 - 0) = 16.667\n    // (15 - 0) * 100 / (50 - 0) = 30\n  }\n\n  const getValueStyles = () => {\n    const styles = {};\n    if (activeControl === name) {\n      styles.display = \"block\";\n    }\n\n    return styles;\n  }\n\n  return (\n    <div className={\"pr-knob-control-container \" + (size ? size : \"\")}>\n      <div className=\"pr-control-label\">{label || name}</div>\n      <div\n        className=\"pr-knob-control-value\"\n        style={getValueStyles()}\n      >\n        {value}\n      </div>\n      <div className=\"pr-knob-container\">\n        <div\n          className=\"pr-knob\"\n          style={getKnobStyle()}\n          onMouseDown={handleMouseDown}\n          onMouseUp={handleMouseUp}\n          onWheel={handleMouseWheel}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default PianoKnobControl;","import React from \"react\";\nimport PianoKeys from \"./PianoKeys\";\nimport PianoDigitalControl from \"./PianoDigitalControl\";\nimport PianoKnobControl from \"./PianoKnobControl\";\nimport { CONTROLS } from \"../js/statics\";\n\nconst Piano = props => {\n  const { attack, decay, detune, gain, layout, master, octave, release, shape, sustain, transpose } = props;\n\n  const renderGlobalSection = () => (\n    <div id=\"pr-global-section\">\n      {renderLogo()}\n      {renderGlobalControls()}\n    </div>\n  );\n\n  const renderLogo = () => (\n    <div id=\"pr-logo-section\">\n      <svg id=\"pr-logo\" viewBox=\"304.103 332.216 470.661 104.256\">\n        <g>\n          <path\n            d=\"M 654.248 361.208 L 652.04 368.792 L 623.528 431 L 608.264 431 L 635.24 373.784 L 617.768 373.784 L 621.512 361.208 L 654.248 361.208 Z \"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 688.821 378.476 L 677.685 416.396 L 677.685 416.396 Q 676.725 419.564 675.093 422.54 L 675.093 422.54 L 675.093 422.54 Q 673.461 425.516 670.869 427.724 L 670.869 427.724 L 670.869 427.724 Q 668.277 429.932 664.533 431.228 L 664.533 431.228 L 664.533 431.228 Q 660.789 432.524 655.797 432.332 L 655.797 432.332 L 655.797 432.332 Q 652.917 432.236 649.845 431.324 L 649.845 431.324 L 649.845 431.324 Q 646.773 430.412 644.613 428.3 L 644.613 428.3 L 644.613 428.3 Q 642.453 426.188 641.685 422.732 L 641.685 422.732 L 641.685 422.732 Q 640.917 419.276 642.453 414.092 L 642.453 414.092 L 654.261 373.868 L 654.261 373.868 Q 656.565 366.188 661.845 363.02 L 661.845 363.02 L 661.845 363.02 Q 667.125 359.852 674.709 359.852 L 674.709 359.852 L 674.709 359.852 Q 684.021 359.852 687.813 364.364 L 687.813 364.364 L 687.813 364.364 Q 691.605 368.876 688.821 378.476 L 688.821 378.476 Z  M 662.901 417.548 L 675.189 375.596 L 675.189 375.596 Q 675.765 373.58 675.333 372.428 L 675.333 372.428 L 675.333 372.428 Q 674.901 371.276 672.693 371.276 L 672.693 371.276 L 672.693 371.276 Q 670.677 371.276 669.717 372.38 L 669.717 372.38 L 669.717 372.38 Q 668.757 373.484 668.277 375.308 L 668.277 375.308 L 655.893 417.164 L 655.893 417.164 Q 654.741 421.1 658.293 421.196 L 658.293 421.196 L 658.293 421.196 Q 660.213 421.292 661.269 420.428 L 661.269 420.428 L 661.269 420.428 Q 662.325 419.564 662.901 417.548 L 662.901 417.548 Z \"\n            fillRule=\"evenodd\"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 735.656 361.208 L 726.92 390.872 L 726.92 390.872 Q 725.288 396.248 717.992 396.152 L 717.992 396.152 L 717.992 396.152 Q 721.448 396.344 722.696 398.792 L 722.696 398.792 L 722.696 398.792 Q 723.944 401.24 722.984 404.312 L 722.984 404.312 L 715.112 431 L 700.52 431 L 708.584 403.736 L 708.584 403.736 Q 708.872 402.68 708.632 401.96 L 708.632 401.96 L 708.632 401.96 Q 708.392 401.24 706.76 401.24 L 706.76 401.24 L 704.552 401.24 L 704.552 401.24 Q 702.92 401.24 702.344 401.624 L 702.344 401.624 L 702.344 401.624 Q 701.768 402.008 701.384 403.256 L 701.384 403.256 L 693.128 431 L 678.536 431 L 686.6 403.64 L 686.6 403.64 Q 686.984 402.296 687.608 401 L 687.608 401 L 687.608 401 Q 688.232 399.704 689.192 398.648 L 689.192 398.648 L 689.192 398.648 Q 690.152 397.592 691.688 396.872 L 691.688 396.872 L 691.688 396.872 Q 693.224 396.152 695.528 396.056 L 695.528 396.056 L 695.528 396.056 Q 692.168 396.056 691.112 393.944 L 691.112 393.944 L 691.112 393.944 Q 690.056 391.832 690.92 388.952 L 690.92 388.952 L 699.08 361.208 L 713.672 361.208 L 705.608 388.76 L 705.608 388.76 Q 705.224 390.104 705.8 390.536 L 705.8 390.536 L 705.8 390.536 Q 706.376 390.968 707.528 390.968 L 707.528 390.968 L 710.12 390.968 L 710.12 390.968 Q 711.176 390.968 711.848 390.536 L 711.848 390.536 L 711.848 390.536 Q 712.52 390.104 713 388.472 L 713 388.472 L 721.064 361.208 L 735.656 361.208 Z \"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 720.296 431 L 740.84 361.208 L 768.488 361.208 L 768.488 361.208 Q 772.424 361.208 773.864 363.656 L 773.864 363.656 L 773.864 363.656 Q 775.304 366.104 774.44 369.08 L 774.44 369.08 L 758.984 421.592 L 758.984 421.592 Q 758.12 424.664 756.824 426.536 L 756.824 426.536 L 756.824 426.536 Q 755.528 428.408 753.56 429.416 L 753.56 429.416 L 753.56 429.416 Q 751.592 430.424 748.904 430.712 L 748.904 430.712 L 748.904 430.712 Q 746.216 431 742.472 431 L 742.472 431 L 720.296 431 Z  M 756.584 372.44 L 751.976 372.44 L 738.152 419.384 L 742.76 419.384 L 742.76 419.384 Q 744.488 419.384 745.16 418.808 L 745.16 418.808 L 745.16 418.808 Q 745.832 418.232 746.216 416.984 L 746.216 416.984 L 758.408 375.512 L 758.408 375.512 Q 758.888 373.976 758.552 373.208 L 758.552 373.208 L 758.552 373.208 Q 758.216 372.44 756.584 372.44 L 756.584 372.44 Z \"\n            fillRule=\"evenodd\"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 608.48 405.752 L 605.408 416.216 L 599.456 416.216 L 595.04 431 L 580.64 431 L 585.056 416.216 L 564.224 416.216 L 568.448 401.528 L 595.52 361.208 L 615.68 361.208 L 602.528 405.752 L 608.48 405.752 Z  M 580.544 405.752 L 588.032 405.752 L 595.424 380.408 L 580.928 404.504 L 580.544 405.752 Z \"\n            fillRule=\"evenodd\"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 403.136 361.208 L 382.592 431 L 368.192 431 L 376.832 401.528 L 369.536 401.528 L 360.8 431 L 346.4 431 L 366.944 361.208 L 381.344 361.208 L 373.184 389.144 L 380.48 389.144 L 388.736 361.208 L 403.136 361.208 Z \"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 414.944 362.208 L 435.872 362.208 L 435.872 362.208 Q 439.232 362.208 440.816 364.656 L 440.816 364.656 L 440.816 364.656 Q 442.4 367.104 441.536 370.176 L 441.536 370.176 L 425.504 424.608 L 425.504 424.608 Q 424.16 428.928 421.04 430.464 L 421.04 430.464 L 421.04 430.464 Q 417.92 432 414.272 432 L 414.272 432 L 397.088 432 L 397.088 432 Q 395.264 432 393.728 431.376 L 393.728 431.376 L 393.728 431.376 Q 392.192 430.752 391.184 429.504 L 391.184 429.504 L 391.184 429.504 Q 390.176 428.256 389.84 426.48 L 389.84 426.48 L 389.84 426.48 Q 389.504 424.704 390.176 422.496 L 390.176 422.496 L 405.92 369.024 L 405.92 369.024 Q 406.688 365.952 409.04 364.08 L 409.04 364.08 L 409.04 364.08 Q 411.392 362.208 414.944 362.208 L 414.944 362.208 Z  M 424.448 372.44 L 420.8 372.44 L 420.8 372.44 Q 419.744 372.44 419.264 372.92 L 419.264 372.92 L 419.264 372.92 Q 418.784 373.4 418.592 374.168 L 418.592 374.168 L 405.728 417.656 L 405.728 417.656 Q 405.248 419.384 407.072 419.384 L 407.072 419.384 L 410.816 419.384 L 410.816 419.384 Q 412.64 419.384 413.12 417.656 L 413.12 417.656 L 425.888 374.264 L 425.888 374.264 Q 426.368 372.44 424.448 372.44 L 424.448 372.44 Z \"\n            fillRule=\"evenodd\"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 456.032 361.208 L 480.032 361.208 L 476.288 373.784 L 461.312 373.784 L 461.312 373.784 Q 460.16 373.784 459.536 374.168 L 459.536 374.168 L 459.536 374.168 Q 458.912 374.552 458.528 375.896 L 458.528 375.896 L 446.528 416.6 L 446.528 416.6 Q 445.76 419.384 448.736 419.384 L 448.736 419.384 L 453.632 419.384 L 458.912 401.528 L 455.936 401.528 L 459.584 389.144 L 476.288 389.144 L 464.768 428.312 L 448.64 436.472 L 450.176 431 L 441.248 431 L 441.248 431 Q 438.752 431 436.64 430.28 L 436.64 430.28 L 436.64 430.28 Q 434.528 429.56 433.136 427.976 L 433.136 427.976 L 433.136 427.976 Q 431.744 426.392 431.312 423.944 L 431.312 423.944 L 431.312 423.944 Q 430.88 421.496 431.936 418.04 L 431.936 418.04 L 446.72 367.736 L 446.72 367.736 Q 447.872 363.8 450.224 362.504 L 450.224 362.504 L 450.224 362.504 Q 452.576 361.208 456.032 361.208 L 456.032 361.208 Z \"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 503.648 361.208 L 503.552 361.208 L 487.328 416.408 L 487.328 416.408 Q 486.848 418.04 487.472 418.664 L 487.472 418.664 L 487.472 418.664 Q 488.096 419.288 489.728 419.288 L 489.728 419.288 L 493.472 419.288 L 510.56 361.208 L 524.96 361.208 L 505.184 428.312 Q 505.17 428.341 504.62 428.413 Q 498.832 431.016 490.112 431 L 481.76 431 L 481.76 431 Q 479.072 431 476.912 430.28 L 476.912 430.28 L 476.912 430.28 Q 474.752 429.56 473.408 427.976 L 473.408 427.976 L 473.408 427.976 Q 472.064 426.392 471.728 423.944 L 471.728 423.944 L 471.728 423.944 Q 471.392 421.496 472.448 418.04 L 472.448 418.04 L 489.152 361.208 L 503.648 361.208 Z \"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 509.216 431 L 529.76 361.208 L 542.144 361.208 L 542.624 388.184 L 550.592 361.208 L 564.608 361.208 L 544.064 431 L 532.448 431 L 531.2 403.16 L 522.848 431 L 509.216 431 Z \"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 317.72 375.896 L 343.928 375.896 L 343.928 375.896 Q 346.712 375.896 348.872 376.664 L 348.872 376.664 L 348.872 376.664 Q 351.032 377.432 352.328 379.112 L 352.328 379.112 L 352.328 379.112 Q 353.624 380.792 353.864 383.384 L 353.864 383.384 L 353.864 383.384 Q 354.104 385.976 353.048 389.624 L 353.048 389.624 L 343.256 422.936 L 343.256 422.936 Q 342.488 425.528 341.096 427.112 L 341.096 427.112 L 341.096 427.112 Q 339.704 428.696 338.024 429.56 L 338.024 429.56 L 338.024 429.56 Q 336.344 430.424 334.472 430.712 L 334.472 430.712 L 334.472 430.712 Q 332.6 431 330.776 431 L 330.776 431 L 311.864 431 L 311.864 431 Q 307.736 431 305.48 428.024 L 305.48 428.024 L 305.48 428.024 Q 303.224 425.048 304.664 420.248 L 304.664 420.248 L 309.464 403.736 L 324.728 403.736 L 321.08 415.832 L 321.08 415.832 Q 320.696 417.08 321.272 417.416 L 321.272 417.416 L 321.272 417.416 Q 321.848 417.752 322.712 417.752 L 322.712 417.752 L 326.36 417.752 L 326.36 417.752 Q 327.704 417.752 328.376 417.32 L 328.376 417.32 L 328.376 417.32 Q 329.048 416.888 329.432 415.544 L 329.432 415.544 L 337.208 389.24 L 337.208 389.24 Q 337.4 388.664 337.256 388.28 L 337.256 388.28 L 337.256 388.28 Q 337.112 387.896 336.152 387.896 L 336.152 387.896 L 314.168 387.896 L 317.72 375.896 Z \"\n            fill=\"rgb(171,171,171)\"\n          />\n          <path\n            d=\" M 333.729 375.977 L 317.697 375.977 L 327.489 341.029 L 327.489 341.029 Q 328.257 338.294 329.505 336.572 L 329.505 336.572 L 329.505 336.572 Q 330.753 334.85 332.337 333.888 L 332.337 333.888 L 332.337 333.888 Q 333.921 332.925 335.745 332.621 L 335.745 332.621 L 335.745 332.621 Q 337.569 332.318 339.393 332.318 L 339.393 332.318 L 369.249 332.318 L 361.281 361.086 L 345.057 364.935 L 350.433 345.79 L 344.385 345.79 L 344.385 345.79 Q 343.041 345.79 342.417 346.246 L 342.417 346.246 L 342.417 346.246 Q 341.793 346.702 341.409 348.12 L 341.409 348.12 L 333.729 375.977 Z \"\n            fill=\"rgb(171,171,171)\"\n          />\n        </g>\n      </svg>\n      <div id=\"pr-logo-subtext\">\n        <span id=\"pr-logo-subtext-bold\">\n          <span>Re</span>\n          <span style={{ letterSpacing: \"-0.125rem\" }}>a</span>\n          <span>ct</span>\n        </span>\n        <span>&nbsp;Synthesizer</span>\n      </div>\n    </div>\n  );\n\n  const renderGlobalControls = () => (\n    <div id=\"pr-global-controls\">\n      <PianoKnobControl\n        {...props}\n        name=\"master\"\n        label=\"volume\"\n        size=\"large\"\n        min={CONTROLS.master.range.min}\n        max={CONTROLS.master.range.max}\n        value={master}\n      />\n      <div id=\"pr-envelope-controls\">\n        <PianoKnobControl\n          {...props}\n          name=\"attack\"\n          min={CONTROLS.attack.range.min}\n          max={CONTROLS.attack.range.max}\n          value={attack}\n        />\n        <PianoKnobControl\n          {...props}\n          name=\"decay\"\n          min={CONTROLS.decay.range.min}\n          max={CONTROLS.decay.range.max}\n          value={decay}\n        />\n        <PianoKnobControl\n          {...props}\n          name=\"sustain\"\n          min={CONTROLS.sustain.range.min}\n          max={CONTROLS.sustain.range.max}\n          value={sustain}\n        />\n        <PianoKnobControl\n          {...props}\n          name=\"release\"\n          min={CONTROLS.release.range.min}\n          max={CONTROLS.release.range.max}\n          value={release}\n        />\n      </div>\n    </div>\n  );\n\n  const renderOscillators = () => (\n    <div id=\"pr-oscillators\">\n      <div id=\"pr-regular-oscillators\">\n        <div className=\"pr-oscillator-container\">\n          <div className=\"pr-oscillator-label\">OSC 1</div>\n          <div className=\"pr-oscillator-controls-container\">\n            <PianoDigitalControl {...props} name=\"shape\" value={shape} type=\"single-digit\" />\n            <PianoDigitalControl {...props} name=\"octave\" value={octave} type=\"single-digit\" />\n            <PianoDigitalControl {...props} name=\"transpose\" value={transpose} type=\"single-digit-negative\" />\n            <PianoKnobControl\n              {...props}\n              name=\"detune\"\n              label=\"tune\"\n              size=\"medium\"\n              min={CONTROLS.detune.range.min}\n              max={CONTROLS.detune.range.max}\n              value={detune}\n            />\n            <PianoKnobControl\n              {...props}\n              name=\"gain\"\n              label=\"vol\"\n              size=\"medium\"\n              min={CONTROLS.gain.range.min}\n              max={CONTROLS.gain.range.max}\n              value={gain}\n            />\n          </div>\n        </div>\n        <div className=\"pr-oscillator-container\">\n          <div className=\"pr-oscillator-label\">OSC 2</div>\n          <div className=\"pr-oscillator-controls-container\">\n            <PianoDigitalControl {...props} name=\"shape\" value={shape} type=\"single-digit\" />\n            <PianoDigitalControl {...props} name=\"octave\" value={octave} type=\"single-digit\" />\n            <PianoDigitalControl {...props} name=\"transpose\" value={transpose} type=\"single-digit-negative\" />\n            <PianoKnobControl\n              {...props}\n              name=\"detune\"\n              label=\"tune\"\n              size=\"medium\"\n              min={CONTROLS.detune.range.min}\n              max={CONTROLS.detune.range.max}\n              value={detune}\n            />\n            <PianoKnobControl\n              {...props}\n              name=\"gain\"\n              label=\"vol\"\n              size=\"medium\"\n              min={CONTROLS.gain.range.min}\n              max={CONTROLS.gain.range.max}\n              value={gain}\n            />\n          </div>\n        </div>\n      </div>\n      <div id=\"pr-mod-oscillator\">\n        <div className=\"pr-oscillator-container\">\n          <div className=\"pr-oscillator-label\">MOD OSC</div>\n          <div className=\"pr-oscillator-controls-container\">\n            <PianoDigitalControl\n              {...props}\n              name=\"modOscShape\"\n              label=\"shape\"\n              value={shape}\n              type=\"single-digit\"\n            />\n            <PianoKnobControl\n              {...props}\n              name=\"modOscGain\"\n              label=\"vol\"\n              size=\"small\"\n              min={CONTROLS.gain.range.min}\n              max={CONTROLS.gain.range.max}\n              value={gain}\n            />\n            <PianoKnobControl\n              {...props}\n              name=\"modOscFreq\"\n              label=\"freq\"\n              size=\"small\"\n              min={CONTROLS.gain.range.min}\n              max={CONTROLS.gain.range.max}\n              value={gain}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderFilters = () => (\n    <div id=\"pr-filters\">\n      <div className=\"pr-filter pr-filter-1\">\n        <div className=\"pr-filter-label\">FILTER 1</div>\n        <div className=\"pr-filter-controls-container\">\n          <PianoKnobControl\n            {...props}\n            name=\"filter1cutoff\"\n            label=\"cutoff\"\n            size=\"large\"\n            min={CONTROLS.master.range.min}\n            max={CONTROLS.master.range.max}\n            value={master}\n          />\n          <PianoKnobControl\n            {...props}\n            name=\"filter1res\"\n            label=\"res\"\n            size=\"large\"\n            min={CONTROLS.master.range.min}\n            max={CONTROLS.master.range.max}\n            value={master}\n          />\n          <PianoKnobControl\n            {...props}\n            name=\"filter1mod\"\n            label=\"mod\"\n            size=\"large\"\n            min={CONTROLS.master.range.min}\n            max={CONTROLS.master.range.max}\n            value={master}\n          />\n          <PianoKnobControl\n            {...props}\n            name=\"filter1env\"\n            label=\"env\"\n            size=\"large\"\n            min={CONTROLS.master.range.min}\n            max={CONTROLS.master.range.max}\n            value={master}\n          />\n        </div>\n      </div>\n      <div className=\"pr-filter pr-filter-2\">\n        <div className=\"pr-filter-label\">FILTER 2</div>\n        <div className=\"pr-filter-controls-container\">\n          <PianoKnobControl\n            {...props}\n            name=\"filter2cutoff\"\n            label=\"cutoff\"\n            size=\"large\"\n            min={CONTROLS.master.range.min}\n            max={CONTROLS.master.range.max}\n            value={master}\n          />\n          <PianoKnobControl\n            {...props}\n            name=\"filter2res\"\n            label=\"res\"\n            size=\"large\"\n            min={CONTROLS.master.range.min}\n            max={CONTROLS.master.range.max}\n            value={master}\n          />\n          <PianoKnobControl\n            {...props}\n            name=\"filter2mod\"\n            label=\"mod\"\n            size=\"large\"\n            min={CONTROLS.master.range.min}\n            max={CONTROLS.master.range.max}\n            value={master}\n          />\n          <PianoKnobControl\n            {...props}\n            name=\"filter2env\"\n            label=\"env\"\n            size=\"large\"\n            min={CONTROLS.master.range.min}\n            max={CONTROLS.master.range.max}\n            value={master}\n          />\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div id=\"pr-piano\">\n      <div id=\"pr-piano-left\">\n        <div id=\"pr-piano-top-left\">\n          <PianoDigitalControl {...props} name=\"layout\" value={layout} type=\"single-digit\" outline={true} />\n        </div>\n      </div>\n      <div id=\"pr-piano-right\">\n        <div id=\"pr-piano-right-top\">\n          {renderGlobalSection()}\n          {renderOscillators()}\n          {renderFilters()}\n        </div>\n        <div id=\"pr-piano-right-bottom\">\n          <PianoKeys {...props} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Piano;\n","import { FREQ_MULTIPLIER, OSC_SHAPES } from \"../statics\";\n\nexport default class Voice {\n\n  constructor(\n    audioContext,\n    frequency,\n    gain,\n    shape,\n    octave,\n    transpose,\n    attack = 1,\n    decay = 1,\n    sustain = 1,\n    release = 1\n  ) {\n    this.active = false;\n    this.audioContext = audioContext;\n    this.frequency = frequency;\n    this.gain = gain;\n    this.shape = shape;\n    this.octave = octave;\n    this.transpose = transpose;\n    this.attack = attack;\n    this.decay = decay;\n    this.sustain = sustain;\n    this.release = release;\n\n    this.oscillators = [];\n\n    this.initializeOscillators();\n  }\n\n  initializeOscillators = () => {\n    this.osc1Gain = this.audioContext.createGain();\n    this.osc1Gain.gain.value = 0;\n    this.osc1Gain.connect(this.audioContext.effectChain);\n    this.osc1 = this.audioContext.createOscillator();\n    this.osc1.frequency.value = this.getFrequency(); //* Math.pow(2, octave);\n    this.osc1.type = this.getOscType();\n    this.osc1.connect(this.osc1Gain);\n    this.osc1.start();\n\n    this.oscillators.push(this.osc1);\n\n  };\n\n  start = () => {\n    this.active = true;\n\n    const now = this.audioContext.currentTime;\n    const attack = now + this.release / 1000;\n\n    this.osc1Gain.gain.setValueAtTime(this.getGain(), attack);\n  };\n\n  stop = () => {\n    this.active = false;\n\n    const now = this.audioContext.currentTime;\n    const release = now + this.release / 1000;\n\n    this.osc1Gain.gain.setValueAtTime(0, release);\n  };\n\n  getFrequency = () => {\n    const octavedFrequency = (this.frequency * Math.pow(2, this.octave)) / 16;\n    const transposedFrequency = octavedFrequency * Math.pow(FREQ_MULTIPLIER, this.transpose);\n    return transposedFrequency;\n  };\n\n  getGain = () => this.gain / 100;\n\n  getOscType = () => OSC_SHAPES[this.shape];\n}\n","import React, { Component } from \"react\";\nimport { CONTROL_TYPES, CONTROLS, KEYS_MAP, LAYOUTS } from \"./js/statics\";\nimport Piano from \"./components/Piano\";\nimport Voice from \"./js/classes/Voice\";\n\nclass App extends Component {\n\n  /** LIFECYCLE */\n\n  constructor(props) {\n    super(props);\n\n    this.layout = props.layout || 0;\n    this.octaves = props.octaves;\n    this.voices = {};\n\n    if (!this.octaves || !Number.isInteger(this.octaves) || this.octaves > 10 || this.octaves < 4) {\n      this.octaves = 6;\n    }\n\n    this.state = {\n      activeKeys: [],\n      activeControl: null,\n      activeControlType: null,\n      activeScreenY: null,\n      alternateControl: false,\n      audioContextStarted: false,\n      octaves: this.octaves,\n      layout: this.layout,\n      master: CONTROLS[\"master\"].defaultValue,\n      attack: CONTROLS[\"attack\"].defaultValue,\n      decay: CONTROLS[\"decay\"].defaultValue,\n      sustain: CONTROLS[\"sustain\"].defaultValue,\n      release: CONTROLS[\"release\"].defaultValue,\n      shape: CONTROLS[\"shape\"].defaultValue,\n      octave: CONTROLS[\"octave\"].defaultValue,\n      transpose: CONTROLS[\"transpose\"].defaultValue,\n      detune: CONTROLS[\"detune\"].defaultValue,\n      gain: CONTROLS[\"gain\"].defaultValue,\n\n    };\n  }\n\n  componentDidMount = () => {\n    this.initializeSoundEngine();\n    this.registerEvents();\n  }\n\n  /** INIT */\n\n  registerEvents = () => {\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n    document.addEventListener(\"keyup\", this.handleKeyUp);\n\n    document.addEventListener(\"mousedown\", this.handleMouseDown);\n    document.addEventListener(\"mouseup\", this.handleMouseUp);\n    document.addEventListener(\"mouseleave\", this.handleMouseLeave);\n    document.addEventListener(\"mouseout\", this.handleMouseOut);\n\n    document.addEventListener(\"drag\", e => e.preventDefault());\n    document.addEventListener(\"dragend\", e => e.preventDefault());\n    document.addEventListener(\"dragenter\", e => e.preventDefault());\n    document.addEventListener(\"dragexit\", e => e.preventDefault());\n    document.addEventListener(\"dragleave\", e => e.preventDefault());\n    document.addEventListener(\"dragover\", e => e.preventDefault());\n    document.addEventListener(\"dragstart\", e => e.preventDefault());\n    document.addEventListener(\"drop\", e => e.preventDefault());\n  };\n\n  initializeSoundEngine = () => {\n    console.log(\"initializeSoundEngine\");\n\n    const AudioContext = window.AudioContext || window.webkitAudioContext;\n    this.audioContext = new AudioContext();\n    this.audioContext.effectChain = this.audioContext.createGain();\n    this.audioContext.effectChain.connect(this.audioContext.destination);\n\n    console.log(\"Audio Context Base Latency: \", this.audioContext.baseLatency);\n\n    console.log(\"initializeVoices\");\n\n    Object.keys(KEYS_MAP).slice(0, this.state.octaves * 12).forEach(key => {\n      this.voices[key] = new Voice(\n        this.audioContext,\n        KEYS_MAP[key].freq,\n        this.state.gain,\n        this.state.shape,\n        this.state.octave,\n        this.state.transpose\n      );;\n    });\n  };\n\n  startAudioContext = () => {\n    console.log(\"startAudioContext\");\n\n    if (!this.state.audioContextStarted) {\n      this.audioContext.resume();\n      this.setState({audioContextStarted: true});\n    }\n  };\n\n  /** GLOBAL EVENT HANDLERS */\n\n  handleKeyDown = e => {\n    // console.log(\"handleKeyDown\", e);\n\n    e.preventDefault();\n    const keyPressed = e.key.toLowerCase();\n    const pianoKey = LAYOUTS[this.state.layout][keyPressed];\n\n    if (pianoKey) {\n      this.activatePianoKey(pianoKey);\n    } else if (keyPressed === \"control\" || keyPressed === \"command\") {\n      this.setState({ alternateControl: true });\n    }\n\n\n    this.startAudioContext();\n  };\n\n  handleKeyUp = e => {\n    // console.log(\"handleKeyUp\", e);\n\n    const keyReleased = e.key.toLowerCase();\n\n    if (keyReleased === \"control\" || keyReleased === \"command\")\n      this.setState({ alternateControl: false });\n\n    const pianoKey = LAYOUTS[this.state.layout][keyReleased];\n    this.deactivatePianoKey(pianoKey);\n  };\n\n  handleMouseDown = e => {\n    console.log(\"handleMouseDown\", e);\n\n    this.startAudioContext();\n  };\n\n  handleMouseUp = e => {\n    console.log(\"handleMouseUp\", e);\n\n    this.mouseDownOnKeys = false;\n    this.state.activeControl && this.setState({\n      activeControl: null,\n      alternateControl: false\n    });\n  };\n\n  handleMouseLeave = e => {\n    // console.log(\"handleMouseLeave\", e);\n  };\n\n  handleMouseOut = e => {\n    // console.log(\"handleMouseOut\", e);\n  };\n\n  /** PIANO KEYS */\n\n  handleMouseDownPianoKey = e => {\n    console.log(\"handleMouseDownPianoKey\", e);\n\n    if (e.button === 0) {\n      this.activatePianoKey(e.target.title);\n      this.mouseDownOnKeys = true;\n    }\n  };\n\n  handleMouseUpPianoKey = e => {\n    console.log(\"handleMouseUpPianoKey\", e);\n\n    if (e.button === 0) {\n      this.mouseDownOnKeys = false;\n      this.deactivatePianoKey(e.target.title);\n    }\n  };\n\n  handleMouseOverPianoKey = e => {\n    // console.log(\"handleMouseOverPianoKey\", e);\n\n    this.mouseDownOnKeys && this.activatePianoKey(e.target.title);\n  };\n\n  handleMouseLeavePianoKey = e => {\n    // console.log(\"handleMouseLeavePianoKey\", e);\n\n    this.mouseDownOnKeys && this.deactivatePianoKey(e.target.title);\n  };\n\n  activatePianoKey = key => {\n    console.log(\"activatePianoKey\", key);\n\n    if (!this.state.activeKeys.includes(key)) {\n      this.startPlayingKey(key);\n      this.setState(prevState => ({\n        activeKeys: [...prevState.activeKeys, key]\n      }));\n    }\n  };\n\n  deactivatePianoKey = key => {\n    console.log(\"deactivatePianoKey\", key);\n\n    this.stopPlayingKey(key);\n\n    this.setState(prevState => ({\n      activeKeys: prevState.activeKeys.filter(k => k !== key)\n    }));\n  };\n\n  startPlayingKey = key => {\n    console.log(\"startPlayingKey\", KEYS_MAP[key]);\n\n    this.voices[key] && this.voices[key].start();\n  };\n\n  stopPlayingKey = key => {\n    console.log(\"stopPlayingKey\", KEYS_MAP[key]);\n\n    this.voices[key] && this.voices[key].stop();\n  };\n\n  /** SYNTH CONTROLS */\n\n  handleMouseDownControl = (activeControl, activeControlType, e) => {\n    console.log(\"handleMouseDownControl\", activeControl, activeControlType, e);\n\n    if (e.button === 0) {\n      // left click\n      if (this.state.alternateControl) {\n        // holding ctrl\n        this.resetControlValue(activeControl);\n      } else {\n        this.activateControl(activeControl, activeControlType, e.screenY);\n      }\n    }\n  };\n\n  handleMouseUpControl = (activeControl, e) => {\n    console.log(\"handleMouseUpControl\", activeControl, e);\n\n    if (e.button === 0) {\n      this.deactivateControl(activeControl);\n    }\n  };\n\n  handleMouseMoveControl = event => {\n    // console.log(\"handleMouseMoveControl\", event, this.state);\n\n    const {\n      alternateControl,\n      activeControl,\n      activeControlType,\n      activeScreenY\n    } = this.state;\n\n    if (activeControl) {\n      let pixelStep = CONTROL_TYPES[activeControlType].pixelStep || 5;\n\n      if (alternateControl) {\n        pixelStep *= 10;\n      }\n\n      const movement = Math.abs(event.screenY - activeScreenY);\n\n      let change = 0;\n      if (event.screenY - pixelStep > activeScreenY) {\n        change = Math.round(-movement / pixelStep);\n      } else if (event.screenY + pixelStep < activeScreenY) {\n        change = Math.round(movement / pixelStep);\n      }\n\n      if (change) {\n        const newState = { ...this.state };\n        newState[\"activeScreenY\"] = event.screenY;\n        this.setState(newState);\n        this.changeControlValue(activeControl, change);\n      }\n    }\n  };\n\n  handleMouseWheelControl = (activeControl, activeControlType, e) => {\n    console.log(\"handleMouseWheelControl\", activeControl, activeControlType, e.deltaY);\n\n    const { pixelStep } = CONTROL_TYPES[activeControlType];\n\n    const change = e.deltaY > 0 ? -1 : 1;\n    const value = change * Math.round(5 / pixelStep);\n    this.changeControlValue(activeControl, value);\n    return false;\n  };\n\n  activateControl = (activeControl, activeControlType, screenY) => {\n    console.log(\"activateControl\", activeControl, activeControlType, screenY);\n\n    document.addEventListener(\"mousemove\", this.handleMouseMoveControl);\n\n    this.setState({\n      activeControl,\n      activeControlType,\n      activeScreenY: screenY\n    });\n  }\n\n  deactivateControl = (activeControl) => {\n    console.log(\"deactiveControl\", activeControl);\n\n    document.removeEventListener(\"mousemove\", this.handleMouseMoveControl);\n\n    this.setState({ activeControl: null });\n  };\n\n  changeControlValue = (control, change) => {\n    console.log(\"changeControlValue\", control, change);\n\n    const newState = { ...this.state };\n\n    const minValue = CONTROLS[control].range.min;\n    const maxValue = CONTROLS[control].range.max;\n\n    let newVal = newState[control] + change;\n\n    if (newVal > maxValue) newVal = maxValue;\n    else if (newVal < minValue) newVal = minValue;\n\n    newState[control] = newVal;\n\n    this.setState(newState);\n  };\n\n  resetControlValue = (control) => {\n    const newState = { ...this.state };\n    const newVal = CONTROLS[control].defaultValue;\n    newState[control] = newVal;\n\n    this.setState(newState);\n  };\n\n  render() {\n    // console.log(\"State:\", this.state);\n\n    return (\n      <div\n        id=\"pr-container\"\n        // onContextMenu={(e) => {e.preventDefault()}}\n      >\n        <Piano\n          {...this.state}\n          handleMouseDownPianoKey={this.handleMouseDownPianoKey}\n          handleMouseUpPianoKey={this.handleMouseUpPianoKey}\n          handleMouseOverPianoKey={this.handleMouseOverPianoKey}\n          handleMouseLeavePianoKey={this.handleMouseLeavePianoKey}\n          handleMouseDownControl={this.handleMouseDownControl}\n          handleMouseUpControl={this.handleMouseUpControl}\n          handleMouseWheelControl={this.handleMouseWheelControl}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}