{"version":3,"sources":["js/statics.js","components/PianoKey.js","components/PianoKeys.js","components/ButtonControl.js","components/DigitalControl.js","components/KnobControl.js","components/Synth.js","js/utils.js","js/classes/Output.js","App.js","serviceWorker.js","index.js"],"names":["LAYOUTS","z","x","c","v","b","n","m","a","s","d","f","g","h","j","k","l","q","w","e","r","t","y","u","i","o","p","delete","backspace","insert","NOTES","name","freq","Math","pow","KEYS","KEYS_MAP","forEach","note","key","octave","push","MODES","SAMPLES","OSC_SHAPES","FILTER_TYPES","FILTER_ROLLOFFS","OVERSAMPLE_TYPES","CONTROL_TYPES","digital","pixelStep","knob","CONTROLS","layout","defaultValue","range","min","max","length","volume","polyphony","portamento","attack","decay","sustain","release","mode","sample","samplePitch","osc1Shape","osc1Octave","osc1Transpose","osc1Detune","osc1Gain","osc2Shape","osc2Octave","osc2Transpose","osc2Detune","osc2Gain","modOscShape","modOscFreq","modOscGain","filter1Type","filter1Rolloff","filter1Freq","filter1Q","filter2Type","filter2Rolloff","filter2Freq","filter2Q","vibratoDepth","vibratoFreq","vibratoWet","chorusSpread","chorusDepth","chorusDelay","chorusWet","crusherBits","crusherWet","distOver","distAmount","distWet","pitcherPitch","pitcherWindow","pitcherWet","reverbSize","reverbDampening","reverbWet","CONTROLS_NAMES","CONTROLS_DEFAULT_VALUES","Object","keys","PianoKey","active","disabled","handleMouseDownPianoKey","handleMouseUpPianoKey","handleMouseOverPianoKey","handleMouseLeavePianoKey","title","className","includes","join","id","tabIndex","onMouseDown","onMouseUp","onMouseOver","onMouseLeave","PianoKeys","props","activeKeys","octaves","blackKeys","whiteKeys","slice","index","substring","ButtonControl","handleClickControl","label","value","onClick","DigitalControl","handleMouseDownControl","handleMouseUpControl","handleMouseWheelControl","outline","digits","typeOfDigits","getDigits","digitTypes","backgroundValue","style","val","styles","left","letterSpacing","htmlFor","children","onWheel","KnobControl","activeControl","size","opacity","valueForRotate","transform","getKnobStyle","Synth","sharedControlProps","renderLogo","viewBox","fill","fillRule","marginLeft","renderGlobalControls","renderVolumeControl","renderEnvelopeControls","renderOscillators","type","renderModOscillator","control","getNoteFromValues","transpose","getDecibelsFromValue","log10","getFrequencyFromValue","BASE_FREQ","getSecondsFromValue","Output","audioContext","initializeMaster","master","Master","initializeReverb","reverb","Freeverb","connect","initializePitcher","pitcher","PitchShift","initializeDistortion","distortion","Distortion","initializeBitcrusher","bitcrusher","BitCrusher","initializeChorus","chorus","Chorus","initializeVibrato","vibrato","Vibrato","initializeFilters","filter1","Filter","filter2","initializeSampler","sampler","Sampler","C5","console","log","initializeOscillators","osc1","PolySynth","FMSynth","osc2","oscillators","initializeValues","envelope","freqs","playKey","playKeys","activeOsc1Freq","_osc1Octave","_osc1Transpose","activeOsc2Freq","_osc2Octave","_osc2Transpose","triggerAttack","_audioContext","now","loaded","stopKey","splice","indexOf","triggerRelease","stopKeys","releaseAll","retriggerKeys","stoppedFreqs","hasPortamento","set","this","_active","arguments","_volume","_polyphony","_portamento","attackCurve","decayCurve","releaseCurve","modulationEnvelope","_attack","_decay","_sustain","_release","_mode","_sample","sampleBuffer","Buffer","add","_samplePitch","_osc1Shape","oscillator","_osc2Shape","_osc1Detune","_osc2Detune","_osc1Gain","_osc2Gain","_modOscShape","modulation","_modOscFreq","harmonicity","_modOscGain","modulationIndex","_filter1Type","_filter2Type","_filter2type","_filter1Rolloff","rolloff","_filter2Rolloff","_filter1Freq","frequency","_filter2Freq","_filter1Q","Q","_filter2Q","_vibratoDepth","depth","_vibratoFreq","_vibratoWet","wet","_chorusSpread","spread","_chorusDepth","_chorusDelay","delay","_chorusWet","_crusherBits","bits","_crusherWet","_distOver","oversample","_distAmount","_distWet","_pitcherPitch","pitch","_pitcherWindow","windowSize","_pitcherWet","_reverbSize","roomSize","_reverbDampening","dampening","_reverbWet","App","componentDidMount","initializeSoundEngine","registerEvents","componentWillUnmount","document","addEventListener","handleKeyDown","handleKeyUp","handleMouseDown","handleMouseUp","handleMouseLeave","handleMouseOut","preventDefault","Context","setOutputFromState","controlsState","map","state","output","resumeAudioContext","audioContextStarted","resume","setState","keyPressed","toLowerCase","pianoKey","activatePianoKey","activeModifierKey","keyReleased","deactivatePianoKey","mouseDownOnKeys","button","target","prevState","filter","changeControlValue","activeControlType","resetControlValue","activateControl","screenY","deactivateControl","handleMouseMoveControl","event","activeScreenY","movement","abs","change","round","newState","removeEventListener","Number","isInteger","Component","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"2LA4IA,I,sHA5IaA,EAAU,CACtB,CAECC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACH,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACLC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACH,IAAK,KACL,IAAK,KACL,KAAM,KACNC,OAAQ,MAET,CAEC1B,EAAG,KACHQ,EAAG,WACHP,EAAG,KACHQ,EAAG,WACHP,EAAG,KACHC,EAAG,KACHQ,EAAG,WACHP,EAAG,KACHQ,EAAG,WACHP,EAAG,KACHQ,EAAG,WACHP,EAAG,KACH,IAAK,KACLS,EAAG,WACH,IAAK,KACL,IAAK,WACL,IAAK,KACLC,EAAG,KACH,EAAK,WACLC,EAAG,KACH,EAAK,WACLC,EAAG,KACHC,EAAG,KACH,EAAK,WACLC,EAAG,KACH,EAAK,WACLC,EAAG,KACH,EAAK,WACLC,EAAG,KACHC,EAAG,KACH,EAAK,WACLC,EAAG,KACH,EAAK,WACLC,EAAG,KACH,IAAK,KACL,IAAK,WACL,IAAK,KACLE,UAAW,WACX,KAAM,KACNC,OAAQ,WACRF,OAAQ,OAMGG,EAAQ,CACpB,CACCC,KAAM,IACNC,KALuB,QAKLC,KAAKC,IAJM,gBAIe,IAE7C,CACCH,KAAM,UACNC,KATuB,QASLC,KAAKC,IARM,gBAQe,IAE7C,CACCH,KAAM,IACNC,KAbuB,QAaLC,KAAKC,IAZM,gBAYe,IAE7C,CACCH,KAAM,UACNC,KAjBuB,QAiBLC,KAAKC,IAhBM,gBAgBe,IAE7C,CACCH,KAAM,IACNC,KArBuB,QAqBLC,KAAKC,IApBM,gBAoBe,IAE7C,CACCH,KAAM,IACNC,KAzBuB,QAyBLC,KAAKC,IAxBM,gBAwBe,IAE7C,CACCH,KAAM,UACNC,KA7BuB,QA6BLC,KAAKC,IA5BM,gBA4Be,IAE7C,CACCH,KAAM,IACNC,KAjCuB,QAiCLC,KAAKC,IAhCM,gBAgCe,IAE7C,CACCH,KAAM,UACNC,KArCuB,QAqCLC,KAAKC,IApCM,gBAoCe,IAE7C,CACCH,KAAM,IACNC,KAzCuB,QAyCLC,KAAKC,IAxCM,gBAwCe,IAE7C,CACCH,KAAM,UACNC,KA7CuB,QA6CLC,KAAKC,IA5CM,gBA4Ce,KAE7C,CACCH,KAAM,IACNC,KAjDuB,QAiDLC,KAAKC,IAhDM,gBAgDe,MAIjCC,EAAO,GACPC,EAAW,G,WACfZ,GACRM,EAAMO,SAAQ,SAAAC,GACb,IAAMC,EAAM,CACXR,KAAMO,EAAKP,KAAOP,EAClBQ,KAAMM,EAAKN,KAAOC,KAAKC,IAAI,EAAGV,GAC9BgB,OAAQhB,GAETW,EAAKM,KAAKF,GACVH,EAASG,EAAIR,MAAQQ,MARdf,EAAI,EAAGA,EAAI,GAAIA,IAAM,EAArBA,GAYF,IAAMkB,EACF,UADEA,EAEJ,QAGIC,EAAU,CACrB,oEACA,oEACA,4EACA,gEAGWC,EAAa,CACxB,WACA,SACA,WACA,QAGWC,EAAe,CAC3B,UACA,WACA,WACA,WACA,YACA,UACA,SAGYC,EAAkB,EAC5B,IACA,IACA,IACA,IAGUC,EAAmB,CAC9B,OACA,KACA,MAGWC,EAAgB,CAC5BC,QAAS,CACRlB,KAAM,UACNmB,UAAW,IAEZC,KAAM,CACLpB,KAAM,OACNmB,UAAW,IAIAE,EAAW,CAEvBC,OAAQ,CACPC,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAKzD,EAAQ0D,OAAS,IAGxBC,OAAQ,CACPL,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPG,UAAW,CACVN,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,IAGPI,WAAY,CACXP,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAIPK,OAAQ,CACPR,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPM,MAAO,CACNT,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPO,QAAS,CACRV,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPQ,QAAS,CACRX,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGNS,KAAM,CACJZ,aAAcZ,GAGhByB,OAAQ,CACNb,aAAc,EACdC,MAAO,CACLC,IAAK,EACLC,IAAKd,EAAQe,OAAS,IAG1BU,YAAa,CACXd,aAAc,EACdC,MAAO,CACLC,KAAM,GACNC,IAAK,KAIVY,UAAW,CACVf,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAKb,EAAWc,OAAS,IAG3BY,WAAY,CACXhB,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,IAGPc,cAAe,CACdjB,aAAc,EACdC,MAAO,CACNC,KAAM,EACNC,IAAK,IAGPe,WAAY,CACXlB,aAAc,EACdC,MAAO,CACNC,KAAM,IACNC,IAAK,MAGPgB,SAAU,CACTnB,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPiB,UAAW,CACVpB,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAKb,EAAWc,OAAS,IAG3BiB,WAAY,CACXrB,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,IAGPmB,cAAe,CACdtB,aAAc,EACdC,MAAO,CACNC,KAAM,EACNC,IAAK,IAGPoB,WAAY,CACXvB,aAAc,EACdC,MAAO,CACNC,KAAM,IACNC,IAAK,MAGPqB,SAAU,CACTxB,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPsB,YAAa,CACZzB,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAKb,EAAWc,OAAS,IAG3BsB,WAAY,CACX1B,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPwB,WAAY,CACX3B,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAIPyB,YAAa,CACZ5B,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAKZ,EAAaa,OAAS,IAG5ByB,eAAgB,CACd7B,aAAc,EACdC,MAAO,CACLC,IAAK,EACLC,IAAKX,EAAgBY,OAAS,IAGnC0B,YAAa,CACZ9B,aAAc,IACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGP4B,SAAU,CACT/B,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGP6B,YAAa,CACZhC,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAKZ,EAAaa,OAAS,IAG5B6B,eAAgB,CACdjC,aAAc,EACdC,MAAO,CACLC,IAAK,EACLC,IAAKX,EAAgBY,OAAS,IAGnC8B,YAAa,CACZlC,aAAc,IACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPgC,SAAU,CACTnC,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAIPiC,aAAc,CACbpC,aAAc,IACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPkC,YAAa,CACZrC,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPmC,WAAY,CACXtC,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAIPoC,aAAc,CACbvC,aAAc,IACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPqC,YAAa,CACZxC,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPsC,YAAa,CACZzC,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPuC,UAAW,CACV1C,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAIPwC,YAAa,CACZ3C,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,IAGPyC,WAAY,CACX5C,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAIP0C,SAAU,CACT7C,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAKV,EAAiBW,OAAS,IAGjC0C,WAAY,CACX9C,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGP4C,QAAS,CACR/C,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAIP6C,aAAc,CACbhD,aAAc,EACdC,MAAO,CACNC,KAAM,GACNC,IAAK,KAGP8C,cAAe,CACdjD,aAAc,IACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGP+C,WAAY,CACXlD,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAIPgD,WAAY,CACXnD,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPiD,gBAAiB,CAChBpD,aAAc,GACdC,MAAO,CACNC,IAAK,EACLC,IAAK,MAGPkD,UAAW,CACVrD,aAAc,EACdC,MAAO,CACNC,IAAK,EACLC,IAAK,OAKKmD,EAAiB,GACjBC,EAA0B,GACvCC,OAAOC,KAAK3D,GAAUf,SAAQ,SAAAtB,GAC7B6F,EAAenE,KAAK1B,GACpB8F,EAAwB9F,GAAKqC,EAASrC,GAAGuC,gBCvjB1C,IAmCe0D,EAnCE,SAAC,GASX,IARNC,EAQK,EARLA,OACAC,EAOK,EAPLA,SACAC,EAMK,EANLA,wBACAC,EAKK,EALLA,sBACAC,EAIK,EAJLA,wBACAC,EAGK,EAHLA,yBACAvF,EAEK,EAFLA,KACAO,EACK,EADLA,KAaA,OACC,yBACCiF,MAAOxF,EACPyF,UAbgB,CAChB,YADgB,oBAEHlF,GACbP,EAAK0F,SAAS,UAAO,kBAAoB,kBACzCR,EAAS,mBAAqBC,EAAW,qBAAuB,sBAG/CQ,KAAK,KAOtBC,GAAE,oBAAe5F,GACjB6F,SAAS,IACTC,YAAaV,EACbW,UAAWV,EACXW,YAAaV,EACbW,aAAcV,KCGFW,EA/BG,SAAAC,GAAU,IACpBC,EAAuBD,EAAvBC,WAAYC,EAAWF,EAAXE,QAEbC,EAAY,GACZC,EAAY,GAmBlB,OAjBkBnG,EAAKoG,MAAM,EAAG,GAAKH,GAE3B/F,SAAQ,SAACE,EAAKiG,IACRjG,EAAIR,KAAK0F,SAAS,UAAOY,EAAYC,GAE7C7F,KACN,kBAAC,EAAD,iBACKyF,EADL,CAEC3F,IAAkB,GAAbA,EAAIC,OAAcgG,EACvBzG,KAAMQ,EAAIR,KACVO,KAAMC,EAAIR,KAAK0G,UAAU,EAAGlG,EAAIR,KAAK2B,OAAS,GAC9C1B,KAAMO,EAAIP,KAAOC,KAAKC,IAAI,EAAGK,EAAIC,QACjCyE,OAAQkB,EAAWV,SAASlF,EAAIR,aAMlC,yBAAK4F,GAAG,cACP,yBAAKA,GAAG,oBAAoBU,GAC5B,yBAAKV,GAAG,oBAAoBW,KCbhBI,EAfO,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,mBAAoBC,EAAwB,EAAxBA,MAAO7G,EAAiB,EAAjBA,KAAM8G,EAAW,EAAXA,MAClD5B,EAAS2B,IAAUC,EAIzB,OACC,yBAAKrB,UAAW,8CACf,yBAAKA,UAAU,iBAAiBoB,GAChC,yBAAKpB,UAAW,oBACf,yBAAKsB,QANY,SAAA3H,GAAC,OAAIwH,EAAmB5G,EAAM6G,IAMpBpB,UAAW,WAAaP,EAAS,SAAW,SCyE5D8B,EAjFQ,SAAC,GAQjB,IAPNC,EAOK,EAPLA,uBACAC,EAMK,EANLA,qBACAC,EAKK,EALLA,wBACAnH,EAIK,EAJLA,KACA6G,EAGK,EAHLA,MACAO,EAEK,EAFLA,QACAN,EACK,EADLA,MACK,EAGDzF,EAASrB,GADZwB,MAAQC,EAFJ,EAEIA,IAAKC,EAFT,EAESA,IAWR2F,EARY,WACjB,IAAIC,EAAe,GAInB,OAHaA,EAAT5F,EAAM,EAAkB,cACR,eAChBD,EAAM,IAAG6F,GAAgB,aACtBA,EAGOC,GAQTC,EAAa,CAClB,eAAgB,CACfC,gBAAiB,EACjBC,MAAO,SAAAC,GACN,IAAMC,EAAS,GAEf,OADY,IAARD,IAAWC,EAAOC,KAAO,YACtBD,IAGT,wBAAyB,CACxBH,iBAAkB,EAClBC,MAAO,SAAAC,GACN,IAAMC,EAAS,GAOf,OANID,EAAM,GAAa,IAARA,KAAWC,EAAOC,KAAO,cAC5B,IAARF,IAAWC,EAAOC,KAAO,aAChB,IAATF,IACHC,EAAOC,KAAO,YACdD,EAAOE,cAAgB,aAEjBF,KAKV,OACC,yBAAKnC,UAAW,oBAAsB2B,EAAU,2BAA6B,KAC5E,2BAAOxB,GAAS5F,EAAO,SAAUyF,UAAU,gBAAgBsC,QAAS,GAAK/H,GACvE6G,GAAS7G,GAEX,yBAAKyF,UAAU,qDACd,yBAAKG,GAAI,GAAK5F,EAAMyF,UAAW,yBAA2B4B,GACxD,EACD,yBACCzB,GAAS5F,EAAO,cAChByF,UAAW,0DAA4D4B,EACvEW,SAAUR,EAAWH,GAAQI,kBAE9B,yBACC7B,GAAS5F,EAAO,cAChByF,UAAW,0DAA4D4B,EACvEW,SAAUlB,EACVY,MAAOF,EAAWH,GAAQK,MAAMZ,GAChChB,YAhDmB,SAAA1G,GAAC,OAAI6H,EAAuBjH,EAAMiB,EAAcC,QAAQlB,KAAMZ,IAiDjF2G,UA/CiB,SAAA3G,GAAC,OAAI8H,EAAqBlH,EAAMiB,EAAcC,QAAQlB,KAAMZ,IAgD7E6I,QA9CoB,SAAA7I,GAAC,OAAI+H,EAAwBnH,EAAMiB,EAAcC,QAAQlB,KAAMZ,UCuC1E8I,EAlEK,SAAC,GASd,IARNC,EAQK,EARLA,cACAlB,EAOK,EAPLA,uBACAC,EAMK,EANLA,qBACAC,EAKK,EALLA,wBACAN,EAIK,EAJLA,MACA7G,EAGK,EAHLA,KACAoI,EAEK,EAFLA,KACAtB,EACK,EADLA,MACK,EAGDzF,EAASrB,GADZwB,MAAQC,EAFJ,EAEIA,IAAKC,EAFT,EAESA,IAoCd,OACC,yBAAK+D,UAAW,6CAA+C2C,GAAQ,KACtE,yBAAK3C,UAAU,iBAAiBoB,GAAS7G,GACzC,yBAAKyF,UAAU,qBAAqBiC,MAVtB,CACdW,QAASF,IAAkBnI,EAAO,EAAI,IAUpC8G,GAEF,yBAAKrB,UAAU,kBACd,yBACCA,UAAU,OACViC,MApCiB,WACpB,IAAMA,EAAQ,GAIRY,EAAsC,MADR,KADI,KAAfxB,EAAQrF,IAAeC,EAAMD,IAEjB,KAAe,GAIpD,OAFAiG,EAAMa,UAAN,iBAA4BD,EAA5B,QAEOZ,EA2BGc,GACP1C,YA3CoB,SAAA1G,GAAC,OAAI6H,EAAuBjH,EAAMiB,EAAcG,KAAKpB,KAAMZ,IA4C/E2G,UA1CkB,SAAA3G,GAAC,OAAI8H,EAAqBlH,EAAMiB,EAAcG,KAAKpB,KAAMZ,IA2C3E6I,QAzCqB,SAAA7I,GAAC,OAAI+H,EAAwBnH,EAAMiB,EAAcG,KAAKpB,KAAMZ,SCipBvEqJ,EA/pBD,SAAAtC,GAAU,IAEpBgC,EAwDChC,EAxDDgC,cACAvB,EAuDCT,EAvDDS,mBACFK,EAsDGd,EAtDHc,uBACAC,EAqDGf,EArDHe,qBACAC,EAoDGhB,EApDHgB,wBAEE7F,EAkDC6E,EAlDD7E,OACAM,EAiDCuE,EAjDDvE,OACAC,EAgDCsE,EAhDDtE,UAEFE,GA8CGoE,EA/CDrE,WA+CCqE,EA9CHpE,QACAC,EA6CGmE,EA7CHnE,MACAC,EA4CGkE,EA5CHlE,QACEC,EA2CCiE,EA3CDjE,QACAC,EA0CCgE,EA1CDhE,KACAC,EAyCC+D,EAzCD/D,OACAC,EAwCC8D,EAxCD9D,YACFC,EAuCG6D,EAvCH7D,UACAC,EAsCG4D,EAtCH5D,WACAC,EAqCG2D,EArCH3D,cACAC,EAoCG0D,EApCH1D,WACAC,EAmCGyD,EAnCHzD,SACAC,EAkCGwD,EAlCHxD,UACAC,EAiCGuD,EAjCHvD,WACAC,EAgCGsD,EAhCHtD,cACAC,EA+BGqD,EA/BHrD,WACAC,EA8BGoD,EA9BHpD,SACEC,EA6BCmD,EA7BDnD,YACAC,EA4BCkD,EA5BDlD,WACFC,EA2BGiD,EA3BHjD,WACEC,EA0BCgD,EA1BDhD,YACAC,EAyBC+C,EAzBD/C,eACFC,EAwBG8C,EAxBH9C,YACAC,EAuBG6C,EAvBH7C,SACEC,EAsBC4C,EAtBD5C,YACAC,EAqBC2C,EArBD3C,eACFC,EAoBG0C,EApBH1C,YACEC,EAmBCyC,EAnBDzC,SACAC,EAkBCwC,EAlBDxC,aACAC,EAiBCuC,EAjBDvC,YACAC,EAgBCsC,EAhBDtC,WACAC,EAeCqC,EAfDrC,aACAC,EAcCoC,EAdDpC,YAEAE,GAYCkC,EAbDnC,YAaCmC,EAZDlC,WACAC,EAWCiC,EAXDjC,YACAC,EAUCgC,EAVDhC,WAEFE,GAQG8B,EATH/B,SASG+B,EARH9B,YACEC,EAOC6B,EAPD7B,QACAC,EAMC4B,EAND5B,aACAC,GAKC2B,EALD3B,cACAC,GAIC0B,EAJD1B,WACAC,GAGCyB,EAHDzB,WACFC,GAEGwB,EAFHxB,gBACAC,GACGuB,EADHvB,UAGK8D,GAAqB,CACxBP,gBACAvB,qBACFK,yBACAC,uBACAC,2BAUKwB,GAAa,kBAClB,yBAAK/C,GAAG,gBACP,yBAAKA,GAAG,OAAOgD,QAAQ,mCACtB,2BACC,0BACCjK,EAAE,2IACFkK,KAAK,qBAEN,0BACClK,EAAE,q5CACFmK,SAAS,UACTD,KAAK,qBAEN,0BACClK,EAAE,i3CACFkK,KAAK,qBAEN,0BACClK,EAAE,k1BACFmK,SAAS,UACTD,KAAK,qBAEN,0BACClK,EAAE,6SACFmK,SAAS,UACTD,KAAK,qBAEN,0BACClK,EAAE,2NACFkK,KAAK,qBAEN,0BACClK,EAAE,upCACFmK,SAAS,UACTD,KAAK,qBAEN,0BACClK,EAAE,q2BACFkK,KAAK,qBAEN,0BACClK,EAAE,qoBACFkK,KAAK,qBAEN,0BACClK,EAAE,oLACFkK,KAAK,qBAEN,0BACClK,EAAE,2vCACFkK,KAAK,qBAEN,0BACClK,EAAE,qkBACFkK,KAAK,uBAIR,yBAAKjD,GAAG,gBACP,0BAAMA,GAAG,qBACR,oCACA,0BAAM8B,MAAO,CAACI,cAAe,gBAA7B,KACA,qCAED,0BAAMJ,MAAO,CAACqB,WAAY,WAA1B,iBAiCGC,GAAuB,kBAC5B,yBAAKpD,GAAG,mBACNqD,KACAC,OAIID,GAAsB,kBAC1B,6BACE,kBAAC,EAAD,iBACMP,GADN,CAEE1I,KAAK,SACL8G,MAAOlF,EACPwG,KAAK,aAKNc,GAAyB,kBAC5B,yBAAKtD,GAAG,qBACN,6BACE,kBAAC,EAAD,iBACM8C,GADN,CAEE1I,KAAK,SACL8G,MAAO/E,EACPqG,KAAK,YAGT,6BACE,kBAAC,EAAD,iBACMM,GADN,CAEE1I,KAAK,QACL8G,MAAO9E,EACPoG,KAAK,YAGT,6BACE,kBAAC,EAAD,iBACMM,GADN,CAEE1I,KAAK,UACL8G,MAAO7E,EACPmG,KAAK,YAGT,6BACE,kBAAC,EAAD,iBACMM,GADN,CAEE1I,KAAK,UACL8G,MAAO5E,EACPkG,KAAK,cAyDRe,GAAoB,kBACzB,yBAAKvD,GAAG,cAAcH,UAAU,mBAC/B,yBAAKA,UAAU,8BACd,yBAAKA,UAAU,4BAAf,SACA,yBAAKA,UAAU,sBACd,kBAAC,EAAD,iBACKiD,GADL,CAEC1I,KAAK,YACL6G,MAAM,QACNC,MAAOxE,KAER,kBAAC,EAAD,iBACKoG,GADL,CAEC1I,KAAK,aACL6G,MAAM,SACNC,MAAOvE,KAER,kBAAC,EAAD,iBACKmG,GADL,CAEC1I,KAAK,gBACL6G,MAAM,QACNC,MAAOtE,KAER,kBAAC,EAAD,iBACKkG,GADL,CAEC1I,KAAK,aACL6G,MAAM,OACNC,MAAOrE,EACP2F,KAAK,YAEN,kBAAC,EAAD,iBACKM,GADL,CAEC1I,KAAK,WACL6G,MAAM,MACNC,MAAOpE,EACP0F,KAAK,cAIR,yBAAK3C,UAAU,8BACd,yBAAKA,UAAU,4BAAf,SACA,yBAAKA,UAAU,sBACd,kBAAC,EAAD,iBACKiD,GADL,CAEC1I,KAAK,YACL6G,MAAM,QACNC,MAAOnE,EACPyG,KAAK,kBAEN,kBAAC,EAAD,iBACKV,GADL,CAEC1I,KAAK,aACL6G,MAAM,SACNC,MAAOlE,KAER,kBAAC,EAAD,iBACK8F,GADL,CAEC1I,KAAK,gBACL6G,MAAM,QACNC,MAAOjE,KAER,kBAAC,EAAD,iBACK6F,GADL,CAEC1I,KAAK,aACL6G,MAAM,OACNC,MAAOhE,EACPsF,KAAK,YAEN,kBAAC,EAAD,iBACKM,GADL,CAEC1I,KAAK,WACL6G,MAAM,MACNC,MAAO/D,EACPqF,KAAK,gBAOJiB,GAAsB,kBAC3B,yBAAKzD,GAAG,iBAAiBH,UAAU,mBAClC,yBAAKA,UAAU,4BACd,yBAAKA,UAAU,4BAAf,WACA,yBAAKA,UAAU,sBACd,kBAAC,EAAD,iBACKiD,GADL,CAEC1I,KAAK,cACL6G,MAAM,QACNC,MAAO9D,EACPoG,KAAK,kBAED,kBAAC,EAAD,iBACAV,GADA,CAEJ1I,KAAK,aACL6G,MAAM,OACNC,MAAO7D,EACPmF,KAAK,WAEN,kBAAC,EAAD,iBACKM,GADL,CAEC1I,KAAK,aACL6G,MAAM,MACNC,MAAO5D,EACPkF,KAAK,eAsQV,OACC,yBAAKxC,GAAG,SACJ,yBAAKA,GAAG,cArfV,yBAAKA,GAAG,kBACN,kBAAC,EAAD,iBACM8C,GADN,CAEE1I,KAAK,YACL6G,MAAM,OACNyC,QAASjI,EAASQ,UAClBiF,MAAOjF,KAET,6BASA,kBAAC,EAAD,iBACE6G,GADF,CAEF1I,KAAK,SACLsJ,QAASjI,EAASC,OAClBwF,MAAOxF,EACP8F,SAAS,OAkeV,yBAAKxB,GAAG,eACP,yBAAKA,GAAG,mBArkBV,yBAAKA,GAAG,kBACN+C,KACAK,MA6JA,yBAAKpD,GAAG,gBAAgBH,UAAU,mBAChC,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BAAf,QACA,yBAAKA,UAAU,sBACb,kBAAC,EAAD,iBACMiD,GADN,CAEE1I,KAAK,OACL6G,MAAM,UACNC,MAAO3E,KAET,kBAAC,EAAD,iBACMuG,GADN,CAEE1I,KAAK,OACL6G,MAAM,QACNC,MAAO3E,QAOoB,YAATA,GAC1B,yBAAKyD,GAAG,UAAUH,UAAU,mBAC7B,yBAAKA,UAAU,4BACd,yBAAKA,UAAU,4BAAf,WACA,yBAAKA,UAAU,sBACT,kBAAC,EAAD,iBACAiD,GADA,CAEE1I,KAAK,SACX8G,MAAO1E,KAEH,kBAAC,EAAD,iBACAsG,GADA,CAEJ1I,KAAK,cACL6G,MAAM,QACNC,MAAOzE,EACP+F,KAAK,eAO0B,UAATjG,GACxB,oCACGgH,KACAE,MAoHL,yBAAKzD,GAAG,UAAUH,UAAU,mBAC3B,yBAAKA,UAAU,8BACd,yBAAKA,UAAU,4BAAf,YACA,yBAAKA,UAAU,sBACd,kBAAC,EAAD,iBACKiD,GADL,CAEC1I,KAAK,cACL6G,MAAM,OACNC,MAAO3D,KAEH,kBAAC,EAAD,iBACAuF,GADA,CAEJ1I,KAAK,iBACL6G,MAAM,QACNC,MAAO1D,KAER,kBAAC,EAAD,iBACKsF,GADL,CAEC1I,KAAK,cACL6G,MAAM,SACNC,MAAOzD,EACP+E,KAAK,YAEN,kBAAC,EAAD,iBACKM,GADL,CAEC1I,KAAK,WACL6G,MAAM,MACNC,MAAOxD,EACP8E,KAAK,cAIR,yBAAK3C,UAAU,8BACd,yBAAKA,UAAU,4BAAf,YACA,yBAAKA,UAAU,sBACd,kBAAC,EAAD,iBACKiD,GADL,CAEC1I,KAAK,cACL6G,MAAM,OACNC,MAAOvD,KAEH,kBAAC,EAAD,iBACAmF,GADA,CAEJ1I,KAAK,iBACL6G,MAAM,QACNC,MAAOtD,KAER,kBAAC,EAAD,iBACKkF,GADL,CAEC1I,KAAK,cACL6G,MAAM,SACNC,MAAOrD,EACP2E,KAAK,YAEN,kBAAC,EAAD,iBACKM,GADL,CAEC1I,KAAK,WACL6G,MAAM,MACNC,MAAOpD,EACP0E,KAAK,eAQP,yBAAKxC,GAAG,UAAUH,UAAU,mBAC1B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BAAf,WACA,yBAAKA,UAAU,sBACb,kBAAC,EAAD,iBACMiD,GADN,CAEE1I,KAAK,eACL6G,MAAM,QACNC,MAAOnD,EACPyE,KAAK,WAEP,kBAAC,EAAD,iBACMM,GADN,CAEE1I,KAAK,cACL6G,MAAM,OACNC,MAAOlD,EACPwE,KAAK,WAEP,kBAAC,EAAD,iBACMM,GADN,CAEE1I,KAAK,aACL6G,MAAM,MACNC,MAAOjD,EACPuE,KAAK,cAQb,yBAAKxC,GAAG,SAASH,UAAU,mBAC5B,yBAAKA,UAAU,4BACd,yBAAKA,UAAU,4BAAf,UACA,yBAAKA,UAAU,sBACd,kBAAC,EAAD,iBACKiD,GADL,CAEC1I,KAAK,eACL6G,MAAM,SACNC,MAAOhD,EACPsE,KAAK,WAED,kBAAC,EAAD,iBACAM,GADA,CAEJ1I,KAAK,cACL6G,MAAM,QACNC,MAAO/C,EACPqE,KAAK,WASD,kBAAC,EAAD,iBACAM,GADA,CAEJ1I,KAAK,YACL6G,MAAM,MACNC,MAAO7C,EACPmE,KAAK,cAQT,yBAAKxC,GAAG,aAAaH,UAAU,mBAC9B,yBAAKA,UAAU,4BACd,yBAAKA,UAAU,4BAAf,cACA,yBAAKA,UAAU,sBACT,kBAAC,EAAD,iBACMiD,GADN,CAEE1I,KAAK,cACL6G,MAAM,OACNC,MAAO5C,KAEd,kBAAC,EAAD,iBACKwE,GADL,CAEC1I,KAAK,aACL6G,MAAM,MACNC,MAAO3C,EACPiE,KAAK,cAQT,yBAAKxC,GAAG,aAAaH,UAAU,mBAC9B,yBAAKA,UAAU,4BACd,yBAAKA,UAAU,4BAAf,cACA,yBAAKA,UAAU,sBAOd,kBAAC,EAAD,iBACKiD,GADL,CAEC1I,KAAK,aACL6G,MAAM,SACNC,MAAOzC,EACP+D,KAAK,WAEN,kBAAC,EAAD,iBACKM,GADL,CAEC1I,KAAK,UACL6G,MAAM,MACNC,MAAOxC,EACP8D,KAAK,cAQP,yBAAKxC,GAAG,UAAUH,UAAU,mBAC1B,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,4BAAf,WACA,yBAAKA,UAAU,sBACb,kBAAC,EAAD,iBACMiD,GADN,CAEE1I,KAAK,eACL6G,MAAM,QACNC,MAAOvC,EACP6D,KAAK,WAEP,kBAAC,EAAD,iBACMM,GADN,CAEE1I,KAAK,gBACL6G,MAAM,QACNC,MAAOtC,GACP4D,KAAK,WAEP,kBAAC,EAAD,iBACMM,GADN,CAEE1I,KAAK,aACL6G,MAAM,MACNC,MAAOrC,GACP2D,KAAK,cAQf,yBAAKxC,GAAG,SAASH,UAAU,mBAC1B,yBAAKA,UAAU,4BACd,yBAAKA,UAAU,4BAAf,UACI,yBAAKA,UAAU,sBACb,kBAAC,EAAD,iBACAiD,GADA,CAEJ1I,KAAK,aACL6G,MAAM,OACNC,MAAOpC,GACP0D,KAAK,WAEN,kBAAC,EAAD,iBACKM,GADL,CAEC1I,KAAK,kBACL6G,MAAM,OACNC,MAAOnC,GACPyD,KAAK,WAEN,kBAAC,EAAD,iBACKM,GADL,CAEC1I,KAAK,YACL6G,MAAM,MACNC,MAAOlC,GACPwD,KAAK,eA8BH,yBAAKxC,GAAG,sBAtBZ,kBAAC,EAAcO,OCroBNoD,EAAoB,SAACtJ,EAAMQ,EAAQ+I,GAE/C,OAD0BvJ,EAAOC,KAAKC,IAAI,EAAGM,GAAW,EAC9BP,KAAKC,IPiFD,gBOjFsBqJ,IAIxCC,EAAuB,SAAA3C,GAAK,OAAI,GAAK5G,KAAKwJ,MAAM5C,EAAQ,MAGxD6C,EAAwB,SAAA7C,GAAK,OAAI8C,QAAgB1J,KAAKC,IP0EpC,gBO1EyD2G,GAAS8C,SAGpFC,EAAsB,SAAA/C,GAAK,OAAI5G,KAAKC,IAAI2G,EAAO,GAAK,MAAQ,MCgBpDgD,E,WACpB,WACCC,EACAzI,EACAM,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAE,EACAD,EACAE,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAK,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,IACE,IAAD,8CAmBFoF,iBAAmB,WAClB,GAAKC,OAASC,UApBb,KAuBFC,iBAAmB,WAClB,GAAKC,OAAS,IAAIC,WAClB,GAAKD,OAAOE,QAAQ,GAAKL,SAzBxB,KA4BFM,kBAAoB,WACnB,GAAKC,QAAU,IAAIC,aACnB,GAAKD,QAAQF,QAAQ,GAAKF,SA9BzB,KAiCFM,qBAAuB,WACtB,GAAKC,WAAa,IAAIC,aACtB,GAAKD,WAAWL,QAAQ,GAAKE,UAnC5B,KAsCFK,qBAAuB,WACtB,GAAKC,WAAa,IAAIC,aACtB,GAAKD,WAAWR,QAAQ,GAAKK,aAxC5B,KA2CFK,iBAAmB,WAClB,GAAKC,OAAS,IAAIC,SAClB,GAAKD,OAAOX,QAAQ,GAAKK,aA7CxB,KAgDFQ,kBAAoB,WACnB,GAAKC,QAAU,IAAIC,UACnB,GAAKD,QAAQd,QAAQ,GAAKW,SAlDzB,KAqDFK,kBAAoB,WACnB,GAAKC,QAAU,IAAIC,SAAO,EAAG,WAAY,IACzC,GAAKC,QAAU,IAAID,SAAO,EAAG,WAAY,IACzC,GAAKD,QAAQjB,QAAQ,GAAKmB,SAC1B,GAAKA,QAAQnB,QAAQ,GAAKc,UAzDzB,KA4DFM,kBAAoB,WACnB,GAAKC,QAAU,IAAIC,UAClB,CACCC,GAAIjL,EAAQ,KAEb,SAAAxB,GAAC,OAAI0M,QAAQC,IAAI,2BAA4B3M,MAG9C,GAAKuM,QAAQrB,QAAQ,GAAKiB,UApEzB,KAuEFS,sBAAwB,WACvB,GAAKC,KAAO,IAAIC,YAAU,GAAKrK,UAAWsK,WAC1C,GAAKC,KAAO,IAAIF,YAAU,GAAKrK,UAAWsK,WAC1C,GAAKE,YAAc,CAAC,GAAKJ,KAAM,GAAKG,MACpC,GAAKC,YAAY/L,SAAQ,SAAAZ,GACxBA,EAAE4K,QAAQ,GAAKiB,aA5Ef,KAgFFe,iBAAmB,WAClBzH,EAAevE,SAAQ,SAAA/B,GACZ,cAANA,IACH,GAAKA,GAAK,GAAK,IAAD,OAAKA,QAIrB,GAAKgO,SAAW,MAChB,GAAKC,MAAQ,IAxFZ,KA2FFC,QAAU,SAAAxM,GAGT,GAAKyM,SAAS,CAACzM,KA9Fd,KAiGFyM,SAAW,WAAiB,IAAhBF,EAAe,uDAAP,GAGnBA,EAAMlM,SAAQ,SAAAL,GAGb,GAFA,GAAKuM,MAAM9L,KAAKT,GAEZ,GAAKkC,OAASxB,EAAa,CAC9B,IAAMgM,EAAiBpD,EAAkBtJ,EAAM,GAAK2M,YAAa,GAAKC,gBAChEC,EAAiBvD,EAAkBtJ,EAAM,GAAK8M,YAAa,GAAKC,gBACtE,GAAKf,KAAKgB,cAAcN,EAAgB,GAAKO,cAAcC,MAAO,GAClE,GAAKf,KAAKa,cAAcH,EAAgB,GAAKI,cAAcC,MAAO,QACxD,GAAKhL,OAASxB,GAAiB,GAAKgL,QAAQyB,QACtD,GAAKzB,QAAQsB,cACZ1D,EAAkBtJ,EAAM,EAAG,GAAKoC,aAChC,GAAK6K,cAAcC,MACnB,OAhHF,KAsHFE,QAAU,SAAApN,GAKT,GAFA,GAAKuM,MAAMc,OAAO,GAAKd,MAAMe,QAAQtN,GAAO,GAExC,GAAKkC,OAASxB,EAAa,CAC9B,IAAMgM,EAAiBpD,EAAkBtJ,EAAM,GAAK2M,YAAa,GAAKC,gBAChEC,EAAiBvD,EAAkBtJ,EAAM,GAAK8M,YAAa,GAAKC,gBACtE,GAAKf,KAAKuB,eAAeb,EAAgB,GAAKO,cAAcC,OAC5D,GAAKf,KAAKoB,eAAeV,EAAgB,GAAKI,cAAcC,YAClD,GAAKhL,OAASxB,GACxB,GAAKgL,QAAQ6B,eACZjE,EAAkBtJ,EAAM,EAAG,GAAKoC,aAChC,GAAK6K,cAAcC,QAnIpB,KAwIFM,SAAW,WAGV,GAAKxB,KAAKyB,aACV,GAAKtB,KAAKsB,aACV,GAAK/B,QAAQ+B,aACb,GAAKlB,MAAQ,IA9IZ,KAiJFmB,cAAgB,WAGf,GAAKC,aAAe,GAAKpB,MACzB,GAAKiB,WACL,GAAKf,SAAS,GAAKkB,eAtJlB,KAyJFC,cAAgB,kBAA0B,IAApB,GAAK/L,YAzJzB,KA2lBFgM,IAAM,SAACxE,EAASxC,GACfgF,QAAQC,IAAR,kBAAuBzC,EAAvB,eAAqCxC,IAErC,GAAKwC,GAAWxC,GA7lBhBiH,KAAKC,SAAU,EACfD,KAAKb,cAAgBnD,EAErBlF,EAAevE,SAAQ,SAAC/B,EAAGkB,GAAJ,OAAW,GAAK,IAAD,OAAKlB,IAAO0P,GAAUxO,EAAI,MAEhEsO,KAAK/D,mBACL+D,KAAK5D,mBACL4D,KAAKxD,oBACLwD,KAAKrD,uBACLqD,KAAKlD,uBACLkD,KAAK/C,mBACL+C,KAAK5C,oBACL4C,KAAKzC,oBACLyC,KAAKrC,oBACLqC,KAAK/B,wBACL+B,KAAKzB,mB,mDA8IL,OAAO7C,EAAqBsE,KAAKG,U,aAEvB/P,GACV4P,KAAKG,QAAU/P,EACf4P,KAAK9D,OAAOrI,OAAOkF,MAAQiH,KAAKnM,S,gCAIhC,OAAOmM,KAAKI,Y,aAEChQ,GACb4P,KAAKI,WAAahQ,EAClB4P,KAAK/B,wBACL+B,KAAKzB,qB,iCAIL,OAAOyB,KAAKK,YAAc,K,aAEZjQ,GAAI,IAAD,OACjB4P,KAAKK,YAAcjQ,EACnB4P,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OAAIA,EAAEoO,IAAI,aAAc,EAAKhM,iB,+BAIvD,MAAO,CACNuM,YAAa,cACbC,WAAY,cACZC,aAAc,cACdxM,OAAQgM,KAAKhM,OACbC,MAAO+L,KAAK/L,MACZC,QAAS8L,KAAK9L,QACdC,QAAS6L,KAAK7L,U,eAGQ,IAAD,+DACtB6L,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OACzBA,EAAEoO,IAAI,CACLvB,SAAU,EAAKA,SACfiC,mBAAoB,EAAKjC,gB,6BAM3B,OAAO1C,EAAoBkE,KAAKU,U,aAEtBtQ,GAAI,IAAD,OACb4P,KAAKU,QAAUtQ,EAEf4P,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OAAIA,EAAEoO,IAAI,CAACvB,SAAU,CAACxK,OAAQ,EAAKA,aAC7DgM,KAAKpC,QAAQ5J,OAASgM,KAAKhM,S,4BAI3B,OAAO8H,EAAoBkE,KAAKW,S,aAEvBvQ,GAAI,IAAD,OACZ4P,KAAKW,OAASvQ,EAEd4P,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OAAIA,EAAEoO,IAAI,CAACvB,SAAU,CAACvK,MAAO,EAAKA,YAC5D+L,KAAKpC,QAAQ3J,MAAQ+L,KAAK/L,Q,8BAI1B,OAAO+L,KAAKY,SAAW,K,aAEZxQ,GAAI,IAAD,OACd4P,KAAKY,SAAWxQ,EAEhB4P,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OAAIA,EAAEoO,IAAI,CAACvB,SAAU,CAACtK,QAAS,EAAKA,cAC9D8L,KAAKpC,QAAQ1J,QAAU8L,KAAK9L,U,8BAI5B,OAAO4H,EAAoBkE,KAAKa,W,aAErBzQ,GAAI,IAAD,OACd4P,KAAKa,SAAWzQ,EAChB4P,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OAAIA,EAAEoO,IAAI,CAACvB,SAAU,CAACrK,QAAS,EAAKA,cAC9D6L,KAAKpC,QAAQzJ,QAAU6L,KAAK7L,U,2BAI5B,OAAO6L,KAAKc,O,aAEJ1Q,GACR4P,KAAKc,MAAQ1Q,EACb4P,KAAKN,a,6BAML,OAAO7M,EAAQmN,KAAKe,U,aAEV3Q,GAAI,IAAD,OACb4P,KAAKe,QAAU3Q,EACf,IAAM4Q,EAAe,IAAIC,SACxBjB,KAAK3L,QACL,WACC0J,QAAQC,IAAI,iBACZ,EAAKJ,QAAQsD,IAAI,KAAMF,GAAc,kBAAMjD,QAAQC,IAAI,uBAExD,SAAA3M,GAAC,OAAI0M,QAAQC,IAAI,yBAA0B3M,Q,kCAK5C,OAAO2O,KAAKmB,c,aAEG/Q,GACf4P,KAAKmB,aAAe/Q,EACpB4P,KAAKJ,kB,gCAML,OAAO9M,EAAWkN,KAAKoB,a,aAEVhR,GACb4P,KAAKoB,WAAahR,EAClB4P,KAAK9B,KAAK6B,IAAI,CAACsB,WAAY,CAAChG,KAAM2E,KAAKzL,e,gCAIvC,OAAOzB,EAAWkN,KAAKsB,a,aAEVlR,GACb4P,KAAKsB,WAAalR,EAClB4P,KAAK3B,KAAK0B,IAAI,CAACsB,WAAY,CAAChG,KAAM2E,KAAKpL,e,iCAIvC,OAAOoL,KAAKnB,a,aAEEzO,GACd4P,KAAKnB,YAAczO,EACnB4P,KAAKJ,kB,iCAIL,OAAOI,KAAKhB,a,aAEE5O,GACd4P,KAAKhB,YAAc5O,EACnB4P,KAAKJ,kB,oCAIL,OAAOI,KAAKlB,gB,aAEK1O,GACjB4P,KAAKlB,eAAiB1O,EACtB4P,KAAKJ,kB,oCAIL,OAAOI,KAAKf,gB,aAEK7O,GACjB4P,KAAKf,eAAiB7O,EACtB4P,KAAKJ,kB,iCAIL,OAAOI,KAAKuB,a,aAEEnR,GACd4P,KAAKuB,YAAcnR,EACnB4P,KAAK9B,KAAK6B,IAAI,SAAUC,KAAKtL,c,iCAI7B,OAAOsL,KAAKwB,a,aAEEpR,GACd4P,KAAKwB,YAAcpR,EACnB4P,KAAK3B,KAAK0B,IAAI,SAAUC,KAAKjL,c,+BAI7B,OAAO2G,EAAqBsE,KAAKyB,Y,aAErBrR,GACZ4P,KAAKyB,UAAYrR,EACjB4P,KAAK9B,KAAK6B,IAAI,SAAUC,KAAKrL,Y,+BAG7B,OAAO+G,EAAqBsE,KAAK0B,Y,aAErBtR,GACZ4P,KAAK0B,UAAYtR,EACjB4P,KAAK3B,KAAK0B,IAAI,SAAUC,KAAKhL,Y,kCAM7B,OAAOlC,EAAWkN,KAAK2B,e,aAERvR,GAAI,IAAD,OAClB4P,KAAK2B,aAAevR,EACpB4P,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OAAIA,EAAEoO,IAAI,CAAC6B,WAAY,CAACvG,KAAM,EAAKpG,oB,iCAI7D,OD5aqC8D,EC4aNiH,KAAK6B,YD5aU1P,KAAKC,IAAI,GAAI2G,EAAQ,IAAM,IAApC,IAAAA,G,aC8avB3I,GAAI,IAAD,OACjB4P,KAAK6B,YAAczR,EACnB4P,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OAAIA,EAAEoO,IAAI,CAAC+B,YAAa,EAAK5M,kB,iCAIvD,OAAO8K,KAAK+B,a,aAEE3R,GAAI,IAAD,OACjB4P,KAAK+B,YAAc3R,EACnB4P,KAAK1B,YAAY/L,SAAQ,SAAAZ,GAAC,OAAIA,EAAEoO,IAAI,CAACiC,gBAAiB,EAAK7M,kB,kCAM3D,OAAOpC,EAAaiN,KAAKiC,e,aAEV7R,GACf4P,KAAKiC,aAAe7R,EACpB4P,KAAKxC,QAAQnC,KAAO2E,KAAK5K,c,kCAIzB,OAAOrC,EAAaiN,KAAKkC,e,aAEV9R,GACf4P,KAAKmC,aAAe/R,EACpB4P,KAAKtC,QAAQrC,KAAO2E,KAAKxK,c,qCAIzB,OAAOxC,EAAgBgN,KAAKoC,kB,aAEVhS,GAClB4P,KAAKoC,gBAAkBhS,EACvB4P,KAAKxC,QAAQ6E,QAAUrC,KAAK3K,iB,qCAI5B,OAAOrC,EAAgBgN,KAAKsC,kB,aAEVlS,GAClB4P,KAAKsC,gBAAkBlS,EACvB4P,KAAKtC,QAAQ2E,QAAUrC,KAAKvK,iB,kCAI5B,OAAOmG,EAAsBoE,KAAKuC,e,aAEnBnS,GACf4P,KAAKuC,aAAenS,EACpB4P,KAAKxC,QAAQgF,UAAUzJ,MAAQiH,KAAK1K,c,kCAIpC,OAAOsG,EAAsBoE,KAAKyC,e,aAEnBrS,GACf4P,KAAKyC,aAAerS,EACpB4P,KAAKtC,QAAQ8E,UAAUzJ,MAAQiH,KAAKtK,c,+BAIpC,OAAOvD,KAAKC,IAAI4N,KAAK0C,UAAW,GAAK,I,aAEzBtS,GACZ4P,KAAK0C,UAAYtS,EACjB4P,KAAKxC,QAAQmF,EAAE5J,MAAQiH,KAAKzK,W,+BAI5B,OAAOpD,KAAKC,IAAI4N,KAAK4C,UAAW,GAAK,I,aAEzBxS,GACZ4P,KAAK4C,UAAYxS,EACjB4P,KAAKtC,QAAQiF,EAAE5J,MAAQiH,KAAKrK,W,mCAM5B,OAAOqK,KAAK6C,cAAgB,K,aAEZzS,GAChB4P,KAAK6C,cAAgBzS,EACrB4P,KAAK3C,QAAQyF,MAAM/J,MAAQiH,KAAKpK,e,kCAIhC,OAAOoK,KAAK+C,aAAe,I,aAEZ3S,GACf4P,KAAK+C,aAAe3S,EACpB4P,KAAK3C,QAAQmF,UAAUzJ,MAAQiH,KAAKnK,c,iCAIpC,OAAOmK,KAAKgD,YAAc,K,aAEZ5S,GACd4P,KAAKgD,YAAc5S,EACnB4P,KAAK3C,QAAQ4F,IAAIlK,MAAQiH,KAAKlK,a,mCAM9B,OAAOkK,KAAKkD,e,aAEI9S,GAChB4P,KAAKkD,cAAgB9S,EACrB4P,KAAK9C,OAAOiG,OAASnD,KAAKjK,e,kCAI1B,OAAOiK,KAAKoD,aAAe,K,aAEZhT,GACf4P,KAAKoD,aAAehT,EACpB4P,KAAK9C,OAAO4F,MAAQ9C,KAAKhK,c,kCAIzB,OAAOgK,KAAKqD,c,aAEGjT,GACf4P,KAAKqD,aAAejT,EACpB4P,KAAK9C,OAAOoG,MAAQtD,KAAK/J,c,gCAIzB,OAAO+J,KAAKuD,WAAa,K,aAEZnT,GACb4P,KAAKuD,WAAanT,EAClB4P,KAAK9C,OAAO+F,IAAIlK,MAAQiH,KAAKuD,a,kCAM7B,OAAOvD,KAAKwD,c,aAEGpT,GACf4P,KAAKwD,aAAepT,EACpB4P,KAAKjD,WAAW0G,KAAOzD,KAAK7J,c,iCAI5B,OAAO6J,KAAK0D,YAAc,K,aAEZtT,GACd4P,KAAK0D,YAActT,EACnB4P,KAAKjD,WAAWkG,IAAIlK,MAAQiH,KAAK5J,a,+BAMjC,OAAOnD,EAAiB+M,KAAK2D,Y,aAEjBvT,GACZ4P,KAAK2D,UAAYvT,EACjB4P,KAAKpD,WAAWgH,WAAa5D,KAAK3J,W,iCAIlC,OAAO2J,KAAK6D,YAAc,K,aAEZzT,GACd4P,KAAK6D,YAAczT,EACnB4P,KAAKpD,WAAWA,WAAaoD,KAAK1J,a,8BAIlC,OAAO0J,KAAK8D,SAAW,K,aAEZ1T,GACX4P,KAAK8D,SAAW1T,EAChB4P,KAAKpD,WAAWqG,IAAIlK,MAAQiH,KAAKzJ,U,mCAMjC,OAAOyJ,KAAK+D,e,aAEI3T,GAChB4P,KAAK+D,cAAgB3T,EACrB4P,KAAKvD,QAAQuH,MAAQhE,KAAKxJ,e,oCAI1B,OAAOwJ,KAAKiE,eAAiB,K,aAEZ7T,GACjB4P,KAAKiE,eAAiB7T,EACtB4P,KAAKvD,QAAQyH,WAAalE,KAAKvJ,gB,iCAI/B,OAAOuJ,KAAKmE,YAAc,K,aAEZ/T,GACd4P,KAAKmE,YAAc/T,EACnB4P,KAAKvD,QAAQwG,IAAIlK,MAAQiH,KAAKtJ,a,iCAM9B,OAAOsJ,KAAKoE,YAAc,K,aAEZhU,GACd4P,KAAKoE,YAAchU,EACnB4P,KAAK3D,OAAOgI,SAAStL,MAAQiH,KAAKrJ,a,sCAIlC,OAAOiF,EAAsBoE,KAAKsE,mB,aAEflU,GACnB4P,KAAKsE,iBAAmBlU,EACxB4P,KAAK3D,OAAOkI,UAAUxL,MAAQiH,KAAKpJ,kB,gCAInC,OAAOoJ,KAAKwE,WAAa,K,aAEZpU,GACb4P,KAAKwE,WAAapU,EAClB4P,KAAK3D,OAAO4G,IAAIlK,MAAQiH,KAAKnJ,c,KClVhB4N,E,YAtUd,WAAYrM,GAAQ,IAAD,8BAClB,4CAAMA,KAsBPsM,kBAAoB,WACnB,EAAKC,wBACL,EAAKC,kBAzBa,EA4BnBC,qBAAuB,aA5BJ,EAgCnBD,eAAiB,WAGhBE,SAASC,iBAAiB,UAAW,EAAKC,eAC1CF,SAASC,iBAAiB,QAAS,EAAKE,aAExCH,SAASC,iBAAiB,YAAa,EAAKG,iBAC5CJ,SAASC,iBAAiB,UAAW,EAAKI,eAC1CL,SAASC,iBAAiB,aAAc,EAAKK,kBAC7CN,SAASC,iBAAiB,WAAY,EAAKM,gBAE3CP,SAASC,iBAAiB,QAAQ,SAAA1T,GAAC,OAAIA,EAAEiU,oBACzCR,SAASC,iBAAiB,WAAW,SAAA1T,GAAC,OAAIA,EAAEiU,oBAC5CR,SAASC,iBAAiB,aAAa,SAAA1T,GAAC,OAAIA,EAAEiU,oBAC9CR,SAASC,iBAAiB,YAAY,SAAA1T,GAAC,OAAIA,EAAEiU,oBAC7CR,SAASC,iBAAiB,aAAa,SAAA1T,GAAC,OAAIA,EAAEiU,oBAC9CR,SAASC,iBAAiB,YAAY,SAAA1T,GAAC,OAAIA,EAAEiU,oBAC7CR,SAASC,iBAAiB,aAAa,SAAA1T,GAAC,OAAIA,EAAEiU,oBAC9CR,SAASC,iBAAiB,QAAQ,SAAA1T,GAAC,OAAIA,EAAEiU,qBAlDvB,EAqDnBX,sBAAwB,WAGvB,EAAK3I,aAAe,IAAIuJ,UACxB,EAAKC,sBAzDa,EA4DnBA,mBAAqB,WAGpB,IAAMC,EAAgB3O,EAAe4O,KAAI,SAAAlV,GAAC,OAAI,EAAKmV,MAAMnV,MACzD,EAAKoV,OAAL,YAAkB7J,EAAlB,CAAyB,EAAKC,cAA9B,mBAA+CyJ,MAhE7B,EAmEnBI,mBAAqB,WAGf,EAAKF,MAAMG,sBACf,EAAK9J,aAAa+J,SAClB,EAAKC,SAAS,CAACF,qBAAqB,MAxEnB,EA8EnBd,cAAgB,SAAA3T,GAGfA,EAAEiU,iBACF,IAAMW,EAAa5U,EAAEoB,IAAIyT,cACnBC,EAAWjW,EAAQ,EAAKyV,MAAMpS,QAAQ0S,GAExCE,EACH,EAAKC,iBAAiBD,GACG,YAAfF,GAA2C,YAAfA,GACtC,EAAKD,SAAS,CAACK,mBAAmB,IAGnC,EAAKR,sBA3Fa,EA8FnBZ,YAAc,SAAA5T,GAGb,IAAMiV,EAAcjV,EAAEoB,IAAIyT,cAEN,YAAhBI,GAA6C,YAAhBA,GAChC,EAAKN,SAAS,CAACK,mBAAmB,IAEnC,IAAMF,EAAWjW,EAAQ,EAAKyV,MAAMpS,QAAQ+S,GACxCH,GACH,EAAKI,mBAAmBJ,IAxGP,EA4GnBjB,gBAAkB,SAAA7T,GAGjB,EAAKwU,sBA/Ga,EAkHnBV,cAAgB,SAAA9T,GAGf,EAAKmV,iBAAkB,EACvB,EAAKb,MAAMvL,eACV,EAAK4L,SAAS,CACb5L,cAAe,KACfiM,mBAAmB,KAzHH,EA6HnBjB,iBAAmB,SAAA/T,KA7HA,EAiInBgU,eAAiB,SAAAhU,KAjIE,EAuInBgG,wBAA0B,SAAAhG,GAGR,IAAbA,EAAEoV,SACL,EAAKL,iBAAiB/U,EAAEqV,OAAOjP,OAC/B,EAAK+O,iBAAkB,IA5IN,EAgJnBlP,sBAAwB,SAAAjG,GAGN,IAAbA,EAAEoV,SACL,EAAKD,iBAAkB,EACvB,EAAKD,mBAAmBlV,EAAEqV,OAAOjP,SArJhB,EAyJnBF,wBAA0B,SAAAlG,KAzJP,EA8JnBmG,yBAA2B,SAAAnG,GAG1B,EAAKmV,iBAAmB,EAAKD,mBAAmBlV,EAAEqV,OAAOjP,QAjKvC,EAoKnB2O,iBAAmB,SAAA3T,GAGb,EAAKkT,MAAMtN,WAAWV,SAASlF,KACnC,EAAKmT,OAAOlH,QAAQpM,EAASG,GAAKP,MAClC,EAAK8T,UAAS,SAAAW,GAAS,MAAK,CAC3BtO,WAAW,GAAD,mBAAMsO,EAAUtO,YAAhB,CAA4B5F,UA1KtB,EA+KnB8T,mBAAqB,SAAA9T,GAGhB,EAAKkT,MAAMtN,WAAWV,SAASlF,KAClC,EAAKmT,OAAOtG,QAAQhN,EAASG,GAAKP,MAClC,EAAK8T,UAAS,SAAAW,GAAS,MAAK,CAC3BtO,WAAYsO,EAAUtO,WAAWuO,QAAO,SAAA3V,GAAC,OAAIA,IAAMwB,WArLnC,EA4LnBoG,mBAAqB,SAAC0C,EAASxC,GAG9B,EAAK8N,mBAAmBtL,EAASxC,IA/Lf,EAkMnBG,uBAAyB,SAACkB,EAAe0M,EAAmBzV,GAG1C,IAAbA,EAAEoV,SAED,EAAKd,MAAMU,kBAEd,EAAKU,kBAAkB3M,GAEvB,EAAK4M,gBAAgB5M,EAAe0M,EAAmBzV,EAAE4V,WA3MzC,EAgNnB9N,qBAAuB,SAACiB,EAAe/I,GAGrB,IAAbA,EAAEoV,QACL,EAAKS,kBAAkB9M,IApNN,EAwNnB+M,uBAAyB,SAAAC,GAAS,MAG4C,EAAKzB,MAA3EU,EAH0B,EAG1BA,kBAAmBjM,EAHO,EAGPA,cAAe0M,EAHR,EAGQA,kBAAmBO,EAH3B,EAG2BA,cAE5D,GAAIjN,EAAe,CAClB,IAAIhH,EAAYF,EAAc4T,GAAmB1T,WAAa,EAE1DiT,IACHjT,GAAa,IAGd,IAAMkU,EAAWnV,KAAKoV,IAAIH,EAAMH,QAAUI,GAEtCG,EAAS,EAOb,GANIJ,EAAMH,QAAU7T,EAAYiU,EAC/BG,EAASrV,KAAKsV,OAAOH,EAAWlU,GACtBgU,EAAMH,QAAU7T,EAAYiU,IACtCG,EAASrV,KAAKsV,MAAMH,EAAWlU,IAG5BoU,EAAQ,CACX,IAAME,EAAQ,eAAO,EAAK/B,OAC1B+B,EAAQ,cAAoBN,EAAMH,QAClC,EAAKjB,SAAS0B,GACd,EAAKb,mBAAmBzM,EAAeoN,MAjPvB,EAsPnBpO,wBAA0B,SAACgB,EAAe0M,EAAmBzV,GAQ5D,OAAO,GA9PW,EAiQnB2V,gBAAkB,SAAC5M,EAAe0M,EAAmBG,GAGpDnC,SAASC,iBAAiB,YAAa,EAAKoC,wBAE5C,EAAKnB,SAAS,CACb5L,gBACA0M,oBACAO,cAAeJ,KAzQE,EA6QnBC,kBAAoB,SAAA9M,GAGnB0K,SAAS6C,oBAAoB,YAAa,EAAKR,wBAE/C,EAAKnB,SAAS,CAAC5L,cAAe,QAlRZ,EAqRnByM,mBAAqB,SAACtL,EAASiM,GAG9B,IAAME,EAAQ,eAAO,EAAK/B,OACnBlS,EAASH,EAASiI,GAAlB9H,MAEHsF,EAAQyO,EAEZ,GAAI/T,EAAO,CACVsF,EAAQ2O,EAASnM,GAAWiM,EADlB,IAEH9T,EAAYD,EAAZC,IAAKC,EAAOF,EAAPE,IACRoF,EAAQpF,EAAKoF,EAAQpF,EAChBoF,EAAQrF,IAAKqF,EAAQrF,GAG/BgU,EAASnM,GAAWxC,EACpB,EAAK6M,OAAO7F,IAAIxE,EAASxC,GACzB,EAAKiN,SAAS0B,IAtSI,EAySnBX,kBAAoB,SAAAxL,GACnBwC,QAAQC,IAAI,oBAAqBzC,GACjC,EAAKyK,SAAL,eAAgBzK,EAAUjI,EAASiI,GAAS/H,gBAxS5C,EAAKD,OAAS6E,EAAM7E,QAAU,EAC9B,EAAK+E,QAAUF,EAAME,UAEhB,EAAKA,UAAYsP,OAAOC,UAAU,EAAKvP,UAAY,EAAKA,QAAU,IAAM,EAAKA,QAAU,KAC3F,EAAKA,QAAU,GAGhB,EAAKqN,MAAL,aACCtN,WAAY,GACZ+B,cAAe,KACf0M,kBAAmB,KACnBO,cAAe,KACfhB,mBAAmB,EACnBP,qBAAqB,EACrBxN,QAAS,EAAKA,QACd/E,OAAQ,EAAKA,QACVwD,GAnBc,E,sEAiTlB,OACC,yBACCc,GAAG,aAGH,kBAAC,EAAD,iBACKmI,KAAK2F,MADV,CAECtO,wBAAyB2I,KAAK3I,wBAC9BC,sBAAuB0I,KAAK1I,sBAC5BC,wBAAyByI,KAAKzI,wBAC9BC,yBAA0BwI,KAAKxI,yBAC/BqB,mBAAoBmH,KAAKnH,mBACzBK,uBAAwB8G,KAAK9G,uBAC7BC,qBAAsB6G,KAAK7G,qBAC3BC,wBAAyB4G,KAAK5G,gC,GAlUjB0O,aCDEC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASvD,SAASwD,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.90aee394.chunk.js","sourcesContent":["export const LAYOUTS = [\r\n\t{\r\n\t\t// MAJOR\r\n\t\tz: 'C0',\r\n\t\tx: 'D0',\r\n\t\tc: 'E0',\r\n\t\tv: 'F0',\r\n\t\tb: 'G0',\r\n\t\tn: 'A0',\r\n\t\tm: 'B0',\r\n\t\ta: 'C1',\r\n\t\ts: 'D1',\r\n\t\td: 'E1',\r\n\t\tf: 'F1',\r\n\t\tg: 'G1',\r\n\t\th: 'A1',\r\n\t\tj: 'B1',\r\n\t\tk: 'C2',\r\n\t\tl: 'D2',\r\n\t\t';': 'E2',\r\n\t\t\"'\": 'F2',\r\n\t\t',': 'C1',\r\n\t\t'.': 'D1',\r\n\t\t'/': 'E1',\r\n\t\tq: 'C2',\r\n\t\tw: 'D2',\r\n\t\te: 'E2',\r\n\t\tr: 'F2',\r\n\t\tt: 'G2',\r\n\t\ty: 'A2',\r\n\t\tu: 'B2',\r\n\t\ti: 'C3',\r\n\t\to: 'D3',\r\n\t\tp: 'E3',\r\n\t\t'[': 'F3',\r\n\t\t']': 'G3',\r\n\t\t'\\\\': 'A3',\r\n\t\tdelete: 'B3'\r\n\t},\r\n\t{\r\n\t\t// MINOR\r\n\t\tz: 'C0',\r\n\t\ts: 'C♯0',\r\n\t\tx: 'D0',\r\n\t\td: 'D♯0',\r\n\t\tc: 'E0',\r\n\t\tv: 'F0',\r\n\t\tg: 'F♯0',\r\n\t\tb: 'G0',\r\n\t\th: 'G♯0',\r\n\t\tn: 'A0',\r\n\t\tj: 'A♯0',\r\n\t\tm: 'B0',\r\n\t\t',': 'C1',\r\n\t\tl: 'C♯1',\r\n\t\t'.': 'D1',\r\n\t\t';': 'D♯1',\r\n\t\t'/': 'E1',\r\n\t\tq: 'C1',\r\n\t\t'2': 'C♯1',\r\n\t\tw: 'D1',\r\n\t\t'3': 'D♯1',\r\n\t\te: 'E1',\r\n\t\tr: 'F1',\r\n\t\t'5': 'F♯1',\r\n\t\tt: 'G1',\r\n\t\t'6': 'G♯1',\r\n\t\ty: 'A1',\r\n\t\t'7': 'A♯1',\r\n\t\tu: 'B1',\r\n\t\ti: 'C2',\r\n\t\t'9': 'C♯2',\r\n\t\to: 'D2',\r\n\t\t'0': 'D♯2',\r\n\t\tp: 'E2',\r\n\t\t'[': 'F2',\r\n\t\t'=': 'F♯2',\r\n\t\t']': 'G2',\r\n\t\tbackspace: 'G♯2',\r\n\t\t'\\\\': 'A2',\r\n\t\tinsert: 'A♯2',\r\n\t\tdelete: 'B2'\r\n\t}\r\n];\r\n\r\nexport const BASE_FREQ = 16.3516;\r\nexport const FREQ_MULTIPLIER = 1.0594630943593;\r\nexport const NOTES = [\r\n\t{\r\n\t\tname: 'C',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 0)\r\n\t},\r\n\t{\r\n\t\tname: 'C♯',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 1)\r\n\t},\r\n\t{\r\n\t\tname: 'D',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 2)\r\n\t},\r\n\t{\r\n\t\tname: 'D♯',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 3)\r\n\t},\r\n\t{\r\n\t\tname: 'E',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 4)\r\n\t},\r\n\t{\r\n\t\tname: 'F',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 5)\r\n\t},\r\n\t{\r\n\t\tname: 'F♯',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 6)\r\n\t},\r\n\t{\r\n\t\tname: 'G',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 7)\r\n\t},\r\n\t{\r\n\t\tname: 'G♯',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 8)\r\n\t},\r\n\t{\r\n\t\tname: 'A',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 9)\r\n\t},\r\n\t{\r\n\t\tname: 'A♯',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 10)\r\n\t},\r\n\t{\r\n\t\tname: 'B',\r\n\t\tfreq: BASE_FREQ * Math.pow(FREQ_MULTIPLIER, 11)\r\n\t}\r\n];\r\n\r\nexport const KEYS = [];\r\nexport const KEYS_MAP = {};\r\nfor (let i = 0; i < 10; i++) {\r\n\tNOTES.forEach(note => {\r\n\t\tconst key = {\r\n\t\t\tname: note.name + i,\r\n\t\t\tfreq: note.freq * Math.pow(2, i),\r\n\t\t\toctave: i\r\n\t\t};\r\n\t\tKEYS.push(key);\r\n\t\tKEYS_MAP[key.name] = key;\r\n\t});\r\n}\r\n\r\nexport const MODES = {\r\n  SAMPLER: 'sampler',\r\n  SYNTH: 'synth'\r\n};\r\n\r\nexport const SAMPLES = [\r\n  \"https://freewavesamples.com/files/E-Mu-Proteus-FX-Javanese-C3.wav\",\r\n  \"https://freewavesamples.com/files/Casio-MT-600-Synth-Bells-C3.wav\",\r\n  \"https://freewavesamples.com/files/Alesis-Sanctuary-QCard-Music-Box-C6.wav\",\r\n  \"https://freewavesamples.com/files/Ensoniq-ESQ-1-Sympy-C4.wav\"\r\n];\r\n\r\nexport const OSC_SHAPES = [\r\n  'sawtooth',\r\n  'square',\r\n  'triangle',\r\n  'sine'\r\n];\r\n\r\nexport const FILTER_TYPES = [\r\n\t'lowpass',\r\n\t'highpass',\r\n\t'bandpass',\r\n\t'lowshelf',\r\n\t'highshelf',\r\n\t'peaking',\r\n\t'notch'\r\n];\r\n\r\nexport const FILTER_ROLLOFFS = [\r\n  -12,\r\n  -24,\r\n  -48,\r\n  -96\r\n];\r\n\r\nexport const OVERSAMPLE_TYPES = [\r\n  'none',\r\n  '2x',\r\n  '4x'\r\n];\r\n\r\nexport const CONTROL_TYPES = {\r\n\tdigital: {\r\n\t\tname: 'digital',\r\n\t\tpixelStep: 10\r\n\t},\r\n\tknob: {\r\n\t\tname: 'knob',\r\n\t\tpixelStep: 3\r\n\t}\r\n};\r\n\r\nexport const CONTROLS = {\r\n\t/* GLOBAL */\r\n\tlayout: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: LAYOUTS.length - 1\r\n\t\t}\r\n\t},\r\n\tvolume: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tpolyphony: {\r\n\t\tdefaultValue: 9,\r\n\t\trange: {\r\n\t\t\tmin: 1,\r\n\t\t\tmax: 9\r\n\t\t}\r\n\t},\r\n\tportamento: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\t/* ENVELOPE */\r\n\tattack: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tdecay: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tsustain: {\r\n\t\tdefaultValue: 75,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\trelease: {\r\n\t\tdefaultValue: 25,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n  },\r\n  mode: {\r\n    defaultValue: MODES.SYNTH,\r\n  },\r\n/* SAMPLER */\r\n  sample: {\r\n    defaultValue: 0,\r\n    range: {\r\n      min: 0,\r\n      max: SAMPLES.length - 1\r\n    }\r\n  },\r\n  samplePitch: {\r\n    defaultValue: 0,\r\n    range: {\r\n      min: -50,\r\n      max: 50\r\n    }\r\n  },\r\n\t/* SYNTH */\r\n\tosc1Shape: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: OSC_SHAPES.length - 1\r\n\t\t}\r\n\t},\r\n\tosc1Octave: {\r\n\t\tdefaultValue: 5,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 9\r\n\t\t}\r\n\t},\r\n\tosc1Transpose: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: -9,\r\n\t\t\tmax: 9\r\n\t\t}\r\n\t},\r\n\tosc1Detune: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: -100,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tosc1Gain: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tosc2Shape: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: OSC_SHAPES.length - 1\r\n\t\t}\r\n\t},\r\n\tosc2Octave: {\r\n\t\tdefaultValue: 5,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 9\r\n\t\t}\r\n\t},\r\n\tosc2Transpose: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: -9,\r\n\t\t\tmax: 9\r\n\t\t}\r\n\t},\r\n\tosc2Detune: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: -100,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tosc2Gain: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tmodOscShape: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: OSC_SHAPES.length - 1\r\n\t\t}\r\n\t},\r\n\tmodOscFreq: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tmodOscGain: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\t/* FILTERS */\r\n\tfilter1Type: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: FILTER_TYPES.length - 1\r\n\t\t}\r\n  },\r\n  filter1Rolloff: {\r\n    defaultValue: 0,\r\n    range: {\r\n      min: 0,\r\n      max: FILTER_ROLLOFFS.length - 1\r\n    }\r\n  },\r\n\tfilter1Freq: {\r\n\t\tdefaultValue: 100,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tfilter1Q: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tfilter2Type: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: FILTER_TYPES.length - 1\r\n\t\t}\r\n  },\r\n  filter2Rolloff: {\r\n    defaultValue: 0,\r\n    range: {\r\n      min: 0,\r\n      max: FILTER_ROLLOFFS.length - 1\r\n    }\r\n  },\r\n\tfilter2Freq: {\r\n\t\tdefaultValue: 100,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tfilter2Q: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\t/* VIBRATO */\r\n\tvibratoDepth: {\r\n\t\tdefaultValue: 100,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tvibratoFreq: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tvibratoWet: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\t/* CHORUS */\r\n\tchorusSpread: {\r\n\t\tdefaultValue: 180,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 359\r\n\t\t}\r\n\t},\r\n\tchorusDepth: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tchorusDelay: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tchorusWet: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\t/* BIT CRUSHER */\r\n\tcrusherBits: {\r\n\t\tdefaultValue: 4,\r\n\t\trange: {\r\n\t\t\tmin: 1,\r\n\t\t\tmax: 8\r\n\t\t}\r\n\t},\r\n\tcrusherWet: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\t/* DISTORTION */\r\n\tdistOver: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: OVERSAMPLE_TYPES.length - 1\r\n\t\t}\r\n\t},\r\n\tdistAmount: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tdistWet: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\t/* PITCHER */\r\n\tpitcherPitch: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: -60,\r\n\t\t\tmax: 60\r\n\t\t}\r\n\t},\r\n\tpitcherWindow: {\r\n\t\tdefaultValue: 100,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\tpitcherWet: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\t/* REVERB */\r\n\treverbSize: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\treverbDampening: {\r\n\t\tdefaultValue: 50,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t},\r\n\treverbWet: {\r\n\t\tdefaultValue: 0,\r\n\t\trange: {\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const CONTROLS_NAMES = [];\r\nexport const CONTROLS_DEFAULT_VALUES = {};\r\nObject.keys(CONTROLS).forEach(k => {\r\n\tCONTROLS_NAMES.push(k);\r\n\tCONTROLS_DEFAULT_VALUES[k] = CONTROLS[k].defaultValue;\r\n});\r\n","import React from 'react';\r\n\r\nconst PianoKey = ({\r\n\tactive,\r\n\tdisabled,\r\n\thandleMouseDownPianoKey,\r\n\thandleMouseUpPianoKey,\r\n\thandleMouseOverPianoKey,\r\n\thandleMouseLeavePianoKey,\r\n\tname,\r\n\tnote\r\n}) => {\r\n\tconst getClassNames = () => {\r\n\t\tlet classNames = [\r\n\t\t\t'piano-key',\r\n\t\t\t`piano-key-${note}`,\r\n\t\t\tname.includes('♯') ? 'piano-key-black' : 'piano-key-white',\r\n\t\t\tactive ? 'piano-key-active' : disabled ? 'piano-key-disabled' : 'piano-key-inactive'\r\n\t\t];\r\n\r\n\t\treturn classNames.join(' ');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\ttitle={name}\r\n\t\t\tclassName={getClassNames()}\r\n\t\t\tid={`piano-key-${name}`}\r\n\t\t\ttabIndex=\"0\"\r\n\t\t\tonMouseDown={handleMouseDownPianoKey}\r\n\t\t\tonMouseUp={handleMouseUpPianoKey}\r\n\t\t\tonMouseOver={handleMouseOverPianoKey}\r\n\t\t\tonMouseLeave={handleMouseLeavePianoKey}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default PianoKey;\r\n","import React from 'react';\r\nimport PianoKey from './PianoKey';\r\nimport {KEYS} from '../js/statics';\r\n\r\nconst PianoKeys = props => {\r\n\tconst {activeKeys, octaves} = props;\r\n\r\n\tconst blackKeys = [];\r\n\tconst whiteKeys = [];\r\n\r\n\tconst pianoKeys = KEYS.slice(0, 12 * octaves);\r\n\r\n\tpianoKeys.forEach((key, index) => {\r\n\t\tconst keySet = key.name.includes('♯') ? blackKeys : whiteKeys;\r\n\r\n\t\tkeySet.push(\r\n\t\t\t<PianoKey\r\n\t\t\t\t{...props}\r\n\t\t\t\tkey={key.octave * 12 + index}\r\n\t\t\t\tname={key.name}\r\n\t\t\t\tnote={key.name.substring(0, key.name.length - 1)}\r\n\t\t\t\tfreq={key.freq * Math.pow(2, key.octave)}\r\n\t\t\t\tactive={activeKeys.includes(key.name)}\r\n\t\t\t/>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div id=\"piano-keys\">\r\n\t\t\t<div id=\"piano-black-keys\">{blackKeys}</div>\r\n\t\t\t<div id=\"piano-white-keys\">{whiteKeys}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PianoKeys;\r\n","import React from 'react';\r\n\r\nconst ButtonControl = ({handleClickControl, label, name, value}) => {\r\n\tconst active = label === value;\r\n\r\n\tconst handleClick = e => handleClickControl(name, label);\r\n\r\n\treturn (\r\n\t\t<div className={'button-control-container control-container'}>\r\n\t\t\t<div className=\"control-label\">{label}</div>\r\n\t\t\t<div className={'button-container'}>\r\n\t\t\t\t<div onClick={handleClick} className={'button ' + (active ? 'active' : '')} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ButtonControl;\r\n","import React from 'react';\r\nimport {CONTROL_TYPES, CONTROLS} from '../js/statics';\r\n\r\nconst DigitalControl = ({\r\n\thandleMouseDownControl,\r\n\thandleMouseUpControl,\r\n\thandleMouseWheelControl,\r\n\tname,\r\n\tlabel,\r\n\toutline,\r\n\tvalue\r\n}) => {\r\n\tconst {\r\n\t\trange: {min, max}\r\n\t} = CONTROLS[name];\r\n\r\n\tconst getDigits = () => {\r\n\t\tlet typeOfDigits = '';\r\n\t\tif (max > 9) typeOfDigits = 'multi-digit';\r\n\t\telse typeOfDigits = 'single-digit';\r\n\t\tif (min < 0) typeOfDigits += '-negative';\r\n\t\treturn typeOfDigits;\r\n\t};\r\n\r\n\tconst digits = getDigits();\r\n\r\n\tconst handleMouseDown = e => handleMouseDownControl(name, CONTROL_TYPES.digital.name, e);\r\n\r\n\tconst handleMouseUp = e => handleMouseUpControl(name, CONTROL_TYPES.digital.name, e);\r\n\r\n\tconst handleMouseWheel = e => handleMouseWheelControl(name, CONTROL_TYPES.digital.name, e);\r\n\r\n\tconst digitTypes = {\r\n\t\t'single-digit': {\r\n\t\t\tbackgroundValue: 8,\r\n\t\t\tstyle: val => {\r\n\t\t\t\tconst styles = {};\r\n\t\t\t\tif (val === 1) styles.left = '-0.25rem';\r\n\t\t\t\treturn styles;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'single-digit-negative': {\r\n\t\t\tbackgroundValue: -8,\r\n\t\t\tstyle: val => {\r\n\t\t\t\tconst styles = {};\r\n\t\t\t\tif (val > 1 || val === 0) styles.left = '-0.0625rem';\r\n\t\t\t\tif (val === 1) styles.left = '0.245rem';\r\n\t\t\t\tif (val === -1) {\r\n\t\t\t\t\tstyles.left = '-0.225rem';\r\n\t\t\t\t\tstyles.letterSpacing = '0.5375rem';\r\n\t\t\t\t}\r\n\t\t\t\treturn styles;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={'digital-control ' + (outline ? 'digital-control-outlined' : '')}>\r\n\t\t\t<label id={'' + name + '-label'} className=\"control-label\" htmlFor={'' + name}>\r\n\t\t\t\t{label || name}\r\n\t\t\t</label>\r\n\t\t\t<div className=\"digital-control-input-container control-container\">\r\n\t\t\t\t<div id={'' + name} className={'digital-control-input ' + digits}>\r\n\t\t\t\t\t{8}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tid={'' + name + '-background'}\r\n\t\t\t\t\t\tclassName={'digital-control-input digital-control-input-background ' + digits}\r\n\t\t\t\t\t\tchildren={digitTypes[digits].backgroundValue}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tid={'' + name + '-foreground'}\r\n\t\t\t\t\t\tclassName={'digital-control-input digital-control-input-foreground ' + digits}\r\n\t\t\t\t\t\tchildren={value}\r\n\t\t\t\t\t\tstyle={digitTypes[digits].style(value)}\r\n\t\t\t\t\t\tonMouseDown={handleMouseDown}\r\n\t\t\t\t\t\tonMouseUp={handleMouseUp}\r\n\t\t\t\t\t\tonWheel={handleMouseWheel}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DigitalControl;\r\n","import React from 'react';\r\nimport {CONTROL_TYPES, CONTROLS} from '../js/statics';\r\n\r\nconst KnobControl = ({\r\n\tactiveControl,\r\n\thandleMouseDownControl,\r\n\thandleMouseUpControl,\r\n\thandleMouseWheelControl,\r\n\tlabel,\r\n\tname,\r\n\tsize,\r\n\tvalue\r\n}) => {\r\n\tconst {\r\n\t\trange: {min, max}\r\n\t} = CONTROLS[name];\r\n\r\n\tconst handleMouseDown = e => handleMouseDownControl(name, CONTROL_TYPES.knob.name, e);\r\n\r\n\tconst handleMouseUp = e => handleMouseUpControl(name, CONTROL_TYPES.knob.name, e);\r\n\r\n\tconst handleMouseWheel = e => handleMouseWheelControl(name, CONTROL_TYPES.knob.name, e);\r\n\r\n\tconst getKnobStyle = () => {\r\n\t\tconst style = {};\r\n\r\n\t\tconst valueAsPercent = ((value - min) * 100) / (max - min);\r\n\t\tconst valueAsDeg = valueAsPercent * 3.6;\r\n\t\tconst valueForRotate = (valueAsDeg + 180) * 0.875 + 45;\r\n\r\n\t\tstyle.transform = `rotate(${valueForRotate}deg)`;\r\n\r\n\t\treturn style;\r\n\r\n\t\t//min: 0, 0\r\n\t\t//max: 30, 50\r\n\t\t//input: 5, 15\r\n\r\n\t\t// (5 - 0) * 100 / (30 - 0) = 16.667\r\n\t\t// (15 - 0) * 100 / (50 - 0) = 30\r\n\t};\r\n\r\n\tconst getValueStyles = () => {\r\n\t\tconst styles = {\r\n\t\t\topacity: activeControl === name ? 1 : 0\r\n\t\t};\r\n\r\n\t\treturn styles;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={'knob-control-container control-container ' + (size || '')}>\r\n\t\t\t<div className=\"control-label\">{label || name}</div>\r\n\t\t\t<div className=\"knob-control-value\" style={getValueStyles()}>\r\n\t\t\t\t{value}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"knob-container\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"knob\"\r\n\t\t\t\t\tstyle={getKnobStyle()}\r\n\t\t\t\t\tonMouseDown={handleMouseDown}\r\n\t\t\t\t\tonMouseUp={handleMouseUp}\r\n\t\t\t\t\tonWheel={handleMouseWheel}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default KnobControl;\r\n","import React from 'react';\r\nimport PianoKeys from './PianoKeys';\r\nimport ButtonControl from './ButtonControl';\r\nimport DigitalControl from './DigitalControl';\r\nimport KnobControl from './KnobControl';\r\nimport {CONTROLS} from '../js/statics';\r\n\r\nconst Synth = props => {\r\n\tconst {\r\n    activeControl,\r\n    handleClickControl,\r\n\t\thandleMouseDownControl,\r\n\t\thandleMouseUpControl,\r\n\t\thandleMouseWheelControl,\r\n\r\n    layout,\r\n    volume,\r\n    polyphony,\r\n    portamento,\r\n\t\tattack,\r\n\t\tdecay,\r\n\t\tsustain,\r\n    release,\r\n    mode,\r\n    sample,\r\n    samplePitch,\r\n\t\tosc1Shape,\r\n\t\tosc1Octave,\r\n\t\tosc1Transpose,\r\n\t\tosc1Detune,\r\n\t\tosc1Gain,\r\n\t\tosc2Shape,\r\n\t\tosc2Octave,\r\n\t\tosc2Transpose,\r\n\t\tosc2Detune,\r\n\t\tosc2Gain,\r\n    modOscShape,\r\n    modOscFreq,\r\n\t\tmodOscGain,\r\n    filter1Type,\r\n    filter1Rolloff,\r\n\t\tfilter1Freq,\r\n\t\tfilter1Q,\r\n    filter2Type,\r\n    filter2Rolloff,\r\n\t\tfilter2Freq,\r\n    filter2Q,\r\n    vibratoDepth,\r\n    vibratoFreq,\r\n    vibratoWet,\r\n    chorusSpread,\r\n    chorusDepth,\r\n    chorusDelay,\r\n    chorusWet,\r\n    crusherBits,\r\n    crusherWet,\r\n\t\tdistOver,\r\n\t\tdistAmount,\r\n    distWet,\r\n    pitcherPitch,\r\n    pitcherWindow,\r\n    pitcherWet,\r\n    reverbSize,\r\n\t\treverbDampening,\r\n\t\treverbWet\r\n\t} = props;\r\n\r\n\tconst sharedControlProps = {\r\n    activeControl,\r\n    handleClickControl,\r\n\t\thandleMouseDownControl,\r\n\t\thandleMouseUpControl,\r\n\t\thandleMouseWheelControl\r\n\t};\r\n\r\n\tconst renderGlobalSection = () => (\r\n\t\t<div id=\"global-section\">\r\n\t\t\t{renderLogo()}\r\n\t\t\t{renderGlobalControls()}\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst renderLogo = () => (\r\n\t\t<div id=\"logo-section\">\r\n\t\t\t<svg id=\"logo\" viewBox=\"304.103 332.216 470.661 104.256\">\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M 654.248 361.208 L 652.04 368.792 L 623.528 431 L 608.264 431 L 635.24 373.784 L 617.768 373.784 L 621.512 361.208 L 654.248 361.208 Z \"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 688.821 378.476 L 677.685 416.396 L 677.685 416.396 Q 676.725 419.564 675.093 422.54 L 675.093 422.54 L 675.093 422.54 Q 673.461 425.516 670.869 427.724 L 670.869 427.724 L 670.869 427.724 Q 668.277 429.932 664.533 431.228 L 664.533 431.228 L 664.533 431.228 Q 660.789 432.524 655.797 432.332 L 655.797 432.332 L 655.797 432.332 Q 652.917 432.236 649.845 431.324 L 649.845 431.324 L 649.845 431.324 Q 646.773 430.412 644.613 428.3 L 644.613 428.3 L 644.613 428.3 Q 642.453 426.188 641.685 422.732 L 641.685 422.732 L 641.685 422.732 Q 640.917 419.276 642.453 414.092 L 642.453 414.092 L 654.261 373.868 L 654.261 373.868 Q 656.565 366.188 661.845 363.02 L 661.845 363.02 L 661.845 363.02 Q 667.125 359.852 674.709 359.852 L 674.709 359.852 L 674.709 359.852 Q 684.021 359.852 687.813 364.364 L 687.813 364.364 L 687.813 364.364 Q 691.605 368.876 688.821 378.476 L 688.821 378.476 Z  M 662.901 417.548 L 675.189 375.596 L 675.189 375.596 Q 675.765 373.58 675.333 372.428 L 675.333 372.428 L 675.333 372.428 Q 674.901 371.276 672.693 371.276 L 672.693 371.276 L 672.693 371.276 Q 670.677 371.276 669.717 372.38 L 669.717 372.38 L 669.717 372.38 Q 668.757 373.484 668.277 375.308 L 668.277 375.308 L 655.893 417.164 L 655.893 417.164 Q 654.741 421.1 658.293 421.196 L 658.293 421.196 L 658.293 421.196 Q 660.213 421.292 661.269 420.428 L 661.269 420.428 L 661.269 420.428 Q 662.325 419.564 662.901 417.548 L 662.901 417.548 Z \"\r\n\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 735.656 361.208 L 726.92 390.872 L 726.92 390.872 Q 725.288 396.248 717.992 396.152 L 717.992 396.152 L 717.992 396.152 Q 721.448 396.344 722.696 398.792 L 722.696 398.792 L 722.696 398.792 Q 723.944 401.24 722.984 404.312 L 722.984 404.312 L 715.112 431 L 700.52 431 L 708.584 403.736 L 708.584 403.736 Q 708.872 402.68 708.632 401.96 L 708.632 401.96 L 708.632 401.96 Q 708.392 401.24 706.76 401.24 L 706.76 401.24 L 704.552 401.24 L 704.552 401.24 Q 702.92 401.24 702.344 401.624 L 702.344 401.624 L 702.344 401.624 Q 701.768 402.008 701.384 403.256 L 701.384 403.256 L 693.128 431 L 678.536 431 L 686.6 403.64 L 686.6 403.64 Q 686.984 402.296 687.608 401 L 687.608 401 L 687.608 401 Q 688.232 399.704 689.192 398.648 L 689.192 398.648 L 689.192 398.648 Q 690.152 397.592 691.688 396.872 L 691.688 396.872 L 691.688 396.872 Q 693.224 396.152 695.528 396.056 L 695.528 396.056 L 695.528 396.056 Q 692.168 396.056 691.112 393.944 L 691.112 393.944 L 691.112 393.944 Q 690.056 391.832 690.92 388.952 L 690.92 388.952 L 699.08 361.208 L 713.672 361.208 L 705.608 388.76 L 705.608 388.76 Q 705.224 390.104 705.8 390.536 L 705.8 390.536 L 705.8 390.536 Q 706.376 390.968 707.528 390.968 L 707.528 390.968 L 710.12 390.968 L 710.12 390.968 Q 711.176 390.968 711.848 390.536 L 711.848 390.536 L 711.848 390.536 Q 712.52 390.104 713 388.472 L 713 388.472 L 721.064 361.208 L 735.656 361.208 Z \"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 720.296 431 L 740.84 361.208 L 768.488 361.208 L 768.488 361.208 Q 772.424 361.208 773.864 363.656 L 773.864 363.656 L 773.864 363.656 Q 775.304 366.104 774.44 369.08 L 774.44 369.08 L 758.984 421.592 L 758.984 421.592 Q 758.12 424.664 756.824 426.536 L 756.824 426.536 L 756.824 426.536 Q 755.528 428.408 753.56 429.416 L 753.56 429.416 L 753.56 429.416 Q 751.592 430.424 748.904 430.712 L 748.904 430.712 L 748.904 430.712 Q 746.216 431 742.472 431 L 742.472 431 L 720.296 431 Z  M 756.584 372.44 L 751.976 372.44 L 738.152 419.384 L 742.76 419.384 L 742.76 419.384 Q 744.488 419.384 745.16 418.808 L 745.16 418.808 L 745.16 418.808 Q 745.832 418.232 746.216 416.984 L 746.216 416.984 L 758.408 375.512 L 758.408 375.512 Q 758.888 373.976 758.552 373.208 L 758.552 373.208 L 758.552 373.208 Q 758.216 372.44 756.584 372.44 L 756.584 372.44 Z \"\r\n\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 608.48 405.752 L 605.408 416.216 L 599.456 416.216 L 595.04 431 L 580.64 431 L 585.056 416.216 L 564.224 416.216 L 568.448 401.528 L 595.52 361.208 L 615.68 361.208 L 602.528 405.752 L 608.48 405.752 Z  M 580.544 405.752 L 588.032 405.752 L 595.424 380.408 L 580.928 404.504 L 580.544 405.752 Z \"\r\n\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 403.136 361.208 L 382.592 431 L 368.192 431 L 376.832 401.528 L 369.536 401.528 L 360.8 431 L 346.4 431 L 366.944 361.208 L 381.344 361.208 L 373.184 389.144 L 380.48 389.144 L 388.736 361.208 L 403.136 361.208 Z \"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 414.944 362.208 L 435.872 362.208 L 435.872 362.208 Q 439.232 362.208 440.816 364.656 L 440.816 364.656 L 440.816 364.656 Q 442.4 367.104 441.536 370.176 L 441.536 370.176 L 425.504 424.608 L 425.504 424.608 Q 424.16 428.928 421.04 430.464 L 421.04 430.464 L 421.04 430.464 Q 417.92 432 414.272 432 L 414.272 432 L 397.088 432 L 397.088 432 Q 395.264 432 393.728 431.376 L 393.728 431.376 L 393.728 431.376 Q 392.192 430.752 391.184 429.504 L 391.184 429.504 L 391.184 429.504 Q 390.176 428.256 389.84 426.48 L 389.84 426.48 L 389.84 426.48 Q 389.504 424.704 390.176 422.496 L 390.176 422.496 L 405.92 369.024 L 405.92 369.024 Q 406.688 365.952 409.04 364.08 L 409.04 364.08 L 409.04 364.08 Q 411.392 362.208 414.944 362.208 L 414.944 362.208 Z  M 424.448 372.44 L 420.8 372.44 L 420.8 372.44 Q 419.744 372.44 419.264 372.92 L 419.264 372.92 L 419.264 372.92 Q 418.784 373.4 418.592 374.168 L 418.592 374.168 L 405.728 417.656 L 405.728 417.656 Q 405.248 419.384 407.072 419.384 L 407.072 419.384 L 410.816 419.384 L 410.816 419.384 Q 412.64 419.384 413.12 417.656 L 413.12 417.656 L 425.888 374.264 L 425.888 374.264 Q 426.368 372.44 424.448 372.44 L 424.448 372.44 Z \"\r\n\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 456.032 361.208 L 480.032 361.208 L 476.288 373.784 L 461.312 373.784 L 461.312 373.784 Q 460.16 373.784 459.536 374.168 L 459.536 374.168 L 459.536 374.168 Q 458.912 374.552 458.528 375.896 L 458.528 375.896 L 446.528 416.6 L 446.528 416.6 Q 445.76 419.384 448.736 419.384 L 448.736 419.384 L 453.632 419.384 L 458.912 401.528 L 455.936 401.528 L 459.584 389.144 L 476.288 389.144 L 464.768 428.312 L 448.64 436.472 L 450.176 431 L 441.248 431 L 441.248 431 Q 438.752 431 436.64 430.28 L 436.64 430.28 L 436.64 430.28 Q 434.528 429.56 433.136 427.976 L 433.136 427.976 L 433.136 427.976 Q 431.744 426.392 431.312 423.944 L 431.312 423.944 L 431.312 423.944 Q 430.88 421.496 431.936 418.04 L 431.936 418.04 L 446.72 367.736 L 446.72 367.736 Q 447.872 363.8 450.224 362.504 L 450.224 362.504 L 450.224 362.504 Q 452.576 361.208 456.032 361.208 L 456.032 361.208 Z \"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 503.648 361.208 L 503.552 361.208 L 487.328 416.408 L 487.328 416.408 Q 486.848 418.04 487.472 418.664 L 487.472 418.664 L 487.472 418.664 Q 488.096 419.288 489.728 419.288 L 489.728 419.288 L 493.472 419.288 L 510.56 361.208 L 524.96 361.208 L 505.184 428.312 Q 505.17 428.341 504.62 428.413 Q 498.832 431.016 490.112 431 L 481.76 431 L 481.76 431 Q 479.072 431 476.912 430.28 L 476.912 430.28 L 476.912 430.28 Q 474.752 429.56 473.408 427.976 L 473.408 427.976 L 473.408 427.976 Q 472.064 426.392 471.728 423.944 L 471.728 423.944 L 471.728 423.944 Q 471.392 421.496 472.448 418.04 L 472.448 418.04 L 489.152 361.208 L 503.648 361.208 Z \"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 509.216 431 L 529.76 361.208 L 542.144 361.208 L 542.624 388.184 L 550.592 361.208 L 564.608 361.208 L 544.064 431 L 532.448 431 L 531.2 403.16 L 522.848 431 L 509.216 431 Z \"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 317.72 375.896 L 343.928 375.896 L 343.928 375.896 Q 346.712 375.896 348.872 376.664 L 348.872 376.664 L 348.872 376.664 Q 351.032 377.432 352.328 379.112 L 352.328 379.112 L 352.328 379.112 Q 353.624 380.792 353.864 383.384 L 353.864 383.384 L 353.864 383.384 Q 354.104 385.976 353.048 389.624 L 353.048 389.624 L 343.256 422.936 L 343.256 422.936 Q 342.488 425.528 341.096 427.112 L 341.096 427.112 L 341.096 427.112 Q 339.704 428.696 338.024 429.56 L 338.024 429.56 L 338.024 429.56 Q 336.344 430.424 334.472 430.712 L 334.472 430.712 L 334.472 430.712 Q 332.6 431 330.776 431 L 330.776 431 L 311.864 431 L 311.864 431 Q 307.736 431 305.48 428.024 L 305.48 428.024 L 305.48 428.024 Q 303.224 425.048 304.664 420.248 L 304.664 420.248 L 309.464 403.736 L 324.728 403.736 L 321.08 415.832 L 321.08 415.832 Q 320.696 417.08 321.272 417.416 L 321.272 417.416 L 321.272 417.416 Q 321.848 417.752 322.712 417.752 L 322.712 417.752 L 326.36 417.752 L 326.36 417.752 Q 327.704 417.752 328.376 417.32 L 328.376 417.32 L 328.376 417.32 Q 329.048 416.888 329.432 415.544 L 329.432 415.544 L 337.208 389.24 L 337.208 389.24 Q 337.4 388.664 337.256 388.28 L 337.256 388.28 L 337.256 388.28 Q 337.112 387.896 336.152 387.896 L 336.152 387.896 L 314.168 387.896 L 317.72 375.896 Z \"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\" M 333.729 375.977 L 317.697 375.977 L 327.489 341.029 L 327.489 341.029 Q 328.257 338.294 329.505 336.572 L 329.505 336.572 L 329.505 336.572 Q 330.753 334.85 332.337 333.888 L 332.337 333.888 L 332.337 333.888 Q 333.921 332.925 335.745 332.621 L 335.745 332.621 L 335.745 332.621 Q 337.569 332.318 339.393 332.318 L 339.393 332.318 L 369.249 332.318 L 361.281 361.086 L 345.057 364.935 L 350.433 345.79 L 344.385 345.79 L 344.385 345.79 Q 343.041 345.79 342.417 346.246 L 342.417 346.246 L 342.417 346.246 Q 341.793 346.702 341.409 348.12 L 341.409 348.12 L 333.729 375.977 Z \"\r\n\t\t\t\t\t\tfill=\"rgb(171,171,171)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t\t<div id=\"logo-subtext\">\r\n\t\t\t\t<span id=\"logo-subtext-bold\">\r\n\t\t\t\t\t<span>Re</span>\r\n\t\t\t\t\t<span style={{letterSpacing: '-0.15625rem'}}>a</span>\r\n\t\t\t\t\t<span>ct</span>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span style={{marginLeft: '0.5rem'}}>Instrument</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst renderLeftControls = () => (\r\n    <div id=\"synth-top-left\">\r\n      <DigitalControl\r\n        {...sharedControlProps}\r\n        name=\"polyphony\"\r\n        label=\"poly\"\r\n        control={CONTROLS.polyphony}\r\n        value={polyphony}\r\n      />\r\n      <br />\r\n      {/* <KnobControl\r\n        {...sharedControlProps}\r\n        name=\"portamento\"\r\n        label=\"porta\"\r\n        value={portamento}\r\n        size=\"medium\"\r\n      />\r\n      <br /> */}\r\n      <DigitalControl\r\n\t\t\t\t{...sharedControlProps}\r\n\t\t\t\tname=\"layout\"\r\n\t\t\t\tcontrol={CONTROLS.layout}\r\n\t\t\t\tvalue={layout}\r\n\t\t\t\toutline={true}\r\n      />\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst renderGlobalControls = () => (\r\n\t\t<div id=\"global-controls\">\r\n\t\t\t{renderVolumeControl()}\r\n\t\t\t{renderEnvelopeControls()}\r\n\t\t</div>\r\n\t);\r\n\r\n  const renderVolumeControl = () => (\r\n    <div>\r\n      <KnobControl\r\n        {...sharedControlProps}\r\n        name=\"volume\"\r\n        value={volume}\r\n        size=\"large\"\r\n      />\r\n    </div>\r\n\t);\r\n\r\n\tconst renderEnvelopeControls = () => (\r\n    <div id=\"envelope-controls\">\r\n      <div>\r\n        <KnobControl\r\n          {...sharedControlProps}\r\n          name=\"attack\"\r\n          value={attack}\r\n          size=\"small\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <KnobControl\r\n          {...sharedControlProps}\r\n          name=\"decay\"\r\n          value={decay}\r\n          size=\"small\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <KnobControl\r\n          {...sharedControlProps}\r\n          name=\"sustain\"\r\n          value={sustain}\r\n          size=\"small\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <KnobControl\r\n          {...sharedControlProps}\r\n          name=\"release\"\r\n          value={release}\r\n          size=\"small\"\r\n          />\r\n      </div>\r\n\t\t</div>\r\n  );\r\n\r\n  const renderModeSelector = () => (\r\n    <div id=\"mode-selector\" className=\"control-section\">\r\n      <div className=\"control-wrapper vertical\">\r\n        <div className=\"controls-container-label\">MODE</div>\r\n        <div className=\"controls-container\">\r\n          <ButtonControl\r\n            {...sharedControlProps}\r\n            name=\"mode\"\r\n            label=\"sampler\"\r\n            value={mode}\r\n          />\r\n          <ButtonControl\r\n            {...sharedControlProps}\r\n            name=\"mode\"\r\n            label=\"synth\"\r\n            value={mode}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSampler = () => mode === 'sampler' && (\r\n    <div id=\"sampler\" className=\"control-section\">\r\n\t\t\t<div className=\"control-wrapper vertical\">\r\n\t\t\t\t<div className=\"controls-container-label\">SAMPLER</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n          <DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n            name=\"sample\"\r\n\t\t\t\t\t\tvalue={sample}\r\n          />\r\n          <KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"samplePitch\"\r\n\t\t\t\t\t\tlabel=\"pitch\"\r\n\t\t\t\t\t\tvalue={samplePitch}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  );\r\n\r\n  const renderSynth = () => mode === 'synth' && (\r\n    <>\r\n      {renderOscillators()}\r\n      {renderModOscillator()}\r\n    </>\r\n  );\r\n\r\n\tconst renderOscillators = () => (\r\n\t\t<div id=\"oscillators\" className=\"control-section\">\r\n\t\t\t<div className=\"control-wrapper horizontal\">\r\n\t\t\t\t<div className=\"controls-container-label\">OSC 1</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc1Shape\"\r\n\t\t\t\t\t\tlabel=\"shape\"\r\n\t\t\t\t\t\tvalue={osc1Shape}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc1Octave\"\r\n\t\t\t\t\t\tlabel=\"octave\"\r\n\t\t\t\t\t\tvalue={osc1Octave}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc1Transpose\"\r\n\t\t\t\t\t\tlabel=\"trans\"\r\n\t\t\t\t\t\tvalue={osc1Transpose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc1Detune\"\r\n\t\t\t\t\t\tlabel=\"tune\"\r\n\t\t\t\t\t\tvalue={osc1Detune}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc1Gain\"\r\n\t\t\t\t\t\tlabel=\"vol\"\r\n\t\t\t\t\t\tvalue={osc1Gain}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"control-wrapper horizontal\">\r\n\t\t\t\t<div className=\"controls-container-label\">OSC 2</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc2Shape\"\r\n\t\t\t\t\t\tlabel=\"shape\"\r\n\t\t\t\t\t\tvalue={osc2Shape}\r\n\t\t\t\t\t\ttype=\"single-digit\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc2Octave\"\r\n\t\t\t\t\t\tlabel=\"octave\"\r\n\t\t\t\t\t\tvalue={osc2Octave}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc2Transpose\"\r\n\t\t\t\t\t\tlabel=\"trans\"\r\n\t\t\t\t\t\tvalue={osc2Transpose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc2Detune\"\r\n\t\t\t\t\t\tlabel=\"tune\"\r\n\t\t\t\t\t\tvalue={osc2Detune}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"osc2Gain\"\r\n\t\t\t\t\t\tlabel=\"vol\"\r\n\t\t\t\t\t\tvalue={osc2Gain}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst renderModOscillator = () => (\r\n\t\t<div id=\"mod-oscillator\" className=\"control-section\">\r\n\t\t\t<div className=\"control-wrapper vertical\">\r\n\t\t\t\t<div className=\"controls-container-label\">MOD OSC</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"modOscShape\"\r\n\t\t\t\t\t\tlabel=\"shape\"\r\n\t\t\t\t\t\tvalue={modOscShape}\r\n\t\t\t\t\t\ttype=\"single-digit\"\r\n          />\r\n          <KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"modOscFreq\"\r\n\t\t\t\t\t\tlabel=\"freq\"\r\n\t\t\t\t\t\tvalue={modOscFreq}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"modOscGain\"\r\n\t\t\t\t\t\tlabel=\"vol\"\r\n\t\t\t\t\t\tvalue={modOscGain}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  );\r\n\r\n\tconst renderFilters = () => (\r\n\t\t<div id=\"filters\" className=\"control-section\">\r\n\t\t\t<div className=\"control-wrapper horizontal\">\r\n\t\t\t\t<div className=\"controls-container-label\">FILTER 1</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"filter1Type\"\r\n\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\tvalue={filter1Type}\r\n          />\r\n          <DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"filter1Rolloff\"\r\n\t\t\t\t\t\tlabel=\"steep\"\r\n\t\t\t\t\t\tvalue={filter1Rolloff}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"filter1Freq\"\r\n\t\t\t\t\t\tlabel=\"cutoff\"\r\n\t\t\t\t\t\tvalue={filter1Freq}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"filter1Q\"\r\n\t\t\t\t\t\tlabel=\"res\"\r\n\t\t\t\t\t\tvalue={filter1Q}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"control-wrapper horizontal\">\r\n\t\t\t\t<div className=\"controls-container-label\">FILTER 2</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n\t\t\t\t\t<DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"filter2Type\"\r\n\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\tvalue={filter2Type}\r\n          />\r\n          <DigitalControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"filter2Rolloff\"\r\n\t\t\t\t\t\tlabel=\"steep\"\r\n\t\t\t\t\t\tvalue={filter2Rolloff}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"filter2Freq\"\r\n\t\t\t\t\t\tlabel=\"cutoff\"\r\n\t\t\t\t\t\tvalue={filter2Freq}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"filter2Q\"\r\n\t\t\t\t\t\tlabel=\"res\"\r\n\t\t\t\t\t\tvalue={filter2Q}\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  );\r\n\r\n  const renderVibrato = () => (\r\n    <div id=\"vibrato\" className=\"control-section\">\r\n      <div className=\"control-wrapper vertical\">\r\n        <div className=\"controls-container-label\">VIBRATO</div>\r\n        <div className=\"controls-container\">\r\n          <KnobControl\r\n            {...sharedControlProps}\r\n            name=\"vibratoDepth\"\r\n            label=\"depth\"\r\n            value={vibratoDepth}\r\n            size=\"small\"\r\n          />\r\n          <KnobControl\r\n            {...sharedControlProps}\r\n            name=\"vibratoFreq\"\r\n            label=\"freq\"\r\n            value={vibratoFreq}\r\n            size=\"small\"\r\n          />\r\n          <KnobControl\r\n            {...sharedControlProps}\r\n            name=\"vibratoWet\"\r\n            label=\"wet\"\r\n            value={vibratoWet}\r\n            size=\"small\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderChorus = () => (\r\n    <div id=\"chorus\" className=\"control-section\">\r\n\t\t\t<div className=\"control-wrapper vertical\">\r\n\t\t\t\t<div className=\"controls-container-label\">CHORUS</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"chorusSpread\"\r\n\t\t\t\t\t\tlabel=\"spread\"\r\n\t\t\t\t\t\tvalue={chorusSpread}\r\n\t\t\t\t\t\tsize=\"small\"\r\n          />\r\n          <KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"chorusDepth\"\r\n\t\t\t\t\t\tlabel=\"depth\"\r\n\t\t\t\t\t\tvalue={chorusDepth}\r\n\t\t\t\t\t\tsize=\"small\"\r\n          />\r\n          {/* <KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"chorusDelay\"\r\n\t\t\t\t\t\tlabel=\"delay\"\r\n\t\t\t\t\t\tvalue={chorusDelay}\r\n\t\t\t\t\t\tsize=\"small\"\r\n          /> */}\r\n          <KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"chorusWet\"\r\n\t\t\t\t\t\tlabel=\"wet\"\r\n\t\t\t\t\t\tvalue={chorusWet}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  )\r\n\r\n  const renderBitcrusher = () => (\r\n\t\t<div id=\"distortion\" className=\"control-section\">\r\n\t\t\t<div className=\"control-wrapper vertical\">\r\n\t\t\t\t<div className=\"controls-container-label\">BITCRUSHER</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n          <DigitalControl\r\n            {...sharedControlProps}\r\n            name=\"crusherBits\"\r\n            label=\"bits\"\r\n            value={crusherBits}\r\n          />\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"crusherWet\"\r\n\t\t\t\t\t\tlabel=\"wet\"\r\n\t\t\t\t\t\tvalue={crusherWet}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst renderDistortion = () => (\r\n\t\t<div id=\"distortion\" className=\"control-section\">\r\n\t\t\t<div className=\"control-wrapper vertical\">\r\n\t\t\t\t<div className=\"controls-container-label\">DISTORTION</div>\r\n\t\t\t\t<div className=\"controls-container\">\r\n          {/* <DigitalControl\r\n            {...sharedControlProps}\r\n            name=\"distOver\"\r\n            label=\"over\"\r\n            value={distOver}\r\n          /> */}\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"distAmount\"\r\n\t\t\t\t\t\tlabel=\"amount\"\r\n\t\t\t\t\t\tvalue={distAmount}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"distWet\"\r\n\t\t\t\t\t\tlabel=\"wet\"\r\n\t\t\t\t\t\tvalue={distWet}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  );\r\n\r\n  const renderPitcher = () => (\r\n    <div id=\"pitcher\" className=\"control-section\">\r\n      <div className=\"control-wrapper vertical\">\r\n        <div className=\"controls-container-label\">PITCHER</div>\r\n        <div className=\"controls-container\">\r\n          <KnobControl\r\n            {...sharedControlProps}\r\n            name=\"pitcherPitch\"\r\n            label=\"pitch\"\r\n            value={pitcherPitch}\r\n            size=\"small\"\r\n          />\r\n          <KnobControl\r\n            {...sharedControlProps}\r\n            name=\"pitcherWindow\"\r\n            label=\"slice\"\r\n            value={pitcherWindow}\r\n            size=\"small\"\r\n          />\r\n          <KnobControl\r\n            {...sharedControlProps}\r\n            name=\"pitcherWet\"\r\n            label=\"wet\"\r\n            value={pitcherWet}\r\n            size=\"small\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n\tconst renderReverb = () => (\r\n\t\t<div id=\"reverb\" className=\"control-section\">\r\n\t\t\t<div className=\"control-wrapper vertical\">\r\n\t\t\t\t<div className=\"controls-container-label\">REVERB</div>\r\n        <div className=\"controls-container\">\r\n          <KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"reverbSize\"\r\n\t\t\t\t\t\tlabel=\"size\"\r\n\t\t\t\t\t\tvalue={reverbSize}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"reverbDampening\"\r\n\t\t\t\t\t\tlabel=\"damp\"\r\n\t\t\t\t\t\tvalue={reverbDampening}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<KnobControl\r\n\t\t\t\t\t\t{...sharedControlProps}\r\n\t\t\t\t\t\tname=\"reverbWet\"\r\n\t\t\t\t\t\tlabel=\"wet\"\r\n\t\t\t\t\t\tvalue={reverbWet}\r\n\t\t\t\t\t\tsize=\"small\"\r\n          />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n  const renderPianoKeys = () => (\r\n    <PianoKeys {...props} />\r\n  );\r\n\r\n\treturn (\r\n\t\t<div id=\"synth\">\r\n      <div id=\"synth-left\">\r\n        {renderLeftControls()}\r\n      </div>\r\n\t\t\t<div id=\"synth-right\">\r\n\t\t\t\t<div id=\"synth-right-top\">\r\n          {renderGlobalSection()}\r\n          {renderModeSelector()}\r\n          {renderSampler()}\r\n          {renderSynth()}\r\n          {renderFilters()}\r\n          {renderVibrato()}\r\n          {renderChorus()}\r\n          {renderBitcrusher()}\r\n          {renderDistortion()}\r\n          {renderPitcher()}\r\n\t\t\t\t\t{renderReverb()}\r\n\t\t\t\t</div>\r\n        <div id=\"synth-right-bottom\">\r\n          {renderPianoKeys()}\r\n        </div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Synth;\r\n","import {BASE_FREQ, FREQ_MULTIPLIER} from './statics';\r\n\r\n// (base Hz, octave, transpose) --> (pitched Hz)\r\nexport const getNoteFromValues = (freq, octave, transpose) => {\r\n\tconst octavedFrequency = (freq * Math.pow(2, octave)) / 8;\r\n\treturn octavedFrequency * Math.pow(FREQ_MULTIPLIER, transpose);\r\n};\r\n\r\n// (0 - 100) --> (-Infinity - 0)\r\nexport const getDecibelsFromValue = value => 20 * Math.log10(value / 100);\r\n\r\n// (0 - 100) --> (0 - 21031)\r\nexport const getFrequencyFromValue = value => BASE_FREQ * 4 * Math.pow(FREQ_MULTIPLIER, value) - BASE_FREQ * 4;\r\n\r\n// (0 - 100) --> (0.0001 - 4)\r\nexport const getSecondsFromValue = value => Math.pow(value, 2) / 2500 || 0.0001;\r\n\r\n// (0 - 100) --> (0.03125 - 32)\r\nexport const getHarmonicityFromValue = value => Math.pow(2, (value - 50) / 10);\r\n","import {\r\n\tBitCrusher,\r\n\tBuffer,\r\n\tChorus,\r\n\tDistortion,\r\n\tFilter,\r\n\tFreeverb,\r\n\tFMSynth,\r\n\tMaster,\r\n\tPitchShift,\r\n\tPolySynth,\r\n\tSampler,\r\n\tVibrato\r\n} from 'tone';\r\nimport {\r\n\tCONTROLS_NAMES,\r\n\tFILTER_ROLLOFFS,\r\n\tFILTER_TYPES,\r\n\tMODES,\r\n\tOSC_SHAPES,\r\n\tOVERSAMPLE_TYPES,\r\n\tSAMPLES\r\n} from '../statics';\r\nimport {\r\n\tgetDecibelsFromValue,\r\n\tgetFrequencyFromValue,\r\n\tgetHarmonicityFromValue,\r\n\tgetNoteFromValues,\r\n\tgetSecondsFromValue\r\n} from '../utils';\r\n\r\nexport default class Output {\r\n\tconstructor(\r\n\t\taudioContext,\r\n\t\tlayout,\r\n\t\tvolume,\r\n\t\tpolyphony,\r\n\t\tportamento,\r\n\t\tattack,\r\n\t\tdecay,\r\n\t\tsustain,\r\n\t\trelease,\r\n\t\tmode,\r\n\t\tsample,\r\n\t\tsamplePitch,\r\n\t\tosc1Shape,\r\n\t\tosc1Octave,\r\n\t\tosc1Transpose,\r\n\t\tosc1Detune,\r\n\t\tosc1Gain,\r\n\t\tosc2Shape,\r\n\t\tosc2Octave,\r\n\t\tosc2Transpose,\r\n\t\tosc2Detune,\r\n\t\tosc2Gain,\r\n\t\tmodOscShape,\r\n\t\tmodOscGain,\r\n\t\tmodOscFreq,\r\n\t\tfilter1Type,\r\n\t\tfilter1Rolloff,\r\n\t\tfilter1Freq,\r\n\t\tfilter1Q,\r\n\t\tfilter2Type,\r\n\t\tfilter2Rolloff,\r\n\t\tfilter2Freq,\r\n\t\tfilter2Q,\r\n\t\tvibratoDepth,\r\n\t\tvibratoFreq,\r\n\t\tvibratoWet,\r\n\t\tcrusherBits,\r\n\t\tcrusherWet,\r\n\t\tdistOver,\r\n\t\tdistAmount,\r\n\t\tdistWet,\r\n\t\tpitcherPitch,\r\n\t\tpitcherWindow,\r\n\t\tpitcherWet,\r\n\t\treverbSize,\r\n\t\treverbDampening,\r\n\t\treverbWet\r\n\t) {\r\n\t\tthis._active = false;\r\n\t\tthis._audioContext = audioContext;\r\n\r\n\t\tCONTROLS_NAMES.forEach((n, i) => (this[`_${n}`] = arguments[i + 1]));\r\n\r\n\t\tthis.initializeMaster();\r\n\t\tthis.initializeReverb();\r\n\t\tthis.initializePitcher();\r\n\t\tthis.initializeDistortion();\r\n\t\tthis.initializeBitcrusher();\r\n\t\tthis.initializeChorus();\r\n\t\tthis.initializeVibrato();\r\n\t\tthis.initializeFilters();\r\n\t\tthis.initializeSampler();\r\n\t\tthis.initializeOscillators();\r\n\t\tthis.initializeValues();\r\n\t}\r\n\r\n\tinitializeMaster = () => {\r\n\t\tthis.master = Master;\r\n\t};\r\n\r\n\tinitializeReverb = () => {\r\n\t\tthis.reverb = new Freeverb();\r\n\t\tthis.reverb.connect(this.master);\r\n\t};\r\n\r\n\tinitializePitcher = () => {\r\n\t\tthis.pitcher = new PitchShift();\r\n\t\tthis.pitcher.connect(this.reverb);\r\n\t};\r\n\r\n\tinitializeDistortion = () => {\r\n\t\tthis.distortion = new Distortion();\r\n\t\tthis.distortion.connect(this.pitcher);\r\n\t};\r\n\r\n\tinitializeBitcrusher = () => {\r\n\t\tthis.bitcrusher = new BitCrusher();\r\n\t\tthis.bitcrusher.connect(this.distortion);\r\n\t};\r\n\r\n\tinitializeChorus = () => {\r\n\t\tthis.chorus = new Chorus();\r\n\t\tthis.chorus.connect(this.distortion);\r\n\t};\r\n\r\n\tinitializeVibrato = () => {\r\n\t\tthis.vibrato = new Vibrato();\r\n\t\tthis.vibrato.connect(this.chorus);\r\n\t};\r\n\r\n\tinitializeFilters = () => {\r\n\t\tthis.filter1 = new Filter(0, 'lowpass', -12);\r\n\t\tthis.filter2 = new Filter(0, 'lowpass', -12);\r\n\t\tthis.filter1.connect(this.filter2);\r\n\t\tthis.filter2.connect(this.vibrato);\r\n\t};\r\n\r\n\tinitializeSampler = () => {\r\n\t\tthis.sampler = new Sampler(\r\n\t\t\t{\r\n\t\t\t\tC5: SAMPLES[0]\r\n\t\t\t},\r\n\t\t\te => console.log('sampler buffers loaded: ', e)\r\n\t\t\t// './src/assets/audio/samples/'\r\n\t\t);\r\n\t\tthis.sampler.connect(this.filter1);\r\n\t};\r\n\r\n\tinitializeOscillators = () => {\r\n\t\tthis.osc1 = new PolySynth(this.polyphony, FMSynth);\r\n\t\tthis.osc2 = new PolySynth(this.polyphony, FMSynth);\r\n\t\tthis.oscillators = [this.osc1, this.osc2];\r\n\t\tthis.oscillators.forEach(o => {\r\n\t\t\to.connect(this.filter1);\r\n\t\t});\r\n\t};\r\n\r\n\tinitializeValues = () => {\r\n\t\tCONTROLS_NAMES.forEach(n => {\r\n\t\t\tif (n !== 'polyphony') {\r\n\t\t\t\tthis[n] = this[`_${n}`];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.envelope = 'set';\r\n\t\tthis.freqs = [];\r\n\t};\r\n\r\n\tplayKey = freq => {\r\n\t\t// console.log('playKey', freq);\r\n\r\n\t\tthis.playKeys([freq]);\r\n\t};\r\n\r\n\tplayKeys = (freqs = []) => {\r\n\t\t// console.log('playKey', freqs);\r\n\r\n\t\tfreqs.forEach(freq => {\r\n\t\t\tthis.freqs.push(freq);\r\n\r\n\t\t\tif (this.mode === MODES.SYNTH) {\r\n\t\t\t\tconst activeOsc1Freq = getNoteFromValues(freq, this._osc1Octave, this._osc1Transpose);\r\n\t\t\t\tconst activeOsc2Freq = getNoteFromValues(freq, this._osc2Octave, this._osc2Transpose);\r\n\t\t\t\tthis.osc1.triggerAttack(activeOsc1Freq, this._audioContext.now(), 1);\r\n\t\t\t\tthis.osc2.triggerAttack(activeOsc2Freq, this._audioContext.now(), 1);\r\n\t\t\t} else if (this.mode === MODES.SAMPLER && this.sampler.loaded) {\r\n\t\t\t\tthis.sampler.triggerAttack(\r\n\t\t\t\t\tgetNoteFromValues(freq, 6, this.samplePitch),\r\n\t\t\t\t\tthis._audioContext.now(),\r\n\t\t\t\t\t1\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tstopKey = freq => {\r\n\t\t// console.log('stopKey', freq);\r\n\r\n\t\tthis.freqs.splice(this.freqs.indexOf(freq), 1);\r\n\r\n\t\tif (this.mode === MODES.SYNTH) {\r\n\t\t\tconst activeOsc1Freq = getNoteFromValues(freq, this._osc1Octave, this._osc1Transpose);\r\n\t\t\tconst activeOsc2Freq = getNoteFromValues(freq, this._osc2Octave, this._osc2Transpose);\r\n\t\t\tthis.osc1.triggerRelease(activeOsc1Freq, this._audioContext.now());\r\n\t\t\tthis.osc2.triggerRelease(activeOsc2Freq, this._audioContext.now());\r\n\t\t} else if (this.mode === MODES.SAMPLER) {\r\n\t\t\tthis.sampler.triggerRelease(\r\n\t\t\t\tgetNoteFromValues(freq, 6, this.samplePitch),\r\n\t\t\t\tthis._audioContext.now()\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tstopKeys = () => {\r\n\t\t// console.log('stopKeys');\r\n\r\n\t\tthis.osc1.releaseAll();\r\n\t\tthis.osc2.releaseAll();\r\n\t\tthis.sampler.releaseAll();\r\n\t\tthis.freqs = [];\r\n\t};\r\n\r\n\tretriggerKeys = () => {\r\n\t\t// console.log('retriggerKeys');\r\n\r\n\t\tthis.stoppedFreqs = this.freqs;\r\n\t\tthis.stopKeys();\r\n\t\tthis.playKeys(this.stoppedFreqs);\r\n\t};\r\n\r\n\thasPortamento = () => this.portamento !== 0;\r\n\r\n\t// GLOBAL\r\n\r\n\tget volume() {\r\n\t\treturn getDecibelsFromValue(this._volume);\r\n\t}\r\n\tset volume(x) {\r\n\t\tthis._volume = x;\r\n\t\tthis.master.volume.value = this.volume;\r\n\t}\r\n\r\n\tget polyphony() {\r\n\t\treturn this._polyphony;\r\n\t}\r\n\tset polyphony(x) {\r\n\t\tthis._polyphony = x;\r\n\t\tthis.initializeOscillators();\r\n\t\tthis.initializeValues();\r\n\t}\r\n\r\n\tget portamento() {\r\n\t\treturn this._portamento / 500;\r\n\t}\r\n\tset portamento(x) {\r\n\t\tthis._portamento = x;\r\n\t\tthis.oscillators.forEach(o => o.set('portamento', this.portamento));\r\n\t}\r\n\r\n\tget envelope() {\r\n\t\treturn {\r\n\t\t\tattackCurve: 'exponential',\r\n\t\t\tdecayCurve: 'exponential',\r\n\t\t\treleaseCurve: 'exponential',\r\n\t\t\tattack: this.attack,\r\n\t\t\tdecay: this.decay,\r\n\t\t\tsustain: this.sustain,\r\n\t\t\trelease: this.release\r\n\t\t};\r\n\t}\r\n\tset envelope(x = null) {\r\n\t\tthis.oscillators.forEach(o =>\r\n\t\t\to.set({\r\n\t\t\t\tenvelope: this.envelope,\r\n\t\t\t\tmodulationEnvelope: this.envelope\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tget attack() {\r\n\t\treturn getSecondsFromValue(this._attack);\r\n\t}\r\n\tset attack(x) {\r\n\t\tthis._attack = x;\r\n\r\n\t\tthis.oscillators.forEach(o => o.set({envelope: {attack: this.attack}}));\r\n\t\tthis.sampler.attack = this.attack;\r\n\t}\r\n\r\n\tget decay() {\r\n\t\treturn getSecondsFromValue(this._decay);\r\n\t}\r\n\tset decay(x) {\r\n\t\tthis._decay = x;\r\n\r\n\t\tthis.oscillators.forEach(o => o.set({envelope: {decay: this.decay}}));\r\n\t\tthis.sampler.decay = this.decay;\r\n\t}\r\n\r\n\tget sustain() {\r\n\t\treturn this._sustain / 100;\r\n\t}\r\n\tset sustain(x) {\r\n\t\tthis._sustain = x;\r\n\r\n\t\tthis.oscillators.forEach(o => o.set({envelope: {sustain: this.sustain}}));\r\n\t\tthis.sampler.sustain = this.sustain;\r\n\t}\r\n\r\n\tget release() {\r\n\t\treturn getSecondsFromValue(this._release);\r\n\t}\r\n\tset release(x) {\r\n\t\tthis._release = x;\r\n\t\tthis.oscillators.forEach(o => o.set({envelope: {release: this.release}}));\r\n\t\tthis.sampler.release = this.release;\r\n\t}\r\n\r\n\tget mode() {\r\n\t\treturn this._mode;\r\n\t}\r\n\tset mode(x) {\r\n\t\tthis._mode = x;\r\n\t\tthis.stopKeys();\r\n\t}\r\n\r\n\t// SAMPLER\r\n\r\n\tget sample() {\r\n\t\treturn SAMPLES[this._sample];\r\n\t}\r\n\tset sample(x) {\r\n\t\tthis._sample = x;\r\n\t\tconst sampleBuffer = new Buffer(\r\n\t\t\tthis.sample,\r\n\t\t\t() => {\r\n\t\t\t\tconsole.log('buffer loaded');\r\n\t\t\t\tthis.sampler.add('C5', sampleBuffer, () => console.log('sample loaded'));\r\n\t\t\t},\r\n\t\t\te => console.log('error loading sample: ', e)\r\n\t\t);\r\n\t}\r\n\r\n\tget samplePitch() {\r\n\t\treturn this._samplePitch;\r\n\t}\r\n\tset samplePitch(x) {\r\n\t\tthis._samplePitch = x;\r\n\t\tthis.retriggerKeys();\r\n\t}\r\n\r\n\t// OSC\r\n\r\n\tget osc1Shape() {\r\n\t\treturn OSC_SHAPES[this._osc1Shape];\r\n\t}\r\n\tset osc1Shape(x) {\r\n\t\tthis._osc1Shape = x;\r\n\t\tthis.osc1.set({oscillator: {type: this.osc1Shape}});\r\n\t}\r\n\r\n\tget osc2Shape() {\r\n\t\treturn OSC_SHAPES[this._osc2Shape];\r\n\t}\r\n\tset osc2Shape(x) {\r\n\t\tthis._osc2Shape = x;\r\n\t\tthis.osc2.set({oscillator: {type: this.osc2Shape}});\r\n\t}\r\n\r\n\tget osc1Octave() {\r\n\t\treturn this._osc1Octave;\r\n\t}\r\n\tset osc1Octave(x) {\r\n\t\tthis._osc1Octave = x;\r\n\t\tthis.retriggerKeys();\r\n\t}\r\n\r\n\tget osc2Octave() {\r\n\t\treturn this._osc2Octave;\r\n\t}\r\n\tset osc2Octave(x) {\r\n\t\tthis._osc2Octave = x;\r\n\t\tthis.retriggerKeys();\r\n\t}\r\n\r\n\tget osc1Transpose() {\r\n\t\treturn this._osc1Transpose;\r\n\t}\r\n\tset osc1Transpose(x) {\r\n\t\tthis._osc1Transpose = x;\r\n\t\tthis.retriggerKeys();\r\n\t}\r\n\r\n\tget osc2Transpose() {\r\n\t\treturn this._osc2Transpose;\r\n\t}\r\n\tset osc2Transpose(x) {\r\n\t\tthis._osc2Transpose = x;\r\n\t\tthis.retriggerKeys();\r\n\t}\r\n\r\n\tget osc1Detune() {\r\n\t\treturn this._osc1Detune;\r\n\t}\r\n\tset osc1Detune(x) {\r\n\t\tthis._osc1Detune = x;\r\n\t\tthis.osc1.set('detune', this.osc1Detune);\r\n\t}\r\n\r\n\tget osc2Detune() {\r\n\t\treturn this._osc2Detune;\r\n\t}\r\n\tset osc2Detune(x) {\r\n\t\tthis._osc2Detune = x;\r\n\t\tthis.osc2.set('detune', this.osc2Detune);\r\n\t}\r\n\r\n\tget osc1Gain() {\r\n\t\treturn getDecibelsFromValue(this._osc1Gain);\r\n\t}\r\n\tset osc1Gain(x) {\r\n\t\tthis._osc1Gain = x;\r\n\t\tthis.osc1.set('volume', this.osc1Gain);\r\n\t}\r\n\tget osc2Gain() {\r\n\t\treturn getDecibelsFromValue(this._osc2Gain);\r\n\t}\r\n\tset osc2Gain(x) {\r\n\t\tthis._osc2Gain = x;\r\n\t\tthis.osc2.set('volume', this.osc2Gain);\r\n\t}\r\n\r\n\t// MOD OSC\r\n\r\n\tget modOscShape() {\r\n\t\treturn OSC_SHAPES[this._modOscShape];\r\n\t}\r\n\tset modOscShape(x) {\r\n\t\tthis._modOscShape = x;\r\n\t\tthis.oscillators.forEach(o => o.set({modulation: {type: this.modOscShape}}));\r\n\t}\r\n\r\n\tget modOscFreq() {\r\n\t\treturn getHarmonicityFromValue(this._modOscFreq);\r\n\t}\r\n\tset modOscFreq(x) {\r\n\t\tthis._modOscFreq = x;\r\n\t\tthis.oscillators.forEach(o => o.set({harmonicity: this.modOscFreq}));\r\n\t}\r\n\r\n\tget modOscGain() {\r\n\t\treturn this._modOscGain;\r\n\t}\r\n\tset modOscGain(x) {\r\n\t\tthis._modOscGain = x;\r\n\t\tthis.oscillators.forEach(o => o.set({modulationIndex: this.modOscGain}));\r\n\t}\r\n\r\n\t// FILTER\r\n\r\n\tget filter1Type() {\r\n\t\treturn FILTER_TYPES[this._filter1Type];\r\n\t}\r\n\tset filter1Type(x) {\r\n\t\tthis._filter1Type = x;\r\n\t\tthis.filter1.type = this.filter1Type;\r\n\t}\r\n\r\n\tget filter2Type() {\r\n\t\treturn FILTER_TYPES[this._filter2Type];\r\n\t}\r\n\tset filter2Type(x) {\r\n\t\tthis._filter2type = x;\r\n\t\tthis.filter2.type = this.filter2Type;\r\n\t}\r\n\r\n\tget filter1Rolloff() {\r\n\t\treturn FILTER_ROLLOFFS[this._filter1Rolloff];\r\n\t}\r\n\tset filter1Rolloff(x) {\r\n\t\tthis._filter1Rolloff = x;\r\n\t\tthis.filter1.rolloff = this.filter1Rolloff;\r\n\t}\r\n\r\n\tget filter2Rolloff() {\r\n\t\treturn FILTER_ROLLOFFS[this._filter2Rolloff];\r\n\t}\r\n\tset filter2Rolloff(x) {\r\n\t\tthis._filter2Rolloff = x;\r\n\t\tthis.filter2.rolloff = this.filter2Rolloff;\r\n\t}\r\n\r\n\tget filter1Freq() {\r\n\t\treturn getFrequencyFromValue(this._filter1Freq);\r\n\t}\r\n\tset filter1Freq(x) {\r\n\t\tthis._filter1Freq = x;\r\n\t\tthis.filter1.frequency.value = this.filter1Freq;\r\n\t}\r\n\r\n\tget filter2Freq() {\r\n\t\treturn getFrequencyFromValue(this._filter2Freq);\r\n\t}\r\n\tset filter2Freq(x) {\r\n\t\tthis._filter2Freq = x;\r\n\t\tthis.filter2.frequency.value = this.filter2Freq;\r\n\t}\r\n\r\n\tget filter1Q() {\r\n\t\treturn Math.pow(this._filter1Q, 2) / 10;\r\n\t}\r\n\tset filter1Q(x) {\r\n\t\tthis._filter1Q = x;\r\n\t\tthis.filter1.Q.value = this.filter1Q;\r\n\t}\r\n\r\n\tget filter2Q() {\r\n\t\treturn Math.pow(this._filter2Q, 2) / 10;\r\n\t}\r\n\tset filter2Q(x) {\r\n\t\tthis._filter2Q = x;\r\n\t\tthis.filter2.Q.value = this.filter2Q;\r\n\t}\r\n\r\n\t// VIBRATO\r\n\r\n\tget vibratoDepth() {\r\n\t\treturn this._vibratoDepth / 100;\r\n\t}\r\n\tset vibratoDepth(x) {\r\n\t\tthis._vibratoDepth = x;\r\n\t\tthis.vibrato.depth.value = this.vibratoDepth;\r\n\t}\r\n\r\n\tget vibratoFreq() {\r\n\t\treturn this._vibratoFreq / 10;\r\n\t}\r\n\tset vibratoFreq(x) {\r\n\t\tthis._vibratoFreq = x;\r\n\t\tthis.vibrato.frequency.value = this.vibratoFreq;\r\n\t}\r\n\r\n\tget vibratoWet() {\r\n\t\treturn this._vibratoWet / 100;\r\n\t}\r\n\tset vibratoWet(x) {\r\n\t\tthis._vibratoWet = x;\r\n\t\tthis.vibrato.wet.value = this.vibratoWet;\r\n\t}\r\n\r\n\t// CHORUS\r\n\r\n\tget chorusSpread() {\r\n\t\treturn this._chorusSpread;\r\n\t}\r\n\tset chorusSpread(x) {\r\n\t\tthis._chorusSpread = x;\r\n\t\tthis.chorus.spread = this.chorusSpread;\r\n\t}\r\n\r\n\tget chorusDepth() {\r\n\t\treturn this._chorusDepth / 100;\r\n\t}\r\n\tset chorusDepth(x) {\r\n\t\tthis._chorusDepth = x;\r\n\t\tthis.chorus.depth = this.chorusDepth;\r\n\t}\r\n\r\n\tget chorusDelay() {\r\n\t\treturn this._chorusDelay;\r\n\t}\r\n\tset chorusDelay(x) {\r\n\t\tthis._chorusDelay = x;\r\n\t\tthis.chorus.delay = this.chorusDelay;\r\n\t}\r\n\r\n\tget chorusWet() {\r\n\t\treturn this._chorusWet / 100;\r\n\t}\r\n\tset chorusWet(x) {\r\n\t\tthis._chorusWet = x;\r\n\t\tthis.chorus.wet.value = this._chorusWet;\r\n\t}\r\n\r\n\t// BITCRUSHER\r\n\r\n\tget crusherBits() {\r\n\t\treturn this._crusherBits;\r\n\t}\r\n\tset crusherBits(x) {\r\n\t\tthis._crusherBits = x;\r\n\t\tthis.bitcrusher.bits = this.crusherBits;\r\n\t}\r\n\r\n\tget crusherWet() {\r\n\t\treturn this._crusherWet / 100;\r\n\t}\r\n\tset crusherWet(x) {\r\n\t\tthis._crusherWet = x;\r\n\t\tthis.bitcrusher.wet.value = this.crusherWet;\r\n\t}\r\n\r\n\t// DISTORTION\r\n\r\n\tget distOver() {\r\n\t\treturn OVERSAMPLE_TYPES[this._distOver];\r\n\t}\r\n\tset distOver(x) {\r\n\t\tthis._distOver = x;\r\n\t\tthis.distortion.oversample = this.distOver;\r\n\t}\r\n\r\n\tget distAmount() {\r\n\t\treturn this._distAmount / 100;\r\n\t}\r\n\tset distAmount(x) {\r\n\t\tthis._distAmount = x;\r\n\t\tthis.distortion.distortion = this.distAmount;\r\n\t}\r\n\r\n\tget distWet() {\r\n\t\treturn this._distWet / 100;\r\n\t}\r\n\tset distWet(x) {\r\n\t\tthis._distWet = x;\r\n\t\tthis.distortion.wet.value = this.distWet;\r\n\t}\r\n\r\n\t// PITCHER\r\n\r\n\tget pitcherPitch() {\r\n\t\treturn this._pitcherPitch;\r\n\t}\r\n\tset pitcherPitch(x) {\r\n\t\tthis._pitcherPitch = x;\r\n\t\tthis.pitcher.pitch = this.pitcherPitch;\r\n\t}\r\n\r\n\tget pitcherWindow() {\r\n\t\treturn this._pitcherWindow / 1000;\r\n\t}\r\n\tset pitcherWindow(x) {\r\n\t\tthis._pitcherWindow = x;\r\n\t\tthis.pitcher.windowSize = this.pitcherWindow;\r\n\t}\r\n\r\n\tget pitcherWet() {\r\n\t\treturn this._pitcherWet / 100;\r\n\t}\r\n\tset pitcherWet(x) {\r\n\t\tthis._pitcherWet = x;\r\n\t\tthis.pitcher.wet.value = this.pitcherWet;\r\n\t}\r\n\r\n\t// REVERB\r\n\r\n\tget reverbSize() {\r\n\t\treturn this._reverbSize / 100;\r\n\t}\r\n\tset reverbSize(x) {\r\n\t\tthis._reverbSize = x;\r\n\t\tthis.reverb.roomSize.value = this.reverbSize;\r\n\t}\r\n\r\n\tget reverbDampening() {\r\n\t\treturn getFrequencyFromValue(this._reverbDampening);\r\n\t}\r\n\tset reverbDampening(x) {\r\n\t\tthis._reverbDampening = x;\r\n\t\tthis.reverb.dampening.value = this.reverbDampening;\r\n\t}\r\n\r\n\tget reverbWet() {\r\n\t\treturn this._reverbWet / 100;\r\n\t}\r\n\tset reverbWet(x) {\r\n\t\tthis._reverbWet = x;\r\n\t\tthis.reverb.wet.value = this.reverbWet;\r\n\t}\r\n\r\n\tset = (control, value) => {\r\n\t\tconsole.log(`setting ${control} to ${value}`);\r\n\r\n\t\tthis[control] = value;\r\n\t};\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Context} from 'tone';\r\nimport {\r\n\tCONTROL_TYPES,\r\n\tCONTROLS,\r\n\tCONTROLS_NAMES,\r\n\tCONTROLS_DEFAULT_VALUES,\r\n\tKEYS_MAP,\r\n\tLAYOUTS\r\n} from './js/statics';\r\nimport Synth from './components/Synth';\r\nimport Output from './js/classes/Output';\r\n\r\nclass App extends Component {\r\n\t/** LIFECYCLE */\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.layout = props.layout || 0;\r\n\t\tthis.octaves = props.octaves;\r\n\r\n\t\tif (!this.octaves || !Number.isInteger(this.octaves) || this.octaves > 10 || this.octaves < 4) {\r\n\t\t\tthis.octaves = 8;\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tactiveKeys: [],\r\n\t\t\tactiveControl: null,\r\n\t\t\tactiveControlType: null,\r\n\t\t\tactiveScreenY: null,\r\n\t\t\tactiveModifierKey: false,\r\n\t\t\taudioContextStarted: false,\r\n\t\t\toctaves: this.octaves,\r\n\t\t\tlayout: this.layout,\r\n\t\t\t...CONTROLS_DEFAULT_VALUES\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.initializeSoundEngine();\r\n\t\tthis.registerEvents();\r\n\t};\r\n\r\n\tcomponentWillUnmount = () => {};\r\n\r\n\t/** INIT */\r\n\r\n\tregisterEvents = () => {\r\n\t\t// console.log(\"registerEvents\");\r\n\r\n\t\tdocument.addEventListener('keydown', this.handleKeyDown);\r\n\t\tdocument.addEventListener('keyup', this.handleKeyUp);\r\n\r\n\t\tdocument.addEventListener('mousedown', this.handleMouseDown);\r\n\t\tdocument.addEventListener('mouseup', this.handleMouseUp);\r\n\t\tdocument.addEventListener('mouseleave', this.handleMouseLeave);\r\n\t\tdocument.addEventListener('mouseout', this.handleMouseOut);\r\n\r\n\t\tdocument.addEventListener('drag', e => e.preventDefault());\r\n\t\tdocument.addEventListener('dragend', e => e.preventDefault());\r\n\t\tdocument.addEventListener('dragenter', e => e.preventDefault());\r\n\t\tdocument.addEventListener('dragexit', e => e.preventDefault());\r\n\t\tdocument.addEventListener('dragleave', e => e.preventDefault());\r\n\t\tdocument.addEventListener('dragover', e => e.preventDefault());\r\n\t\tdocument.addEventListener('dragstart', e => e.preventDefault());\r\n\t\tdocument.addEventListener('drop', e => e.preventDefault());\r\n\t};\r\n\r\n\tinitializeSoundEngine = () => {\r\n\t\t// console.log('initializeSoundEngine');\r\n\r\n\t\tthis.audioContext = new Context();\r\n\t\tthis.setOutputFromState();\r\n\t};\r\n\r\n\tsetOutputFromState = () => {\r\n\t\t// console.log(\"setOutputFromState\");\r\n\r\n\t\tconst controlsState = CONTROLS_NAMES.map(n => this.state[n]);\r\n\t\tthis.output = new Output(this.audioContext, ...controlsState);\r\n\t};\r\n\r\n\tresumeAudioContext = () => {\r\n\t\t// console.log('resumeAudioContext');\r\n\r\n\t\tif (!this.state.audioContextStarted) {\r\n\t\t\tthis.audioContext.resume();\r\n\t\t\tthis.setState({audioContextStarted: true});\r\n\t\t}\r\n\t};\r\n\r\n\t/** GLOBAL EVENT HANDLERS */\r\n\r\n\thandleKeyDown = e => {\r\n\t\t// console.log(\"handleKeyDown\", e);\r\n\r\n\t\te.preventDefault();\r\n\t\tconst keyPressed = e.key.toLowerCase();\r\n\t\tconst pianoKey = LAYOUTS[this.state.layout][keyPressed];\r\n\r\n\t\tif (pianoKey) {\r\n\t\t\tthis.activatePianoKey(pianoKey);\r\n\t\t} else if (keyPressed === 'control' || keyPressed === 'command') {\r\n\t\t\tthis.setState({activeModifierKey: true});\r\n\t\t}\r\n\r\n\t\tthis.resumeAudioContext();\r\n\t};\r\n\r\n\thandleKeyUp = e => {\r\n\t\t// console.log(\"handleKeyUp\", e);\r\n\r\n\t\tconst keyReleased = e.key.toLowerCase();\r\n\r\n\t\tif (keyReleased === 'control' || keyReleased === 'command')\r\n\t\t\tthis.setState({activeModifierKey: false});\r\n\r\n\t\tconst pianoKey = LAYOUTS[this.state.layout][keyReleased];\r\n\t\tif (pianoKey) {\r\n\t\t\tthis.deactivatePianoKey(pianoKey);\r\n\t\t}\r\n\t};\r\n\r\n\thandleMouseDown = e => {\r\n\t\t// console.log('handleMouseDown', e);\r\n\r\n\t\tthis.resumeAudioContext();\r\n\t};\r\n\r\n\thandleMouseUp = e => {\r\n\t\t// console.log('handleMouseUp', e);\r\n\r\n\t\tthis.mouseDownOnKeys = false;\r\n\t\tthis.state.activeControl &&\r\n\t\t\tthis.setState({\r\n\t\t\t\tactiveControl: null,\r\n\t\t\t\tactiveModifierKey: false\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleMouseLeave = e => {\r\n\t\t// console.log(\"handleMouseLeave\", e);\r\n\t};\r\n\r\n\thandleMouseOut = e => {\r\n\t\t// console.log(\"handleMouseOut\", e);\r\n\t};\r\n\r\n\t/** PIANO KEYS */\r\n\r\n\thandleMouseDownPianoKey = e => {\r\n\t\t// console.log('handleMouseDownPianoKey', e);\r\n\r\n\t\tif (e.button === 0) {\r\n\t\t\tthis.activatePianoKey(e.target.title);\r\n\t\t\tthis.mouseDownOnKeys = true;\r\n\t\t}\r\n\t};\r\n\r\n\thandleMouseUpPianoKey = e => {\r\n\t\t// console.log('handleMouseUpPianoKey', e);\r\n\r\n\t\tif (e.button === 0) {\r\n\t\t\tthis.mouseDownOnKeys = false;\r\n\t\t\tthis.deactivatePianoKey(e.target.title);\r\n\t\t}\r\n\t};\r\n\r\n\thandleMouseOverPianoKey = e => {\r\n\t\t// console.log(\"handleMouseOverPianoKey\", e);\r\n\t\t// this.mouseDownOnKeys && this.activatePianoKey(e.target.title);\r\n\t};\r\n\r\n\thandleMouseLeavePianoKey = e => {\r\n\t\t// console.log(\"handleMouseLeavePianoKey\", e);\r\n\r\n\t\tthis.mouseDownOnKeys && this.deactivatePianoKey(e.target.title);\r\n\t};\r\n\r\n\tactivatePianoKey = key => {\r\n\t\t// console.log('activatePianoKey', key);\r\n\r\n\t\tif (!this.state.activeKeys.includes(key)) {\r\n\t\t\tthis.output.playKey(KEYS_MAP[key].freq);\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\tactiveKeys: [...prevState.activeKeys, key]\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\tdeactivatePianoKey = key => {\r\n\t\t// console.log('deactivatePianoKey', key);\r\n\r\n\t\tif (this.state.activeKeys.includes(key)) {\r\n\t\t\tthis.output.stopKey(KEYS_MAP[key].freq);\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\tactiveKeys: prevState.activeKeys.filter(k => k !== key)\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\t/** SYNTH CONTROLS */\r\n\r\n\thandleClickControl = (control, value) => {\r\n\t\t// console.log(`handleClickControl(${control}, ${value})`);\r\n\r\n\t\tthis.changeControlValue(control, value);\r\n\t};\r\n\r\n\thandleMouseDownControl = (activeControl, activeControlType, e) => {\r\n\t\t// console.log('handleMouseDownControl', activeControl, activeControlType, e);\r\n\r\n\t\tif (e.button === 0) {\r\n\t\t\t// left click\r\n\t\t\tif (this.state.activeModifierKey) {\r\n\t\t\t\t// holding ctrl\r\n\t\t\t\tthis.resetControlValue(activeControl);\r\n\t\t\t} else {\r\n\t\t\t\tthis.activateControl(activeControl, activeControlType, e.screenY);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleMouseUpControl = (activeControl, e) => {\r\n\t\t// console.log('handleMouseUpControl', activeControl, e);\r\n\r\n\t\tif (e.button === 0) {\r\n\t\t\tthis.deactivateControl(activeControl);\r\n\t\t}\r\n\t};\r\n\r\n\thandleMouseMoveControl = event => {\r\n\t\t// console.log(\"handleMouseMoveControl\", event, this.state);\r\n\r\n\t\tconst {activeModifierKey, activeControl, activeControlType, activeScreenY} = this.state;\r\n\r\n\t\tif (activeControl) {\r\n\t\t\tlet pixelStep = CONTROL_TYPES[activeControlType].pixelStep || 5;\r\n\r\n\t\t\tif (activeModifierKey) {\r\n\t\t\t\tpixelStep *= 10;\r\n\t\t\t}\r\n\r\n\t\t\tconst movement = Math.abs(event.screenY - activeScreenY);\r\n\r\n\t\t\tlet change = 0;\r\n\t\t\tif (event.screenY - pixelStep > activeScreenY) {\r\n\t\t\t\tchange = Math.round(-movement / pixelStep);\r\n\t\t\t} else if (event.screenY + pixelStep < activeScreenY) {\r\n\t\t\t\tchange = Math.round(movement / pixelStep);\r\n\t\t\t}\r\n\r\n\t\t\tif (change) {\r\n\t\t\t\tconst newState = {...this.state};\r\n\t\t\t\tnewState['activeScreenY'] = event.screenY;\r\n\t\t\t\tthis.setState(newState);\r\n\t\t\t\tthis.changeControlValue(activeControl, change);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleMouseWheelControl = (activeControl, activeControlType, e) => {\r\n\t\t// console.log('handleMouseWheelControl', activeControl, activeControlType, e.deltaY);\r\n\r\n\t\t// const {pixelStep} = CONTROL_TYPES[activeControlType];\r\n\r\n\t\t// const change = e.deltaY > 0 ? -1 : 1;\r\n\t\t// const value = change * Math.round(5 / pixelStep);\r\n\t\t// this.changeControlValue(activeControl, value);\r\n\t\treturn false;\r\n\t};\r\n\r\n\tactivateControl = (activeControl, activeControlType, screenY) => {\r\n\t\t// console.log('activateControl', activeControl, activeControlType, screenY);\r\n\r\n\t\tdocument.addEventListener('mousemove', this.handleMouseMoveControl);\r\n\r\n\t\tthis.setState({\r\n\t\t\tactiveControl,\r\n\t\t\tactiveControlType,\r\n\t\t\tactiveScreenY: screenY\r\n\t\t});\r\n\t};\r\n\r\n\tdeactivateControl = activeControl => {\r\n\t\t// console.log('deactiveControl', activeControl);\r\n\r\n\t\tdocument.removeEventListener('mousemove', this.handleMouseMoveControl);\r\n\r\n\t\tthis.setState({activeControl: null});\r\n\t};\r\n\r\n\tchangeControlValue = (control, change) => {\r\n\t\t// console.log('changeControlValue', control, change);\r\n\r\n\t\tconst newState = {...this.state};\r\n\t\tconst {range} = CONTROLS[control];\r\n\r\n\t\tlet value = change;\r\n\r\n\t\tif (range) {\r\n\t\t\tvalue = newState[control] + change;\r\n\t\t\tconst {min, max} = range;\r\n\t\t\tif (value > max) value = max;\r\n\t\t\telse if (value < min) value = min;\r\n\t\t}\r\n\r\n\t\tnewState[control] = value;\r\n\t\tthis.output.set(control, value);\r\n\t\tthis.setState(newState);\r\n\t};\r\n\r\n\tresetControlValue = control => {\r\n\t\tconsole.log('resetControlValue', control);\r\n\t\tthis.setState({[control]: CONTROLS[control].defaultValue});\r\n\t};\r\n\r\n\trender() {\r\n\t\t// console.log(\"State:\", this.state);\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tid=\"container\"\r\n\t\t\t\t// onContextMenu={(e) => {e.preventDefault()}}\r\n\t\t\t>\r\n\t\t\t\t<Synth\r\n\t\t\t\t\t{...this.state}\r\n\t\t\t\t\thandleMouseDownPianoKey={this.handleMouseDownPianoKey}\r\n\t\t\t\t\thandleMouseUpPianoKey={this.handleMouseUpPianoKey}\r\n\t\t\t\t\thandleMouseOverPianoKey={this.handleMouseOverPianoKey}\r\n\t\t\t\t\thandleMouseLeavePianoKey={this.handleMouseLeavePianoKey}\r\n\t\t\t\t\thandleClickControl={this.handleClickControl}\r\n\t\t\t\t\thandleMouseDownControl={this.handleMouseDownControl}\r\n\t\t\t\t\thandleMouseUpControl={this.handleMouseUpControl}\r\n\t\t\t\t\thandleMouseWheelControl={this.handleMouseWheelControl}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}