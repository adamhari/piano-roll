(this["webpackJsonpreact-piano-roll"]=this["webpackJsonpreact-piano-roll"]||[]).push([[0],{15:function(e,t,a){e.exports=a(21)},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);for(var n=a(0),i=a.n(n),o=a(10),r=a.n(o),s=(a(20),a(2)),l=a(7),c=a(11),u=a(8),m=a(4),h=a(5),d=a(14),f=a(12),v=a(6),p=a(13),L=a(1),g=[{z:"C0",x:"D0",c:"E0",v:"F0",b:"G0",n:"A0",m:"B0",a:"C1",s:"D1",d:"E1",f:"F1",g:"G1",h:"A1",j:"B1",k:"C2",l:"D2",";":"E2","'":"F2",",":"C1",".":"D1","/":"E1",q:"C2",w:"D2",e:"E2",r:"F2",t:"G2",y:"A2",u:"B2",i:"C3",o:"D3",p:"E3","[":"F3","]":"G3","\\":"A3",delete:"B3"},{z:"C0",s:"C\u266f0",x:"D0",d:"D\u266f0",c:"E0",v:"F0",g:"F\u266f0",b:"G0",h:"G\u266f0",n:"A0",j:"A\u266f0",m:"B0",",":"C1",l:"C\u266f1",".":"D1",";":"D\u266f1","/":"E1",q:"C1",2:"C\u266f1",w:"D1",3:"D\u266f1",e:"E1",r:"F1",5:"F\u266f1",t:"G1",6:"G\u266f1",y:"A1",7:"A\u266f1",u:"B1",i:"C2",9:"C\u266f2",o:"D2",0:"D\u266f2",p:"E2","[":"F2","=":"F\u266f2","]":"G2",backspace:"G\u266f2","\\":"A2",insert:"A\u266f2",delete:"B2"}],b=[{name:"C",freq:16.3516*Math.pow(1.0594630943593,0)},{name:"C\u266f",freq:16.3516*Math.pow(1.0594630943593,1)},{name:"D",freq:16.3516*Math.pow(1.0594630943593,2)},{name:"D\u266f",freq:16.3516*Math.pow(1.0594630943593,3)},{name:"E",freq:16.3516*Math.pow(1.0594630943593,4)},{name:"F",freq:16.3516*Math.pow(1.0594630943593,5)},{name:"F\u266f",freq:16.3516*Math.pow(1.0594630943593,6)},{name:"G",freq:16.3516*Math.pow(1.0594630943593,7)},{name:"G\u266f",freq:16.3516*Math.pow(1.0594630943593,8)},{name:"A",freq:16.3516*Math.pow(1.0594630943593,9)},{name:"A\u266f",freq:16.3516*Math.pow(1.0594630943593,10)},{name:"B",freq:16.3516*Math.pow(1.0594630943593,11)}],y=[],E={},O=function(e){b.forEach((function(t){var a={name:t.name+e,freq:t.freq*Math.pow(2,e),octave:e};y.push(a),E[a.name]=a}))},w=0;w<10;w++)O(w);var C="sampler",_="synth",k=["https://freewavesamples.com/files/E-Mu-Proteus-FX-Javanese-C3.wav","https://freewavesamples.com/files/Casio-MT-600-Synth-Bells-C3.wav","https://freewavesamples.com/files/Alesis-Sanctuary-QCard-Music-Box-C6.wav","https://freewavesamples.com/files/Ensoniq-ESQ-1-Sympy-C4.wav"],M=["audio/wav","audio/mp3","audio/ogg"],Q=["sawtooth","square","triangle","sine"],D=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch"],x=[-12,-24,-48,-96],S=["none","2x","4x"],z={digital:{name:"digital",pixelStep:10},knob:{name:"knob",pixelStep:3}},N={layout:{defaultValue:0,range:{min:0,max:g.length-1}},volume:{defaultValue:50,range:{min:0,max:100}},polyphony:{defaultValue:9,range:{min:1,max:9}},portamento:{defaultValue:0,range:{min:0,max:100}},attack:{defaultValue:0,range:{min:0,max:100}},decay:{defaultValue:50,range:{min:0,max:100}},sustain:{defaultValue:75,range:{min:0,max:100}},release:{defaultValue:25,range:{min:0,max:100}},mode:{defaultValue:C},sample:{defaultValue:0,range:{min:0,max:k.length-1}},samplePitch:{defaultValue:0,range:{min:-50,max:50}},osc1Shape:{defaultValue:0,range:{min:0,max:Q.length-1}},osc1Octave:{defaultValue:5,range:{min:0,max:9}},osc1Transpose:{defaultValue:0,range:{min:-9,max:9}},osc1Detune:{defaultValue:0,range:{min:-100,max:100}},osc1Gain:{defaultValue:100,range:{min:0,max:100}},osc2Shape:{defaultValue:0,range:{min:0,max:Q.length-1}},osc2Octave:{defaultValue:5,range:{min:0,max:9}},osc2Transpose:{defaultValue:0,range:{min:-9,max:9}},osc2Detune:{defaultValue:0,range:{min:-100,max:100}},osc2Gain:{defaultValue:0,range:{min:0,max:100}},modOscShape:{defaultValue:0,range:{min:0,max:Q.length-1}},modOscFreq:{defaultValue:50,range:{min:0,max:100}},modOscGain:{defaultValue:0,range:{min:0,max:100}},filter1Type:{defaultValue:0,range:{min:0,max:D.length-1}},filter1Rolloff:{defaultValue:0,range:{min:0,max:x.length-1}},filter1Freq:{defaultValue:100,range:{min:0,max:100}},filter1Q:{defaultValue:0,range:{min:0,max:100}},filter2Type:{defaultValue:0,range:{min:0,max:D.length-1}},filter2Rolloff:{defaultValue:0,range:{min:0,max:x.length-1}},filter2Freq:{defaultValue:100,range:{min:0,max:100}},filter2Q:{defaultValue:0,range:{min:0,max:100}},vibratoDepth:{defaultValue:100,range:{min:0,max:100}},vibratoFreq:{defaultValue:50,range:{min:0,max:100}},vibratoWet:{defaultValue:0,range:{min:0,max:100}},chorusSpread:{defaultValue:180,range:{min:0,max:359}},chorusDepth:{defaultValue:50,range:{min:0,max:100}},chorusDelay:{defaultValue:0,range:{min:0,max:100}},chorusWet:{defaultValue:0,range:{min:0,max:100}},crusherBits:{defaultValue:4,range:{min:1,max:8}},crusherWet:{defaultValue:0,range:{min:0,max:100}},distOver:{defaultValue:0,range:{min:0,max:S.length-1}},distAmount:{defaultValue:50,range:{min:0,max:100}},distWet:{defaultValue:0,range:{min:0,max:100}},pitcherPitch:{defaultValue:0,range:{min:-60,max:60}},pitcherWindow:{defaultValue:100,range:{min:0,max:100}},pitcherWet:{defaultValue:0,range:{min:0,max:100}},reverbSize:{defaultValue:50,range:{min:0,max:100}},reverbDampening:{defaultValue:50,range:{min:0,max:100}},reverbWet:{defaultValue:0,range:{min:0,max:100}}},j=[],V={};Object.keys(N).forEach((function(e){j.push(e),V[e]=N[e].defaultValue}));var q=function(e,t,a){return e*Math.pow(2,t)/8*Math.pow(1.0594630943593,a)},K=function(e){return 20*Math.log10(e/100)},W=function(e){return 65.4064*Math.pow(1.0594630943593,e)-65.4064},F=function(e){return Math.pow(e,2)/2500||1e-4},P=function(e){var t=e.active,a=e.disabled,n=e.handleMouseDownPianoKey,o=e.handleMouseUpPianoKey,r=e.handleMouseOverPianoKey,s=e.handleMouseLeavePianoKey,l=e.name,c=e.note;return i.a.createElement("div",{title:l,className:["piano-key","piano-key-".concat(c),l.includes("\u266f")?"piano-key-black":"piano-key-white",t?"piano-key-active":a?"piano-key-disabled":"piano-key-inactive"].join(" "),id:"piano-key-".concat(l),tabIndex:"0",onMouseDown:n,onMouseUp:o,onMouseOver:r,onMouseLeave:s})},T=function(e){var t=e.activeKeys,a=e.octaves,n=[],o=[];return y.slice(0,12*a).forEach((function(a,r){(a.name.includes("\u266f")?n:o).push(i.a.createElement(P,Object.assign({},e,{key:12*a.octave+r,name:a.name,note:a.name.substring(0,a.name.length-1),freq:a.freq*Math.pow(2,a.octave),active:t.includes(a.name)})))})),i.a.createElement("div",{id:"piano-keys"},i.a.createElement("div",{id:"piano-black-keys"},n),i.a.createElement("div",{id:"piano-white-keys"},o))},R=function(e){var t=e.active,a=e.handleClickControl,n=e.label,o=e.name,r=e.size,s=e.value;return i.a.createElement("div",{className:"button-control-container control-container"},i.a.createElement("div",{className:"control-label"},n||s),i.a.createElement("div",{className:"button-container"},i.a.createElement("div",{onClick:function(e){a(o,s)},className:function(){var e="button ";return t&&(e+="active "),r&&(e+="".concat(r," ")),e}()})))},G=function(e){var t=e.active,a=e.accept,o=e.blinking,r=e.handleClickControl,s=e.label,l=e.name,c=e.size,u=e.type,m=e.value,h=Object(n.useRef)(null);return i.a.createElement("div",{className:"button-control-container control-container"},i.a.createElement("div",{className:"control-label"},s||m),i.a.createElement("div",{className:"button-container"},i.a.createElement("div",{onClick:function(e){h.current.click()},className:function(){var e="button ";return t&&(e+="active "),o&&(e+="blinking "),c&&(e+="".concat(c," ")),e}()}),i.a.createElement("input",{ref:h,onChange:function(e){var t=h.current.files[0],a=URL.createObjectURL(t);console.log(t,a),r(l,a)},type:u,accept:a,style:{display:"none"}})))},A=function(e){var t=e.handleMouseDownControl,a=e.handleMouseUpControl,n=e.handleMouseWheelControl,o=e.name,r=e.label,s=e.outline,l=e.value,c=N[o].range,u=c.min,m=c.max,h=function(){var e="";return e=m>9?"multi-digit":"single-digit",u<0&&(e+="-negative"),e}(),d={"single-digit":{backgroundValue:8,style:function(e){var t={};return 1===e&&(t.left="-0.25rem"),t}},"single-digit-negative":{backgroundValue:-8,style:function(e){var t={};return(e>1||0===e)&&(t.left="-0.0625rem"),1===e&&(t.left="0.245rem"),-1===e&&(t.left="-0.225rem",t.letterSpacing="0.5375rem"),t}}};return i.a.createElement("div",{className:"digital-control "+(s?"digital-control-outlined":"")},i.a.createElement("label",{id:o+"-label",className:"control-label",htmlFor:""+o},r||o),i.a.createElement("div",{className:"digital-control-input-container control-container"},i.a.createElement("div",{id:""+o,className:"digital-control-input "+h},8,i.a.createElement("div",{id:o+"-background",className:"digital-control-input digital-control-input-background "+h,children:d[h].backgroundValue}),i.a.createElement("div",{id:o+"-foreground",className:"digital-control-input digital-control-input-foreground "+h,children:Number.isInteger(l)?l:"-",style:d[h].style(l),onMouseDown:function(e){return t(o,z.digital.name,e)},onMouseUp:function(e){return a(o,z.digital.name,e)},onWheel:function(e){return n(o,z.digital.name,e)}}))))},B=function(e){var t=e.activeControl,a=e.handleMouseDownControl,n=e.handleMouseUpControl,o=e.handleMouseWheelControl,r=e.label,s=e.name,l=e.size,c=e.value,u=N[s].range,m=u.min,h=u.max;return i.a.createElement("div",{className:"knob-control-container control-container "+(l||"")},i.a.createElement("div",{className:"control-label"},r||s),i.a.createElement("div",{className:"knob-control-value",style:{opacity:t===s?1:0}},c),i.a.createElement("div",{className:"knob-container"},i.a.createElement("div",{className:"knob",style:function(){var e={},t=.875*(3.6*(100*(c-m)/(h-m))+180)+45;return e.transform="rotate(".concat(t,"deg)"),e}(),onMouseDown:function(e){return a(s,z.knob.name,e)},onMouseUp:function(e){return n(s,z.knob.name,e)},onWheel:function(e){return o(s,z.knob.name,e)}})))},U=function(e){var t=e.activeControl,a=e.handleClickControl,n=e.handleMouseDownControl,o=e.handleMouseUpControl,r=e.handleMouseWheelControl,s=e.sampleLoading,l=e.sampleLoaded,c=e.layout,u=e.volume,m=e.polyphony,h=(e.portamento,e.attack),d=e.decay,f=e.sustain,v=e.release,p=e.mode,L=e.sample,g=e.samplePitch,b=e.osc1Shape,y=e.osc1Octave,E=e.osc1Transpose,O=e.osc1Detune,w=e.osc1Gain,k=e.osc2Shape,Q=e.osc2Octave,D=e.osc2Transpose,x=e.osc2Detune,S=e.osc2Gain,z=e.modOscShape,j=e.modOscFreq,V=e.modOscGain,q=e.filter1Type,K=e.filter1Rolloff,W=e.filter1Freq,F=e.filter1Q,P=e.filter2Type,U=e.filter2Rolloff,Z=e.filter2Freq,I=e.filter2Q,Y=e.vibratoDepth,H=e.vibratoFreq,J=e.vibratoWet,X=e.chorusSpread,$=e.chorusDepth,ee=(e.chorusDelay,e.chorusWet),te=e.crusherBits,ae=e.crusherWet,ne=(e.distOver,e.distAmount),ie=e.distWet,oe=e.pitcherPitch,re=e.pitcherWindow,se=e.pitcherWet,le=e.reverbSize,ce=e.reverbDampening,ue=e.reverbWet,me={activeControl:t,handleClickControl:a,handleMouseDownControl:n,handleMouseUpControl:o,handleMouseWheelControl:r},he=function(){return i.a.createElement("div",{id:"logo-section"},i.a.createElement("svg",{id:"logo",viewBox:"304.103 332.216 470.661 104.256"},i.a.createElement("g",null,i.a.createElement("path",{d:"M 654.248 361.208 L 652.04 368.792 L 623.528 431 L 608.264 431 L 635.24 373.784 L 617.768 373.784 L 621.512 361.208 L 654.248 361.208 Z ",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 688.821 378.476 L 677.685 416.396 L 677.685 416.396 Q 676.725 419.564 675.093 422.54 L 675.093 422.54 L 675.093 422.54 Q 673.461 425.516 670.869 427.724 L 670.869 427.724 L 670.869 427.724 Q 668.277 429.932 664.533 431.228 L 664.533 431.228 L 664.533 431.228 Q 660.789 432.524 655.797 432.332 L 655.797 432.332 L 655.797 432.332 Q 652.917 432.236 649.845 431.324 L 649.845 431.324 L 649.845 431.324 Q 646.773 430.412 644.613 428.3 L 644.613 428.3 L 644.613 428.3 Q 642.453 426.188 641.685 422.732 L 641.685 422.732 L 641.685 422.732 Q 640.917 419.276 642.453 414.092 L 642.453 414.092 L 654.261 373.868 L 654.261 373.868 Q 656.565 366.188 661.845 363.02 L 661.845 363.02 L 661.845 363.02 Q 667.125 359.852 674.709 359.852 L 674.709 359.852 L 674.709 359.852 Q 684.021 359.852 687.813 364.364 L 687.813 364.364 L 687.813 364.364 Q 691.605 368.876 688.821 378.476 L 688.821 378.476 Z  M 662.901 417.548 L 675.189 375.596 L 675.189 375.596 Q 675.765 373.58 675.333 372.428 L 675.333 372.428 L 675.333 372.428 Q 674.901 371.276 672.693 371.276 L 672.693 371.276 L 672.693 371.276 Q 670.677 371.276 669.717 372.38 L 669.717 372.38 L 669.717 372.38 Q 668.757 373.484 668.277 375.308 L 668.277 375.308 L 655.893 417.164 L 655.893 417.164 Q 654.741 421.1 658.293 421.196 L 658.293 421.196 L 658.293 421.196 Q 660.213 421.292 661.269 420.428 L 661.269 420.428 L 661.269 420.428 Q 662.325 419.564 662.901 417.548 L 662.901 417.548 Z ",fillRule:"evenodd",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 735.656 361.208 L 726.92 390.872 L 726.92 390.872 Q 725.288 396.248 717.992 396.152 L 717.992 396.152 L 717.992 396.152 Q 721.448 396.344 722.696 398.792 L 722.696 398.792 L 722.696 398.792 Q 723.944 401.24 722.984 404.312 L 722.984 404.312 L 715.112 431 L 700.52 431 L 708.584 403.736 L 708.584 403.736 Q 708.872 402.68 708.632 401.96 L 708.632 401.96 L 708.632 401.96 Q 708.392 401.24 706.76 401.24 L 706.76 401.24 L 704.552 401.24 L 704.552 401.24 Q 702.92 401.24 702.344 401.624 L 702.344 401.624 L 702.344 401.624 Q 701.768 402.008 701.384 403.256 L 701.384 403.256 L 693.128 431 L 678.536 431 L 686.6 403.64 L 686.6 403.64 Q 686.984 402.296 687.608 401 L 687.608 401 L 687.608 401 Q 688.232 399.704 689.192 398.648 L 689.192 398.648 L 689.192 398.648 Q 690.152 397.592 691.688 396.872 L 691.688 396.872 L 691.688 396.872 Q 693.224 396.152 695.528 396.056 L 695.528 396.056 L 695.528 396.056 Q 692.168 396.056 691.112 393.944 L 691.112 393.944 L 691.112 393.944 Q 690.056 391.832 690.92 388.952 L 690.92 388.952 L 699.08 361.208 L 713.672 361.208 L 705.608 388.76 L 705.608 388.76 Q 705.224 390.104 705.8 390.536 L 705.8 390.536 L 705.8 390.536 Q 706.376 390.968 707.528 390.968 L 707.528 390.968 L 710.12 390.968 L 710.12 390.968 Q 711.176 390.968 711.848 390.536 L 711.848 390.536 L 711.848 390.536 Q 712.52 390.104 713 388.472 L 713 388.472 L 721.064 361.208 L 735.656 361.208 Z ",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 720.296 431 L 740.84 361.208 L 768.488 361.208 L 768.488 361.208 Q 772.424 361.208 773.864 363.656 L 773.864 363.656 L 773.864 363.656 Q 775.304 366.104 774.44 369.08 L 774.44 369.08 L 758.984 421.592 L 758.984 421.592 Q 758.12 424.664 756.824 426.536 L 756.824 426.536 L 756.824 426.536 Q 755.528 428.408 753.56 429.416 L 753.56 429.416 L 753.56 429.416 Q 751.592 430.424 748.904 430.712 L 748.904 430.712 L 748.904 430.712 Q 746.216 431 742.472 431 L 742.472 431 L 720.296 431 Z  M 756.584 372.44 L 751.976 372.44 L 738.152 419.384 L 742.76 419.384 L 742.76 419.384 Q 744.488 419.384 745.16 418.808 L 745.16 418.808 L 745.16 418.808 Q 745.832 418.232 746.216 416.984 L 746.216 416.984 L 758.408 375.512 L 758.408 375.512 Q 758.888 373.976 758.552 373.208 L 758.552 373.208 L 758.552 373.208 Q 758.216 372.44 756.584 372.44 L 756.584 372.44 Z ",fillRule:"evenodd",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 608.48 405.752 L 605.408 416.216 L 599.456 416.216 L 595.04 431 L 580.64 431 L 585.056 416.216 L 564.224 416.216 L 568.448 401.528 L 595.52 361.208 L 615.68 361.208 L 602.528 405.752 L 608.48 405.752 Z  M 580.544 405.752 L 588.032 405.752 L 595.424 380.408 L 580.928 404.504 L 580.544 405.752 Z ",fillRule:"evenodd",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 403.136 361.208 L 382.592 431 L 368.192 431 L 376.832 401.528 L 369.536 401.528 L 360.8 431 L 346.4 431 L 366.944 361.208 L 381.344 361.208 L 373.184 389.144 L 380.48 389.144 L 388.736 361.208 L 403.136 361.208 Z ",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 414.944 362.208 L 435.872 362.208 L 435.872 362.208 Q 439.232 362.208 440.816 364.656 L 440.816 364.656 L 440.816 364.656 Q 442.4 367.104 441.536 370.176 L 441.536 370.176 L 425.504 424.608 L 425.504 424.608 Q 424.16 428.928 421.04 430.464 L 421.04 430.464 L 421.04 430.464 Q 417.92 432 414.272 432 L 414.272 432 L 397.088 432 L 397.088 432 Q 395.264 432 393.728 431.376 L 393.728 431.376 L 393.728 431.376 Q 392.192 430.752 391.184 429.504 L 391.184 429.504 L 391.184 429.504 Q 390.176 428.256 389.84 426.48 L 389.84 426.48 L 389.84 426.48 Q 389.504 424.704 390.176 422.496 L 390.176 422.496 L 405.92 369.024 L 405.92 369.024 Q 406.688 365.952 409.04 364.08 L 409.04 364.08 L 409.04 364.08 Q 411.392 362.208 414.944 362.208 L 414.944 362.208 Z  M 424.448 372.44 L 420.8 372.44 L 420.8 372.44 Q 419.744 372.44 419.264 372.92 L 419.264 372.92 L 419.264 372.92 Q 418.784 373.4 418.592 374.168 L 418.592 374.168 L 405.728 417.656 L 405.728 417.656 Q 405.248 419.384 407.072 419.384 L 407.072 419.384 L 410.816 419.384 L 410.816 419.384 Q 412.64 419.384 413.12 417.656 L 413.12 417.656 L 425.888 374.264 L 425.888 374.264 Q 426.368 372.44 424.448 372.44 L 424.448 372.44 Z ",fillRule:"evenodd",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 456.032 361.208 L 480.032 361.208 L 476.288 373.784 L 461.312 373.784 L 461.312 373.784 Q 460.16 373.784 459.536 374.168 L 459.536 374.168 L 459.536 374.168 Q 458.912 374.552 458.528 375.896 L 458.528 375.896 L 446.528 416.6 L 446.528 416.6 Q 445.76 419.384 448.736 419.384 L 448.736 419.384 L 453.632 419.384 L 458.912 401.528 L 455.936 401.528 L 459.584 389.144 L 476.288 389.144 L 464.768 428.312 L 448.64 436.472 L 450.176 431 L 441.248 431 L 441.248 431 Q 438.752 431 436.64 430.28 L 436.64 430.28 L 436.64 430.28 Q 434.528 429.56 433.136 427.976 L 433.136 427.976 L 433.136 427.976 Q 431.744 426.392 431.312 423.944 L 431.312 423.944 L 431.312 423.944 Q 430.88 421.496 431.936 418.04 L 431.936 418.04 L 446.72 367.736 L 446.72 367.736 Q 447.872 363.8 450.224 362.504 L 450.224 362.504 L 450.224 362.504 Q 452.576 361.208 456.032 361.208 L 456.032 361.208 Z ",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 503.648 361.208 L 503.552 361.208 L 487.328 416.408 L 487.328 416.408 Q 486.848 418.04 487.472 418.664 L 487.472 418.664 L 487.472 418.664 Q 488.096 419.288 489.728 419.288 L 489.728 419.288 L 493.472 419.288 L 510.56 361.208 L 524.96 361.208 L 505.184 428.312 Q 505.17 428.341 504.62 428.413 Q 498.832 431.016 490.112 431 L 481.76 431 L 481.76 431 Q 479.072 431 476.912 430.28 L 476.912 430.28 L 476.912 430.28 Q 474.752 429.56 473.408 427.976 L 473.408 427.976 L 473.408 427.976 Q 472.064 426.392 471.728 423.944 L 471.728 423.944 L 471.728 423.944 Q 471.392 421.496 472.448 418.04 L 472.448 418.04 L 489.152 361.208 L 503.648 361.208 Z ",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 509.216 431 L 529.76 361.208 L 542.144 361.208 L 542.624 388.184 L 550.592 361.208 L 564.608 361.208 L 544.064 431 L 532.448 431 L 531.2 403.16 L 522.848 431 L 509.216 431 Z ",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 317.72 375.896 L 343.928 375.896 L 343.928 375.896 Q 346.712 375.896 348.872 376.664 L 348.872 376.664 L 348.872 376.664 Q 351.032 377.432 352.328 379.112 L 352.328 379.112 L 352.328 379.112 Q 353.624 380.792 353.864 383.384 L 353.864 383.384 L 353.864 383.384 Q 354.104 385.976 353.048 389.624 L 353.048 389.624 L 343.256 422.936 L 343.256 422.936 Q 342.488 425.528 341.096 427.112 L 341.096 427.112 L 341.096 427.112 Q 339.704 428.696 338.024 429.56 L 338.024 429.56 L 338.024 429.56 Q 336.344 430.424 334.472 430.712 L 334.472 430.712 L 334.472 430.712 Q 332.6 431 330.776 431 L 330.776 431 L 311.864 431 L 311.864 431 Q 307.736 431 305.48 428.024 L 305.48 428.024 L 305.48 428.024 Q 303.224 425.048 304.664 420.248 L 304.664 420.248 L 309.464 403.736 L 324.728 403.736 L 321.08 415.832 L 321.08 415.832 Q 320.696 417.08 321.272 417.416 L 321.272 417.416 L 321.272 417.416 Q 321.848 417.752 322.712 417.752 L 322.712 417.752 L 326.36 417.752 L 326.36 417.752 Q 327.704 417.752 328.376 417.32 L 328.376 417.32 L 328.376 417.32 Q 329.048 416.888 329.432 415.544 L 329.432 415.544 L 337.208 389.24 L 337.208 389.24 Q 337.4 388.664 337.256 388.28 L 337.256 388.28 L 337.256 388.28 Q 337.112 387.896 336.152 387.896 L 336.152 387.896 L 314.168 387.896 L 317.72 375.896 Z ",fill:"rgb(171,171,171)"}),i.a.createElement("path",{d:" M 333.729 375.977 L 317.697 375.977 L 327.489 341.029 L 327.489 341.029 Q 328.257 338.294 329.505 336.572 L 329.505 336.572 L 329.505 336.572 Q 330.753 334.85 332.337 333.888 L 332.337 333.888 L 332.337 333.888 Q 333.921 332.925 335.745 332.621 L 335.745 332.621 L 335.745 332.621 Q 337.569 332.318 339.393 332.318 L 339.393 332.318 L 369.249 332.318 L 361.281 361.086 L 345.057 364.935 L 350.433 345.79 L 344.385 345.79 L 344.385 345.79 Q 343.041 345.79 342.417 346.246 L 342.417 346.246 L 342.417 346.246 Q 341.793 346.702 341.409 348.12 L 341.409 348.12 L 333.729 375.977 Z ",fill:"rgb(171,171,171)"}))),i.a.createElement("div",{id:"logo-subtext"},i.a.createElement("span",{id:"logo-subtext-bold"},i.a.createElement("span",null,"Re"),i.a.createElement("span",{style:{letterSpacing:"-0.15625rem"}},"a"),i.a.createElement("span",null,"ct")),i.a.createElement("span",{style:{marginLeft:"0.5rem"}},"Instrument")))},de=function(){return i.a.createElement("div",{id:"global-controls"},fe(),ve())},fe=function(){return i.a.createElement("div",null,i.a.createElement(B,Object.assign({},me,{name:"volume",value:u,size:"large"})))},ve=function(){return i.a.createElement("div",{id:"envelope-controls"},i.a.createElement("div",null,i.a.createElement(B,Object.assign({},me,{name:"attack",value:h,size:"small"}))),i.a.createElement("div",null,i.a.createElement(B,Object.assign({},me,{name:"decay",value:d,size:"small"}))),i.a.createElement("div",null,i.a.createElement(B,Object.assign({},me,{name:"sustain",value:f,size:"small"}))),i.a.createElement("div",null,i.a.createElement(B,Object.assign({},me,{name:"release",value:v,size:"small"}))))},pe=function(){return i.a.createElement("div",{id:"oscillators",className:"control-section"},i.a.createElement("div",{className:"control-wrapper horizontal"},i.a.createElement("div",{className:"controls-container-label"},"OSC 1"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(A,Object.assign({},me,{name:"osc1Shape",label:"shape",value:b})),i.a.createElement(A,Object.assign({},me,{name:"osc1Octave",label:"octave",value:y})),i.a.createElement(A,Object.assign({},me,{name:"osc1Transpose",label:"trans",value:E})),i.a.createElement(B,Object.assign({},me,{name:"osc1Detune",label:"tune",value:O,size:"medium"})),i.a.createElement(B,Object.assign({},me,{name:"osc1Gain",label:"vol",value:w,size:"medium"})))),i.a.createElement("div",{className:"control-wrapper horizontal"},i.a.createElement("div",{className:"controls-container-label"},"OSC 2"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(A,Object.assign({},me,{name:"osc2Shape",label:"shape",value:k,type:"single-digit"})),i.a.createElement(A,Object.assign({},me,{name:"osc2Octave",label:"octave",value:Q})),i.a.createElement(A,Object.assign({},me,{name:"osc2Transpose",label:"trans",value:D})),i.a.createElement(B,Object.assign({},me,{name:"osc2Detune",label:"tune",value:x,size:"medium"})),i.a.createElement(B,Object.assign({},me,{name:"osc2Gain",label:"vol",value:S,size:"medium"})))))},Le=function(){return i.a.createElement("div",{id:"mod-oscillator",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"MOD OSC"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(A,Object.assign({},me,{name:"modOscShape",label:"shape",value:z,type:"single-digit"})),i.a.createElement(B,Object.assign({},me,{name:"modOscFreq",label:"freq",value:j,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"modOscGain",label:"vol",value:V,size:"small"})))))};return i.a.createElement("div",{id:"synth"},i.a.createElement("div",{id:"synth-left"},i.a.createElement("div",{id:"synth-top-left"},i.a.createElement(A,Object.assign({},me,{name:"polyphony",label:"poly",control:N.polyphony,value:m})),i.a.createElement("br",null),i.a.createElement(A,Object.assign({},me,{name:"layout",control:N.layout,value:c,outline:!0})))),i.a.createElement("div",{id:"synth-right"},i.a.createElement("div",{id:"synth-right-top"},i.a.createElement("div",{id:"global-section"},he(),de()),i.a.createElement("div",{id:"mode-selector",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"MODE"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(R,Object.assign({},me,{name:"mode",value:"sampler",active:"sampler"===p,size:"large"})),i.a.createElement(R,Object.assign({},me,{name:"mode",value:"synth",active:"synth"===p,size:"large"}))))),p===C&&i.a.createElement("div",{id:"sampler",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"SAMPLER"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(A,Object.assign({},me,{name:"sample",value:L})),i.a.createElement(G,Object.assign({},me,{name:"sample",label:"load",value:"load",blinking:s,active:l,type:"file",accept:M.join(", "),size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"samplePitch",label:"pitch",value:g,size:"small"}))))),p===_&&i.a.createElement(i.a.Fragment,null,pe(),Le()),i.a.createElement("div",{id:"filters",className:"control-section"},i.a.createElement("div",{className:"control-wrapper horizontal"},i.a.createElement("div",{className:"controls-container-label"},"FILTER 1"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(A,Object.assign({},me,{name:"filter1Type",label:"type",value:q})),i.a.createElement(A,Object.assign({},me,{name:"filter1Rolloff",label:"steep",value:K})),i.a.createElement(B,Object.assign({},me,{name:"filter1Freq",label:"cutoff",value:W,size:"medium"})),i.a.createElement(B,Object.assign({},me,{name:"filter1Q",label:"res",value:F,size:"medium"})))),i.a.createElement("div",{className:"control-wrapper horizontal"},i.a.createElement("div",{className:"controls-container-label"},"FILTER 2"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(A,Object.assign({},me,{name:"filter2Type",label:"type",value:P})),i.a.createElement(A,Object.assign({},me,{name:"filter2Rolloff",label:"steep",value:U})),i.a.createElement(B,Object.assign({},me,{name:"filter2Freq",label:"cutoff",value:Z,size:"medium"})),i.a.createElement(B,Object.assign({},me,{name:"filter2Q",label:"res",value:I,size:"medium"}))))),i.a.createElement("div",{id:"vibrato",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"VIBRATO"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(B,Object.assign({},me,{name:"vibratoDepth",label:"depth",value:Y,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"vibratoFreq",label:"freq",value:H,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"vibratoWet",label:"wet",value:J,size:"small"}))))),i.a.createElement("div",{id:"chorus",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"CHORUS"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(B,Object.assign({},me,{name:"chorusSpread",label:"spread",value:X,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"chorusDepth",label:"depth",value:$,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"chorusWet",label:"wet",value:ee,size:"small"}))))),i.a.createElement("div",{id:"distortion",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"BITCRUSHER"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(A,Object.assign({},me,{name:"crusherBits",label:"bits",value:te})),i.a.createElement(B,Object.assign({},me,{name:"crusherWet",label:"wet",value:ae,size:"small"}))))),i.a.createElement("div",{id:"distortion",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"DISTORTION"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(B,Object.assign({},me,{name:"distAmount",label:"amount",value:ne,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"distWet",label:"wet",value:ie,size:"small"}))))),i.a.createElement("div",{id:"pitcher",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"PITCHER"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(B,Object.assign({},me,{name:"pitcherPitch",label:"pitch",value:oe,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"pitcherWindow",label:"slice",value:re,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"pitcherWet",label:"wet",value:se,size:"small"}))))),i.a.createElement("div",{id:"reverb",className:"control-section"},i.a.createElement("div",{className:"control-wrapper vertical"},i.a.createElement("div",{className:"controls-container-label"},"REVERB"),i.a.createElement("div",{className:"controls-container"},i.a.createElement(B,Object.assign({},me,{name:"reverbSize",label:"size",value:le,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"reverbDampening",label:"damp",value:ce,size:"small"})),i.a.createElement(B,Object.assign({},me,{name:"reverbWet",label:"wet",value:ue,size:"small"})))))),i.a.createElement("div",{id:"synth-right-bottom"},i.a.createElement(T,e))))},Z=function(){function e(t,a,n,i,o,r,s,l,c,u,h,d,f,v,p,g,b,y,E,O,w,M,Q,D,x,S,z,N,V,K,W,F,P,T,R,G,A,B,U,Z,I,Y,H,J,X,$,ee,te){var ae=this,ne=arguments;Object(m.a)(this,e),this.initializeMaster=function(){ae.master=L.Master},this.initializeReverb=function(){ae.reverb=new L.Freeverb,ae.reverb.connect(ae.master)},this.initializePitcher=function(){ae.pitcher=new L.PitchShift,ae.pitcher.connect(ae.reverb)},this.initializeDistortion=function(){ae.distortion=new L.Distortion,ae.distortion.connect(ae.pitcher)},this.initializeBitcrusher=function(){ae.bitcrusher=new L.BitCrusher,ae.bitcrusher.connect(ae.distortion)},this.initializeChorus=function(){ae.chorus=new L.Chorus,ae.chorus.connect(ae.distortion)},this.initializeVibrato=function(){ae.vibrato=new L.Vibrato,ae.vibrato.connect(ae.chorus)},this.initializeFilters=function(){ae.filter1=new L.Filter(0,"lowpass",-12),ae.filter2=new L.Filter(0,"lowpass",-12),ae.filter1.connect(ae.filter2),ae.filter2.connect(ae.vibrato)},this.initializeSampler=function(){ae.sampler=new L.Sampler({C5:k[0]},(function(e){return console.log("sampler buffers loaded: ",e)})),ae.sampler.connect(ae.filter1)},this.initializeOscillators=function(){ae.osc1=new L.PolySynth(ae.polyphony,L.FMSynth),ae.osc2=new L.PolySynth(ae.polyphony,L.FMSynth),ae.oscillators=[ae.osc1,ae.osc2],ae.oscillators.forEach((function(e){e.connect(ae.filter1)}))},this.initializeValues=function(){j.forEach((function(e){"polyphony"!==e&&(ae[e]=ae["_".concat(e)])})),ae.envelope="set",ae.freqs=[]},this.playKey=function(e){ae.playKeys([e])},this.playKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){if(ae.freqs.push(e),ae.mode===_){var t=q(e,ae._osc1Octave,ae._osc1Transpose),a=q(e,ae._osc2Octave,ae._osc2Transpose);ae.osc1.triggerAttack(t,ae._audioContext.now(),1),ae.osc2.triggerAttack(a,ae._audioContext.now(),1)}else ae.mode===C&&ae.sampler.loaded&&ae.sampler.triggerAttack(q(e,6,ae.samplePitch),ae._audioContext.now(),1)}))},this.stopKey=function(e){if(ae.freqs.splice(ae.freqs.indexOf(e),1),ae.mode===_){var t=q(e,ae._osc1Octave,ae._osc1Transpose),a=q(e,ae._osc2Octave,ae._osc2Transpose);ae.osc1.triggerRelease(t,ae._audioContext.now()),ae.osc2.triggerRelease(a,ae._audioContext.now())}else ae.mode===C&&ae.sampler.triggerRelease(q(e,6,ae.samplePitch),ae._audioContext.now())},this.stopKeys=function(){ae.osc1.releaseAll(),ae.osc2.releaseAll(),ae.sampler.releaseAll(),ae.freqs=[]},this.retriggerKeys=function(){ae.stoppedFreqs=ae.freqs,ae.stopKeys(),ae.playKeys(ae.stoppedFreqs)},this.hasPortamento=function(){return 0!==ae.portamento},this.set=function(e,t){console.log("setting ".concat(e," to ").concat(t)),ae[e]=t},this._active=!1,this._app=t,this._audioContext=a,j.forEach((function(e,t){return ae["_".concat(e)]=ne[t+2]})),this.initializeMaster(),this.initializeReverb(),this.initializePitcher(),this.initializeDistortion(),this.initializeBitcrusher(),this.initializeChorus(),this.initializeVibrato(),this.initializeFilters(),this.initializeSampler(),this.initializeOscillators(),this.initializeValues()}return Object(h.a)(e,[{key:"volume",get:function(){return K(this._volume)},set:function(e){this._volume=e,this.master.volume.value=this.volume}},{key:"polyphony",get:function(){return this._polyphony},set:function(e){this._polyphony=e,this.initializeOscillators(),this.initializeValues()}},{key:"portamento",get:function(){return this._portamento/500},set:function(e){var t=this;this._portamento=e,this.oscillators.forEach((function(e){return e.set("portamento",t.portamento)}))}},{key:"envelope",get:function(){return{attackCurve:"exponential",decayCurve:"exponential",releaseCurve:"exponential",attack:this.attack,decay:this.decay,sustain:this.sustain,release:this.release}},set:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.oscillators.forEach((function(t){return t.set({envelope:e.envelope,modulationEnvelope:e.envelope})}))}},{key:"attack",get:function(){return F(this._attack)},set:function(e){var t=this;this._attack=e,this.oscillators.forEach((function(e){return e.set({envelope:{attack:t.attack}})})),this.sampler.attack=this.attack}},{key:"decay",get:function(){return F(this._decay)},set:function(e){var t=this;this._decay=e,this.oscillators.forEach((function(e){return e.set({envelope:{decay:t.decay}})})),this.sampler.decay=this.decay}},{key:"sustain",get:function(){return this._sustain/100},set:function(e){var t=this;this._sustain=e,this.oscillators.forEach((function(e){return e.set({envelope:{sustain:t.sustain}})})),this.sampler.sustain=this.sustain}},{key:"release",get:function(){return F(this._release)},set:function(e){var t=this;this._release=e,this.oscillators.forEach((function(e){return e.set({envelope:{release:t.release}})})),this.sampler.release=this.release}},{key:"mode",get:function(){return this._mode},set:function(e){this._mode=e,this.stopKeys()}},{key:"sample",get:function(){return k[this._sample]||this._sample},set:function(e){var t=this;this._sample=e,this._app.setState({sampleLoaded:!1,sampleLoading:!0});var a=new L.Buffer(this.sample,(function(){console.log("buffer loaded"),t.sampler.add("C5",a,(function(){console.log("sample loaded"),t._app.setState({sampleLoaded:!0,sampleLoading:!1})}))}),(function(e){console.log("error loading sample: ",e),t._app.setState({sampleLoaded:!1,sampleLoading:!1})}))}},{key:"samplePitch",get:function(){return this._samplePitch},set:function(e){this._samplePitch=e,this.retriggerKeys()}},{key:"osc1Shape",get:function(){return Q[this._osc1Shape]},set:function(e){this._osc1Shape=e,this.osc1.set({oscillator:{type:this.osc1Shape}})}},{key:"osc2Shape",get:function(){return Q[this._osc2Shape]},set:function(e){this._osc2Shape=e,this.osc2.set({oscillator:{type:this.osc2Shape}})}},{key:"osc1Octave",get:function(){return this._osc1Octave},set:function(e){this._osc1Octave=e,this.retriggerKeys()}},{key:"osc2Octave",get:function(){return this._osc2Octave},set:function(e){this._osc2Octave=e,this.retriggerKeys()}},{key:"osc1Transpose",get:function(){return this._osc1Transpose},set:function(e){this._osc1Transpose=e,this.retriggerKeys()}},{key:"osc2Transpose",get:function(){return this._osc2Transpose},set:function(e){this._osc2Transpose=e,this.retriggerKeys()}},{key:"osc1Detune",get:function(){return this._osc1Detune},set:function(e){this._osc1Detune=e,this.osc1.set("detune",this.osc1Detune)}},{key:"osc2Detune",get:function(){return this._osc2Detune},set:function(e){this._osc2Detune=e,this.osc2.set("detune",this.osc2Detune)}},{key:"osc1Gain",get:function(){return K(this._osc1Gain)},set:function(e){this._osc1Gain=e,this.osc1.set("volume",this.osc1Gain)}},{key:"osc2Gain",get:function(){return K(this._osc2Gain)},set:function(e){this._osc2Gain=e,this.osc2.set("volume",this.osc2Gain)}},{key:"modOscShape",get:function(){return Q[this._modOscShape]},set:function(e){var t=this;this._modOscShape=e,this.oscillators.forEach((function(e){return e.set({modulation:{type:t.modOscShape}})}))}},{key:"modOscFreq",get:function(){return e=this._modOscFreq,Math.pow(2,(e-50)/10);var e},set:function(e){var t=this;this._modOscFreq=e,this.oscillators.forEach((function(e){return e.set({harmonicity:t.modOscFreq})}))}},{key:"modOscGain",get:function(){return this._modOscGain},set:function(e){var t=this;this._modOscGain=e,this.oscillators.forEach((function(e){return e.set({modulationIndex:t.modOscGain})}))}},{key:"filter1Type",get:function(){return D[this._filter1Type]},set:function(e){this._filter1Type=e,this.filter1.type=this.filter1Type}},{key:"filter2Type",get:function(){return D[this._filter2Type]},set:function(e){this._filter2Type=e,this.filter2.type=this.filter2Type}},{key:"filter1Rolloff",get:function(){return x[this._filter1Rolloff]},set:function(e){this._filter1Rolloff=e,this.filter1.rolloff=this.filter1Rolloff}},{key:"filter2Rolloff",get:function(){return x[this._filter2Rolloff]},set:function(e){this._filter2Rolloff=e,this.filter2.rolloff=this.filter2Rolloff}},{key:"filter1Freq",get:function(){return W(this._filter1Freq)},set:function(e){this._filter1Freq=e,this.filter1.frequency.value=this.filter1Freq}},{key:"filter2Freq",get:function(){return W(this._filter2Freq)},set:function(e){this._filter2Freq=e,this.filter2.frequency.value=this.filter2Freq}},{key:"filter1Q",get:function(){return Math.pow(this._filter1Q,2)/100},set:function(e){this._filter1Q=e,this.filter1.Q.value=this.filter1Q}},{key:"filter2Q",get:function(){return Math.pow(this._filter2Q,2)/100},set:function(e){this._filter2Q=e,this.filter2.Q.value=this.filter2Q}},{key:"vibratoDepth",get:function(){return this._vibratoDepth/100},set:function(e){this._vibratoDepth=e,this.vibrato.depth.value=this.vibratoDepth}},{key:"vibratoFreq",get:function(){return this._vibratoFreq/10},set:function(e){this._vibratoFreq=e,this.vibrato.frequency.value=this.vibratoFreq}},{key:"vibratoWet",get:function(){return this._vibratoWet/100},set:function(e){this._vibratoWet=e,this.vibrato.wet.value=this.vibratoWet}},{key:"chorusSpread",get:function(){return this._chorusSpread},set:function(e){this._chorusSpread=e,this.chorus.spread=this.chorusSpread}},{key:"chorusDepth",get:function(){return this._chorusDepth/100},set:function(e){this._chorusDepth=e,this.chorus.depth=this.chorusDepth}},{key:"chorusDelay",get:function(){return this._chorusDelay},set:function(e){this._chorusDelay=e,this.chorus.delay=this.chorusDelay}},{key:"chorusWet",get:function(){return this._chorusWet/100},set:function(e){this._chorusWet=e,this.chorus.wet.value=this._chorusWet}},{key:"crusherBits",get:function(){return this._crusherBits},set:function(e){this._crusherBits=e,this.bitcrusher.bits=this.crusherBits}},{key:"crusherWet",get:function(){return this._crusherWet/100},set:function(e){this._crusherWet=e,this.bitcrusher.wet.value=this.crusherWet}},{key:"distOver",get:function(){return S[this._distOver]},set:function(e){this._distOver=e,this.distortion.oversample=this.distOver}},{key:"distAmount",get:function(){return this._distAmount/100},set:function(e){this._distAmount=e,this.distortion.distortion=this.distAmount}},{key:"distWet",get:function(){return this._distWet/100},set:function(e){this._distWet=e,this.distortion.wet.value=this.distWet}},{key:"pitcherPitch",get:function(){return this._pitcherPitch},set:function(e){this._pitcherPitch=e,this.pitcher.pitch=this.pitcherPitch}},{key:"pitcherWindow",get:function(){return this._pitcherWindow/1e3},set:function(e){this._pitcherWindow=e,this.pitcher.windowSize=this.pitcherWindow}},{key:"pitcherWet",get:function(){return this._pitcherWet/100},set:function(e){this._pitcherWet=e,this.pitcher.wet.value=this.pitcherWet}},{key:"reverbSize",get:function(){return this._reverbSize/100},set:function(e){this._reverbSize=e,this.reverb.roomSize.value=this.reverbSize}},{key:"reverbDampening",get:function(){return W(this._reverbDampening)},set:function(e){this._reverbDampening=e,this.reverb.dampening.value=this.reverbDampening}},{key:"reverbWet",get:function(){return this._reverbWet/100},set:function(e){this._reverbWet=e,this.reverb.wet.value=this.reverbWet}}]),e}(),I=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=function(){a.initializeSoundEngine(),a.registerEvents()},a.componentWillUnmount=function(){},a.registerEvents=function(){document.addEventListener("keydown",a.handleKeyDown),document.addEventListener("keyup",a.handleKeyUp),document.addEventListener("mousedown",a.handleMouseDown),document.addEventListener("mouseup",a.handleMouseUp),document.addEventListener("mouseleave",a.handleMouseLeave),document.addEventListener("mouseout",a.handleMouseOut),document.addEventListener("drag",(function(e){return e.preventDefault()})),document.addEventListener("dragend",(function(e){return e.preventDefault()})),document.addEventListener("dragenter",(function(e){return e.preventDefault()})),document.addEventListener("dragexit",(function(e){return e.preventDefault()})),document.addEventListener("dragleave",(function(e){return e.preventDefault()})),document.addEventListener("dragover",(function(e){return e.preventDefault()})),document.addEventListener("dragstart",(function(e){return e.preventDefault()})),document.addEventListener("drop",(function(e){return e.preventDefault()}))},a.initializeSoundEngine=function(){a.audioContext=new L.Context,a.setOutputFromState()},a.setOutputFromState=function(){var e=j.map((function(e){return a.state[e]}));a.output=Object(c.a)(Z,[Object(v.a)(a),a.audioContext].concat(Object(u.a)(e)))},a.resumeAudioContext=function(){a.state.audioContextStarted||(a.audioContext.resume(),a.setState({audioContextStarted:!0}))},a.handleKeyDown=function(e){e.preventDefault();var t=e.key.toLowerCase(),n=g[a.state.layout][t];n?a.activatePianoKey(n):"control"!==t&&"command"!==t||a.setState({activeModifierKey:!0}),a.resumeAudioContext()},a.handleKeyUp=function(e){var t=e.key.toLowerCase();"control"!==t&&"command"!==t||a.setState({activeModifierKey:!1});var n=g[a.state.layout][t];n&&a.deactivatePianoKey(n)},a.handleMouseDown=function(e){a.resumeAudioContext()},a.handleMouseUp=function(e){a.mouseDownOnKeys=!1,a.state.activeControl&&a.setState({activeControl:null,activeModifierKey:!1})},a.handleMouseLeave=function(e){},a.handleMouseOut=function(e){},a.handleMouseDownPianoKey=function(e){0===e.button&&(a.activatePianoKey(e.target.title),a.mouseDownOnKeys=!0)},a.handleMouseUpPianoKey=function(e){0===e.button&&(a.mouseDownOnKeys=!1,a.deactivatePianoKey(e.target.title))},a.handleMouseOverPianoKey=function(e){},a.handleMouseLeavePianoKey=function(e){a.mouseDownOnKeys&&a.deactivatePianoKey(e.target.title)},a.activatePianoKey=function(e){a.state.activeKeys.includes(e)||(a.output.playKey(E[e].freq),a.setState((function(t){return{activeKeys:[].concat(Object(u.a)(t.activeKeys),[e])}})))},a.deactivatePianoKey=function(e){a.state.activeKeys.includes(e)&&(a.output.stopKey(E[e].freq),a.setState((function(t){return{activeKeys:t.activeKeys.filter((function(t){return t!==e}))}})))},a.handleClickControl=function(e,t){a.setControlValue(e,t)},a.handleMouseDownControl=function(e,t,n){0===n.button&&(a.state.activeModifierKey?a.resetControlValue(e):a.activateControl(e,t,n.screenY))},a.handleMouseUpControl=function(e,t){0===t.button&&a.deactivateControl(e)},a.handleMouseMoveControl=function(e){var t=a.state,n=t.activeModifierKey,i=t.activeControl,o=t.activeControlType,r=t.activeScreenY;if(i){var s=z[o].pixelStep||5;n&&(s*=10);var c=Math.abs(e.screenY-r),u=0;if(e.screenY-s>r?u=Math.round(-c/s):e.screenY+s<r&&(u=Math.round(c/s)),u){var m=Object(l.a)({},a.state);m.activeScreenY=e.screenY,a.setState(m),a.changeControlValue(i,u)}}},a.handleMouseWheelControl=function(e,t,a){return!1},a.activateControl=function(e,t,n){document.addEventListener("mousemove",a.handleMouseMoveControl),a.setState({activeControl:e,activeControlType:t,activeScreenY:n})},a.deactivateControl=function(e){document.removeEventListener("mousemove",a.handleMouseMoveControl),a.setState({activeControl:null})},a.changeControlValue=function(e,t){var n=N[e].range,i=Number.isInteger(a.state[e])?a.state[e]+t:0;n&&(i=function(e,t){var a=t.min,n=t.max;return e>n?n:e<a?a:e}(i,n)),a.setControlValue(e,i)},a.setControlValue=function(e,t){console.log("setControlValue",e,t),a.output.set(e,t),a.setState(Object(s.a)({},e,t))},a.resetControlValue=function(e){console.log("resetControlValue",e),a.setState(Object(s.a)({},e,N[e].defaultValue))},a.layout=e.layout||0,a.octaves=e.octaves,(!a.octaves||!Number.isInteger(a.octaves)||a.octaves>10||a.octaves<4)&&(a.octaves=6),a.state=Object(l.a)({activeKeys:[],activeControl:null,activeControlType:null,activeScreenY:null,activeModifierKey:!1,audioContextStarted:!1,octaves:a.octaves,layout:a.layout},V),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"container"},i.a.createElement(U,Object.assign({},this.state,{handleMouseDownPianoKey:this.handleMouseDownPianoKey,handleMouseUpPianoKey:this.handleMouseUpPianoKey,handleMouseOverPianoKey:this.handleMouseOverPianoKey,handleMouseLeavePianoKey:this.handleMouseLeavePianoKey,handleClickControl:this.handleClickControl,handleMouseDownControl:this.handleMouseDownControl,handleMouseUpControl:this.handleMouseUpControl,handleMouseWheelControl:this.handleMouseWheelControl})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.e5bc5fbc.chunk.js.map